{"version":3,"sources":["./src/app/pages/compras/compra-nacional/crear-compra-nacional/crear-compra-nacional.component.ts","./src/app/pages/compras/compra-nacional/crear-compra-nacional/crear-compra-nacional.component.html","./src/app/pages/compras/compra-nacional/compra-nacional.component.ts","./src/app/pages/compras/compra-nacional/compra-nacional.component.html","./src/app/pages/compras/compras-routing.module.ts","./src/app/pages/compras/compra-nacional/ver-compra-nacional/ver-compra-nacional.component.ts","./src/app/pages/compras/compra-nacional/ver-compra-nacional/ver-compra-nacional.component.html","./src/app/pages/compras/compras.module.ts"],"names":[],"mappings":"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","file":"compras-compras-module.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport swal, { SweetAlertOptions } from 'sweetalert2';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { ModalDismissReasons, NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { User } from 'src/app/core/models/users.model';\r\n\r\n@Component({\r\n  selector: 'app-crear-compra-nacional',\r\n  templateUrl: './crear-compra-nacional.component.html',\r\n  styleUrls: ['./crear-compra-nacional.component.scss'],\r\n})\r\nexport class CrearCompraNacionalComponent implements OnInit {\r\n  public userF : User;\r\n  closeResult = '';\r\n  public openConfirm(confirm){\r\n    this.modalService.open(confirm, { ariaLabelledBy: 'modal-basic-title', size: 'xl' }).result.then((result) => {\r\n      this.closeResult = `Closed with: ${result}`;\r\n    }, (reason) => {\r\n      this.closeResult = `Dismissed ${this.getDismissReason(reason)}`;\r\n    });\r\n  }\r\n  private getDismissReason(reason: any): string {\r\n    if (reason === ModalDismissReasons.ESC) {\r\n      return 'by pressing ESC';\r\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\r\n      return 'by clicking on a backdrop';\r\n    } else {\r\n      return `with: ${reason}`;\r\n    }\r\n  }\r\n  tipoMaterial = ['Activo_Fijo', 'Medicamento', 'Material', 'Dotacion_EPP'];\r\n  public reducer = (accumulator, currentValue) =>\r\n    accumulator + parseFloat(currentValue.Cantidad);\r\n  public reducer1 = (accumulator, currentValue) =>\r\n    accumulator + parseFloat(currentValue.Costo);\r\n  public reducer2 = (accumulator, currentValue) =>\r\n    accumulator + parseFloat(currentValue.Iva_Acu);\r\n  public reducer3 = (accumulator, currentValue) =>\r\n    accumulator + parseFloat(currentValue.Total);\r\n\r\n  public alertOption: SweetAlertOptions = {};\r\n  public Cargando: boolean = false;\r\n  public ListaProductos: any[] = [];\r\n  public Lista_Productos: any = [\r\n    {\r\n      producto: '',\r\n      Presentacion: '',\r\n      Costo: 0,\r\n      Total: 0,\r\n      Cantidad: null,\r\n      Iva: 0,\r\n      Rotativo: 0,\r\n      Id_Producto: '',\r\n      Iva_Disa: true,\r\n      editar: false,\r\n      delete: false,\r\n      Iva_Acu: 0,\r\n    },\r\n  ];\r\n  public fecha = new Date();\r\n  public Bodegas: any = [];\r\n  public TipoBodega: string = 'Bodega';\r\n  public Proveedores: any = [];\r\n  public id = this.route.snapshot.params['id'];\r\n  public precompra = JSON.parse(localStorage.getItem('Compra'));\r\n\r\n  public Id_Proveedor: any = '';\r\n\r\n  public TamanoPrecompra: any;\r\n  public Rotativo = false;\r\n  public Subtotal = 0;\r\n  public Iva = 0;\r\n  public Total = 0;\r\n\r\n  public Cantidad_v = 0;\r\n  public Costo_v = 0;\r\n  public Iva_v: any = 0;\r\n  public Subtotal_F = 0;\r\n  public Iva_F = 0;\r\n  public Total_F = 0;\r\n  public Subtotal_v = 0;\r\n\r\n  public Nombre: string = '';\r\n  public NombreProveedor: string = '';\r\n  public Impuestos: any;\r\n  public Iva_Disa: boolean = true;\r\n  public product: any[] = [];\r\n  public Productos: any = [];\r\n  private band_editar: boolean = false;\r\n  public filtro_nombre: string = '';\r\n  public filtro_lab_com: string = '';\r\n  public filtro_lab_gen: string = '';\r\n  public filtro_cum: string = '';\r\n  public filtro_catalogo: string = '';\r\n\r\n  public Tipo: any = '';\r\n\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n  @ViewChild('modalProductos') modalProductos: any;\r\n  @ViewChild('FormCompra') FormCompra: NgForm;\r\n  deleteSwal: any;\r\n  ListaProducto: any[] = [];\r\n\r\n  public user = '';\r\n  posicion: any = '';\r\n  puntos: any = [];\r\n  \r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private _user: UserService,\r\n    private modalService: NgbModal,\r\n  ) {\r\n    this.alertOption = {\r\n      title: 'Est Seguro?',\r\n      text: 'Se dispone a Generar esta Compra',\r\n      showCancelButton: true,\r\n      cancelButtonText: 'No, Dejame Comprobar!',\r\n      confirmButtonText: 'Si, Guardar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'info',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          return this.GuardarCompra(this.FormCompra, resolve);\r\n        });\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading(),\r\n    };\r\n\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprasnacionales/proveedor_buscar.php', {\r\n        params: {\r\n\r\n          company_id: this._user.user.person.company_worked.id\r\n        }\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Proveedores = data;\r\n      });\r\n  }  \r\n  //INICIA BUCAR LOS PRODUCTO\r\n  search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.ListaProducto.filter(\r\n            (v) => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n          ).slice(0, 10)\r\n      )\r\n    );\r\n  formatter1 = (x: { Nombre: string }) => x.Nombre;\r\n  //FIN BUCAR LOS PRODUCTO\r\n\r\n  //INICIA BUCAR LOS PROVEEDORES\r\n  search2 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.Proveedores.filter(\r\n            (v) =>\r\n              v.NombreProveedor.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n          ).slice(0, 10)\r\n      )\r\n    );\r\n  formatter2 = (x: { NombreProveedor: string }) => x.NombreProveedor;\r\n  //FIN BUCAR LOS PROVEEDORES\r\n\r\n  ngOnInit() {\r\n    this.Tipo = 'Recurrente';\r\n    this.userF = this._user.user;\r\n    console.log(this.userF)\r\n    let params = this.route.snapshot.queryParams;\r\n    this.user = this._user.user.person.id;\r\n    console.log(this.user)\r\n    if (params.Pre_Compra != undefined) {\r\n      this.http\r\n        .get(environment.ruta + 'php/rotativoscompras/detalle_pre_compra.php', {\r\n          params: { id: params.Pre_Compra },\r\n        })\r\n        .subscribe((data: any) => {\r\n          this.Lista_Productos = data.Productos;\r\n          this.Id_Proveedor = data.Datos.Id_Proveedor;\r\n          this.Lista_Productos.push({\r\n            producto: '',\r\n            Costo: 0,\r\n            Total: 0,\r\n            Cantidad: null,\r\n            Iva: 0,\r\n            Rotativo: 0,\r\n            Id_Producto: '',\r\n            Iva_Disa: true,\r\n            Presentacion: 0,\r\n            Iva_Acu: 0,\r\n          });\r\n          this.NombreProveedor = data.Proveedor;\r\n          this.ActualizaValores();\r\n          this.Tipo = 'Recurrente';\r\n        });\r\n    }\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/bodega_nuevo/get_bodegas.php', {\r\n        params: {\r\n          company_id: this._user.user.person.company_worked.id\r\n        }\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Bodegas = data.Bodegas;\r\n        this.Impuestos = data.impuestoli;\r\n      });\r\n\r\n    if (this.id != undefined) {\r\n      this.Rotativo = true;\r\n      //debo llamar al localstore, y decirle cual es el que quiero listar\r\n      this.Lista_Productos.splice(0, 1);\r\n      const proveedor = this.precompra.find(\r\n        (lista) => lista.Id_Proveedor === this.id\r\n      );\r\n      const index = this.precompra.indexOf(proveedor);\r\n      var idProveedor = this.precompra[index].Id_Proveedor;\r\n      this.Id_Proveedor = idProveedor;\r\n      var productos = this.precompra[index].Productos;\r\n      productos.forEach((element) => {\r\n        if (element != null) {\r\n          this.Lista_Productos.push({\r\n            producto: element,\r\n            Costo: element.Costo,\r\n            Total: parseFloat(element.Costo) * parseFloat(element.Cantidad),\r\n            Cantidad: element.Cantidad,\r\n            Iva: element.Iva,\r\n            Rotativo: 0,\r\n            Id_Producto: element.Id_Producto,\r\n            Iva_Disa: true,\r\n          });\r\n        }\r\n      });\r\n\r\n      //\r\n      this.Lista_Productos.push({\r\n        producto: '',\r\n        Costo: 0,\r\n        Total: 0,\r\n        Cantidad: null,\r\n        Iva: 0,\r\n        Rotativo: 0,\r\n        Id_Producto: '',\r\n        Iva_Disa: true,\r\n      });\r\n      this.Cantidad_v = parseFloat(\r\n        this.Lista_Productos.reduce(this.reducer, 0)\r\n      );\r\n      this.Costo_v = parseFloat(this.Lista_Productos.reduce(this.reducer1, 0));\r\n      //this.Iva_v = parseFloat(this.Lista_Productos.reduce(this.reducer2, 0));\r\n      this.Subtotal_v = parseFloat(\r\n        this.Lista_Productos.reduce(this.reducer3, 0)\r\n      );\r\n\r\n      this.Subtotal_F = this.Subtotal_v;\r\n      //this.Iva_F=(this.Subtotal_v*this.Iva_v)/100;\r\n      this.Total_F = this.Subtotal_v + this.Iva_v;\r\n      /*var subtotal = parseFloat(this.Lista_Productos.reduce(this.reducer, 0));\r\n        this.Subtotal = subtotal - (subtotal * 0.19)\r\n        this.Iva = (subtotal * 0.19);\r\n        this.Total = subtotal;*/\r\n    }\r\n    /* TODO ACTUALIZAR FUNCIONARIO */\r\n\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n        'php/inventario_fisico_puntos/lista_punto_funcionario.php',\r\n        { params: { id: '1' } }\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.puntos = data.Puntos;\r\n      });\r\n  }\r\n\r\n  filtros() {\r\n    let params: any = {};\r\n\r\n    if (\r\n      this.filtro_lab_com != '' ||\r\n      this.filtro_lab_gen != '' ||\r\n      this.filtro_cum != '' ||\r\n      this.filtro_catalogo\r\n    ) {\r\n      this.Cargando = true;\r\n      this.ListaProducto = [];\r\n\r\n      if (this.filtro_nombre != '') {\r\n        params.nom = this.filtro_nombre;\r\n      }\r\n      if (this.filtro_lab_com != '') {\r\n        params.lab_com = this.filtro_lab_com;\r\n      }\r\n      if (this.filtro_lab_gen != '') {\r\n        params.lab_gen = this.filtro_lab_gen;\r\n      }\r\n      if (this.filtro_cum != '') {\r\n        params.cum = this.filtro_cum;\r\n      }\r\n      if (this.filtro_catalogo != '') {\r\n        params.catalogo = this.filtro_catalogo;\r\n      }\r\n\r\n      let queryString = Object.keys(params)\r\n        .map((key) => key + '=' + params[key])\r\n        .join('&');\r\n\r\n      this.http\r\n        .get(\r\n          environment.ruta +\r\n          'php/comprasnacionales/lista_productos.php?' +\r\n          queryString, { params: { company_id: this._user.user.person.company_worked.id } }\r\n        )\r\n        .subscribe((data: any) => {\r\n          this.Cargando = false;\r\n          this.ListaProducto = data;\r\n        });\r\n    } else {\r\n      this.filtro_lab_com = '';\r\n      this.filtro_lab_gen = '';\r\n      this.filtro_cum = '';\r\n      this.filtro_catalogo = '';\r\n      this.Cargando = true;\r\n      this.ListaProducto = [];\r\n\r\n      this.http\r\n        .get(environment.ruta + 'php/comprasnacionales/lista_productos.php', {\r\n          params: { nom: this.filtro_nombre, company_id: this._user.user.person.company_worked.id },\r\n        })\r\n        .subscribe((data: any) => {\r\n          this.Cargando = false;\r\n          this.ListaProducto = data;\r\n        });\r\n    }\r\n  }\r\n  \r\n\r\n  searchProduct(pos, editar) {\r\n    this.ListaProducto = [];\r\n    this.Productos = [];\r\n    this.filtro_nombre = '';\r\n    this.filtro_lab_com = '';\r\n    this.filtro_lab_gen = '';\r\n    this.filtro_cum = '';\r\n    this.filtro_catalogo = '';\r\n    let producto = (\r\n      document.getElementById('Producto' + pos) as HTMLInputElement\r\n    ).value;\r\n    this.filtro_nombre = producto;\r\n    this.posicion = pos;\r\n    this.band_editar = editar;\r\n    this.Cargando = true;\r\n\r\n    if (producto != '') {\r\n      this.http\r\n\r\n        .get(environment.ruta + 'php/comprasnacionales/lista_productos.php', {\r\n          params: { nom: producto, company_id: this._user.user.person.company_worked.id },\r\n        })\r\n        .subscribe((data: any) => {\r\n          this.Cargando = false;\r\n          this.ListaProducto = data;\r\n        });\r\n    } else {\r\n    }\r\n  }\r\n\r\n  //INICIA BUCAR LOS PROVEEDORES\r\n  BuscarProveedor(modelo) {\r\n    console.log(modelo);\r\n\r\n    if (typeof modelo == 'object') {\r\n      this.NombreProveedor = modelo;\r\n      this.Id_Proveedor = modelo.Id_Proveedor;\r\n    } else {\r\n      this.NombreProveedor = '';\r\n      this.Id_Proveedor = '';\r\n    }\r\n  }\r\n  //FIN BUCAR LOS PROVEEDORES\r\n\r\n  async GuardarCompra(formulario: NgForm, resolve) {\r\n    let params = this.route.snapshot.queryParams;\r\n\r\n    //Se  actualiza la precompra con el estado Solicitada\r\n    if (params.Pre_Compra != undefined) {\r\n      let datos = new FormData();\r\n      datos.append('id_pre_compra', params.Pre_Compra);\r\n      this.http\r\n        .post(\r\n          environment.ruta + '/php/rotativoscompras/actualizar_estado.php',\r\n          datos\r\n        )\r\n        .subscribe((data: any) => { });\r\n    }\r\n\r\n    if (this.Lista_Productos.length > 1) {\r\n      let info = JSON.stringify(formulario.value);\r\n      let prod = JSON.stringify(this.Lista_Productos);\r\n      let datos = new FormData();\r\n\r\n      params.Pre_Compra != undefined\r\n        ? datos.append('id_pre_compra', params.Pre_Compra)\r\n        : '';\r\n      datos.append('modulo', 'Orden_Compra_Nacional');\r\n      datos.append('datos', info);\r\n      datos.append('productos', prod);\r\n      datos.append('tipoBodega', this.TipoBodega);\r\n      datos.append('company_id', this._user.user.person.company_worked.id);\r\n\r\n      return await this.http\r\n        .post(\r\n          environment.ruta +\r\n          'php/comprasnacionales/guardar_compra_nacional.php',\r\n          datos\r\n        )\r\n        .toPromise()\r\n        .then(\r\n          (data: any) => {\r\n            this.confirmacionSwal.title = 'Creacion de Orden de Compras';\r\n            this.confirmacionSwal.text = data.mensaje;\r\n            this.confirmacionSwal.icon = data.tipo;\r\n            this.confirmacionSwal.fire();\r\n            formulario.reset();\r\n            // this.NombreProveedor='';\r\n            this.VerPantallaLista();\r\n            //buscar posicin proveedor\r\n            const proveedor = this.precompra.find(\r\n              (lista) => lista.Id_Proveedor === this.id\r\n            );\r\n            const index = this.precompra.indexOf(proveedor);\r\n            //eliminar ese provvedor de la lista\r\n            this.precompra.splice(index, 1);\r\n            //decir al localstore que lo que tengo en lista producto ser el nuevo localstorage\r\n            localStorage.setItem('Compra', JSON.stringify(this.precompra));\r\n          },\r\n          (error) => {\r\n            this.confirmacionSwal.title = 'Error';\r\n            this.confirmacionSwal.text =\r\n              'Ha ocurrido un error inesperado de conexin.';\r\n            this.confirmacionSwal.icon = 'error';\r\n            this.confirmacionSwal.fire();\r\n          }\r\n        );\r\n    } else {\r\n      this.confirmacionSwal.title = 'Error ';\r\n      this.confirmacionSwal.text =\r\n        'No se puede guardar un orden de compra si productos';\r\n      this.confirmacionSwal.icon = 'error';\r\n      this.confirmacionSwal.fire();\r\n    }\r\n  }\r\n\r\n  VerPantallaLista() {\r\n    this.router.navigate(['/compras/nacional']);\r\n  }\r\n\r\n  addProduct(pos) {\r\n    let checkbox = (document.getElementById('check' + pos) as HTMLInputElement)\r\n      .checked;\r\n    let modelo: any = {\r\n      Costo: this.ListaProducto[pos].Costo,\r\n      Presentacion: this.ListaProducto[pos].Cantidad_Presentacion,\r\n      Id_Producto: this.ListaProducto[pos].Id_Producto,\r\n      producto: this.ListaProducto[pos].Nombre,\r\n      Iva_Disa: this.ListaProducto[pos].Gravado == 'Si' ? false : true,\r\n      Embalaje: this.ListaProducto[pos].Embalaje,\r\n    };\r\n    if (checkbox == true) {\r\n      this.Productos.push(modelo);\r\n    } else {\r\n      let posicion = this.Productos.indexOf(modelo);\r\n      this.Productos.splice(posicion, 1);\r\n    }\r\n  }\r\n\r\n  AgregarProducto() {\r\n    let editar_producto = this.band_editar;\r\n\r\n    this.Productos.forEach((valor, i) => {\r\n      if (\r\n        this.Lista_Productos.length == 1 &&\r\n        this.Lista_Productos[0].Id_Producto == ''\r\n      ) {\r\n        // Cuando la lista de productos est vaca o inicializada por primera vez.\r\n        this.Lista_Productos[0].Costo = valor.Costo;\r\n        this.Lista_Productos[0].Presentacion = valor.Presentacion;\r\n        this.Lista_Productos[0].Id_Producto = valor.Id_Producto;\r\n        this.Lista_Productos[0].producto = valor.producto;\r\n        this.Lista_Productos[0].Iva_Disa = valor.Iva_Disa;\r\n        this.Lista_Productos[0].editar = true;\r\n        this.Lista_Productos[0].delete = true;\r\n        this.Lista_Productos[0].Embalaje = valor.Embalaje;\r\n      } else if (this.band_editar) {\r\n        // Cuando se quiere editar un producto.\r\n        this.Lista_Productos[this.posicion].Costo = valor.Costo;\r\n        this.Lista_Productos[this.posicion].Presentacion = valor.Presentacion;\r\n        this.Lista_Productos[this.posicion].Id_Producto = valor.Id_Producto;\r\n        this.Lista_Productos[this.posicion].producto = valor.producto;\r\n        this.Lista_Productos[this.posicion].Iva_Disa = valor.Iva_Disa;\r\n        this.Lista_Productos[this.posicion].Embalaje = valor.Embalaje;\r\n        this.Lista_Productos[this.posicion].delete = true;\r\n        this.band_editar = false;\r\n      } else {\r\n        // Cuando se quiere agregar nuevos productos.\r\n\r\n        if (\r\n          this.Lista_Productos.length > 1 &&\r\n          this.Lista_Productos[this.posicion].Id_Producto == ''\r\n        ) {\r\n          // Si la lista de productos estaba llena y la posicion donde se est buscando el producto estaba vaca, edita el campo actual.\r\n          this.Lista_Productos[this.posicion].Costo = valor.Costo;\r\n          this.Lista_Productos[this.posicion].Presentacion = valor.Presentacion;\r\n          this.Lista_Productos[this.posicion].Id_Producto = valor.Id_Producto;\r\n          this.Lista_Productos[this.posicion].producto = valor.producto;\r\n          this.Lista_Productos[this.posicion].Iva_Disa = valor.Iva_Disa;\r\n          this.Lista_Productos[this.posicion].Embalaje = valor.Embalaje;\r\n          this.Lista_Productos[this.posicion].delete = true;\r\n        } else {\r\n          if (editar_producto) {\r\n            // Si se edit un producto, se declara esta condicional como bandera para que elimine el ultimo campo en blanco y pueda aadir en la lista de productos sin problema.\r\n            let last_position = this.Lista_Productos.length - 1;\r\n            this.Lista_Productos.splice(last_position, 1);\r\n            editar_producto = false;\r\n          }\r\n\r\n          this.Lista_Productos.push({\r\n            // Se agregan nuevos productos.\r\n            producto: valor.producto,\r\n            Presentacion: valor.Presentacion,\r\n            Costo: valor.Costo,\r\n            Total: 0,\r\n            Cantidad: null,\r\n            Iva: 0,\r\n            Rotativo: 0,\r\n            Id_Producto: valor.Id_Producto,\r\n            Iva_Disa: valor.Iva_Disa,\r\n            editar: true,\r\n            delete: true,\r\n            Iva_Acu: 0,\r\n            Embalaje: valor.Embalaje,\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    let pos = this.Lista_Productos.length - 1;\r\n\r\n    if (this.Lista_Productos[pos].producto != '') {\r\n      // Si en la ultima posicin del Array ya no es vaco se agrega un nuevo campo para una nueva busqueda.\r\n      this.Lista_Productos.push({\r\n        producto: '',\r\n        Presentacion: '',\r\n        Costo: 0,\r\n        Total: 0,\r\n        Cantidad: null,\r\n        Iva: 0,\r\n        Rotativo: 0,\r\n        Id_Producto: '',\r\n        Iva_Disa: false,\r\n        editar: false,\r\n        delete: false,\r\n        Iva_Acu: 0,\r\n        Embalaje: '',\r\n      });\r\n    }\r\n\r\n    this.modalService.dismissAll(); \r\n    this.Productos = [];\r\n  }\r\n\r\n  deleteProduct(posicion, event) {\r\n    if (event.screenX != 0) {\r\n      this.Lista_Productos.splice(posicion, 1);\r\n      this.ActualizaValores();\r\n    }\r\n  }\r\n\r\n  CalculoTotal(pos) {\r\n    var cantidad = (\r\n      document.getElementById('Cantidad' + pos) as HTMLInputElement\r\n    ).value;\r\n    var Costo = (document.getElementById('Costo' + pos) as HTMLInputElement)\r\n      .value;\r\n    var subtotal = parseFloat(Costo) * parseFloat(cantidad);\r\n\r\n    var iva = (document.getElementById('Iva' + pos) as HTMLInputElement).value;\r\n\r\n    this.Lista_Productos[pos].Iva_Acu = subtotal * (parseInt(iva) / 100);\r\n    this.Lista_Productos[pos].Total = subtotal;\r\n  }\r\n\r\n  CapturarDigitacion(pos) {\r\n    let cantidad = (\r\n      document.getElementById('Cantidad' + pos) as HTMLInputElement\r\n    ).value;\r\n    let costo = (document.getElementById('Costo' + pos) as HTMLInputElement)\r\n      .value;\r\n    let iva = (document.getElementById('Iva' + pos) as HTMLInputElement).value;\r\n    let subtotal = parseFloat(cantidad) * parseFloat(costo);\r\n\r\n    this.Lista_Productos[pos].Cantidad = cantidad;\r\n    this.Lista_Productos[pos].Costo = costo;\r\n    this.Lista_Productos[pos].Iva = iva;\r\n    this.Lista_Productos[pos].Total = subtotal.toFixed();\r\n  }\r\n\r\n  ActualizaValores() {\r\n    this.Cantidad_v = parseFloat(this.Lista_Productos.reduce(this.reducer, 0));\r\n    this.Costo_v = parseFloat(this.Lista_Productos.reduce(this.reducer1, 0));\r\n    this.Iva_F = parseFloat(this.Lista_Productos.reduce(this.reducer2, 0));\r\n    this.Subtotal_v = parseFloat(this.Lista_Productos.reduce(this.reducer3, 0));\r\n\r\n    this.Subtotal_F = this.Subtotal_v;\r\n\r\n    this.Total_F = this.Subtotal_F + this.Iva_F;\r\n  }\r\n\r\n  /*ListaProductosBodega(Bodega) {\r\n       this.http.get(environment.ruta + 'php/comprasnacionales/producto_bodega_compra_nacional.php').subscribe((data: any) => {\r\n          this.ListaProducto = data;\r\n        });\r\n    }*/\r\n}\r\n","<form #FormCompra=\"ngForm\">\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <div class=\"card-title d-flex justify-content-between\">\r\n        <div class=\"card m-0 p-0 border-0 shadow-none\">\r\n          <div class=\"card-horizontal\">\r\n            <div class=\"img-square-wrapper\">\r\n              <img\r\n                [src]=\"userF.person.company_worked.logo | image: 'companies'\"\r\n                alt=\"\"\r\n                height=\"45\"\r\n              />\r\n            </div>\r\n            <div class=\"card-body p-0 m-0\">\r\n              <p class=\"card-text\" style=\"font-size: x-small\">\r\n                {{ userF.person.company_worked.name }} <br />\r\n                NIT {{ userF.person.company_worked.tin }} <br />\r\n                {{ userF.person.company_worked.address }} <br />\r\n                {{ userF.person.company_worked.phone }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <h4 class=\"text-primary\">Nueva orden de compra</h4>\r\n          <h6>{{ fecha | date: \"longDate\" }}</h6>\r\n        </div>\r\n      </div>\r\n      <hr class=\"line\" />\r\n      <div class=\"container mt-4\">\r\n        <div class=\"row\">\r\n          <div class=\"col-6\">\r\n            <div class=\"row\">\r\n              <div class=\"col-5\">\r\n                <div class=\"form-group\">\r\n                  <label>Proveedor: </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"NombreProveedor\"\r\n                    id=\"NombreProveedor\"\r\n                    class=\"form-control form-control-sm\"\r\n                    [(ngModel)]=\"NombreProveedor\"\r\n                    [ngbTypeahead]=\"search2\"\r\n                    [resultTemplate]=\"rt2\"\r\n                    [inputFormatter]=\"formatter2\"\r\n                    (ngModelChange)=\"BuscarProveedor(NombreProveedor)\"\r\n                    required\r\n                  />\r\n\r\n                  <input\r\n                    ngModel=\"{{ Id_Proveedor }}\"\r\n                    type=\"hidden\"\r\n                    name=\"Id_Proveedor\"\r\n                    id=\"Id_Proveedor\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\" style=\"display: none\">\r\n                  <label>Tipo de compra: </label>\r\n                  <select\r\n                    name=\"Tipo\"\r\n                    [(ngModel)]=\"Tipo\"\r\n                    class=\"form-control form-control-sm\"\r\n                    required\r\n                  >\r\n                    <option value=\"Recurrente\" selected>Recurrente</option>\r\n                    <option value=\"Ocasional\">Ocasional</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7\">\r\n                <div class=\"form-group\">\r\n                  <label *ngIf=\"TipoBodega == 'Bodega'\">Bodega</label>\r\n                  <label *ngIf=\"TipoBodega == 'Punto'\">Punto</label>\r\n                  <select\r\n                    *ngIf=\"TipoBodega == 'Bodega'\"\r\n                    name=\"Id_Bodega_Nuevo\"\r\n                    class=\"form-control form-control-sm\"\r\n                    required\r\n                    ngModel\r\n                  >\r\n                    <option [ngValue]=\"undefined\">Seleccione una Bodega</option>\r\n                    <option\r\n                      *ngFor=\"let Bodega of Bodegas; let i = index\"\r\n                      [value]=\"Bodega.Id_Bodega_Nuevo\"\r\n                    >\r\n                      {{ Bodega.Nombre }}\r\n                    </option>\r\n                  </select>\r\n\r\n                  <select\r\n                    *ngIf=\"TipoBodega == 'Punto'\"\r\n                    name=\"Id_Punto_Dispensacion\"\r\n                    class=\"form-control form-control-sm\"\r\n                    required\r\n                    ngModel\r\n                  >\r\n                    <option [ngValue]=\"undefined\">Seleccione un Punto</option>\r\n                    <option\r\n                      *ngFor=\"let item of puntos; let i = index\"\r\n                      [value]=\"item.Id_Punto_Dispensacion\"\r\n                    >\r\n                      {{ item.Nombre }}\r\n                    </option>\r\n                  </select>\r\n                  <input\r\n                    type=\"text\"\r\n                    [(ngModel)]=\"user\"\r\n                    name=\"Identificacion_Funcionario\"\r\n                    readonly\r\n                    hidden\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-5\">\r\n                <div class=\"form-group\">\r\n                  <label>Tipo de bodega: </label>\r\n                  <select\r\n                    name=\"TipoBodega\"\r\n                    [(ngModel)]=\"TipoBodega\"\r\n                    class=\"form-control form-control-sm\"\r\n                    (change)=\"TipoBodega = $event.target.value\"\r\n                    required\r\n                  >\r\n                    <option value=\"Bodega\" selected>Bodega</option>\r\n                    <option value=\"Punto\">Punto</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-7\">\r\n                <div class=\"form-group\">\r\n                  <label>Fecha entrega: </label>\r\n                  <input\r\n                    ngModel\r\n                    type=\"date\"\r\n                    name=\"Fecha_Entrega_Probable\"\r\n                    placeholder=\"\"\r\n                    required\r\n                    class=\"form-control form-control-sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!-- <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"form-group\">\r\n                  <label>Proveedor: </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"NombreProveedor\"\r\n                    id=\"NombreProveedor\"\r\n                    class=\"form-control form-control-sm\"\r\n                    [(ngModel)]=\"NombreProveedor\"\r\n                    [ngbTypeahead]=\"search2\"\r\n                    [resultTemplate]=\"rt2\"\r\n                    [inputFormatter]=\"formatter2\"\r\n                    (ngModelChange)=\"BuscarProveedor(NombreProveedor)\"\r\n                    required\r\n                  />\r\n\r\n                  <input\r\n                    ngModel=\"{{ Id_Proveedor }}\"\r\n                    type=\"hidden\"\r\n                    name=\"Id_Proveedor\"\r\n                    id=\"Id_Proveedor\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div> -->\r\n          </div>\r\n          <div class=\"col-6\">\r\n            <div class=\"form-group\">\r\n              <label for=\"\">Observaciones</label>\r\n              <textarea\r\n                ngModel\r\n                name=\"Observaciones\"\r\n                placeholder=\"Digite detalles importantes de la orden de compra\"\r\n                type=\"text\"\r\n                rows=\"4\"\r\n                class=\"form-control\"\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"container mt-4\" style=\"font-size: small\">\r\n        <small class=\"font-weight-bold\"\r\n          >*Nota: Para hacer ms efectiva la busqueda, por favor digite el\r\n          nombre completo del producto.</small\r\n        >\r\n        <table class=\"table table-bordered table-striped table-sm\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"col-sm-4\">Producto</th>\r\n              <th></th>\r\n              <th class=\"col-sm-1\">Presentacin</th>\r\n              <th class=\"col-sm-1\" *ngIf=\"Rotativo\">Rotativo</th>\r\n              <th class=\"col-sm-1\">Cantidad</th>\r\n              <th class=\"col-sm-2\">Costo</th>\r\n              <th class=\"col-sm-1\">IVA</th>\r\n              <th class=\"col-sm-2\">Subtotal</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              *ngFor=\"let item of Lista_Productos; let i = index\"\r\n              id=\"fila{{ i }}\"\r\n            >\r\n              <td>\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"productoModel{{ i }}\"\r\n                  [ngModel]=\"item.producto\"\r\n                />\r\n                <input\r\n                  *ngIf=\"item.Id_Producto == ''\"\r\n                  type=\"text\"\r\n                  name=\"producto{{ i }}\"\r\n                  id=\"Producto{{ i }}\"\r\n                  class=\"form-control form-control-sm\"\r\n                  autocomplete=\"off\"\r\n                  [value]=\"item.producto\"\r\n                  [readonly]=\"item.producto != ''\"\r\n                />\r\n                <label *ngIf=\"item.Id_Producto != ''\">{{\r\n                  item.producto\r\n                }}</label>\r\n                <!-- <input type=\"text\" name=\"producto{{i}}\" id=\"Producto{{i}}\" class=\"form-control form-control-sm f-9 input-product\" [ngModel]=\"item.producto\"\r\n                      [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter1\" (ngModelChange)=\"BuscarLote(item.producto, i)\"\r\n                    /> -->\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <button\r\n                  *ngIf=\"item.producto == ''\"\r\n                  class=\"btn btn-primary btn-sm\"\r\n                  (click)=\"searchProduct(i, item.editar); openConfirm(add)\"\r\n                  title=\"Buscar Producto\"\r\n                  \r\n                >\r\n                  <i class=\"fa fa-search\"></i>\r\n                </button>\r\n                <span\r\n                  *ngIf=\"item.producto != ''\"\r\n                  class=\"mytooltip tooltip-effect-2\"\r\n                  ><span class=\"tooltip-item2\">Embalaje</span\r\n                  ><span class=\"tooltip-content4 clearfix\"\r\n                    ><span class=\"tooltip-text2\">{{\r\n                      item.Embalaje\r\n                    }}</span></span\r\n                  >\r\n                </span>\r\n                <!-- <button *ngIf=\"item.delete\" class=\"btn btn-danger btn-xs btn-search\" (click)=\"deleteProduct(i);\" title=\"Eliminar producto\" style=\"display: inline-block;\">\r\n                      &nbsp;<i class=\"fa fa-trash\"></i>\r\n                    </button> -->\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"PresentacionModel{{ i }}\"\r\n                  [ngModel]=\"item.Presentacion\"\r\n                />\r\n                <p id=\"Presentacion{{ i }}\" name=\"Presentacion{{ i }}\">\r\n                  {{ item.Presentacion }}\r\n                </p>\r\n              </td>\r\n              <td *ngIf=\"Rotativo\">\r\n                <input\r\n                  readonly\r\n                  id=\"Rotativo{{ i }}\"\r\n                  name=\"Rotativo{{ i }}\"\r\n                  [ngModel]=\"item.Rotativo\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  class=\"form-control form-control-sm text-right f-9\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <!--<input id=\"Cantidad{{i}}\" name=\"Cantidad{{i}}\" [ngModel]=\"item.Cantidad\" type=\"number\" min=\"1\" class=\"form-control form-control-sm text-right f-9\"\r\n                      (change)=\"CalculoTotal(i); ActualizaValores(); CapturarDigitacion(i)\">-->\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"CantidadModel{{ i }}\"\r\n                  [ngModel]=\"item.Cantidad\"\r\n                />\r\n                <input\r\n                  id=\"Cantidad{{ i }}\"\r\n                  name=\"Cantidad{{ i }}\"\r\n                  [value]=\"item.Cantidad\"\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  class=\"form-control form-control-sm text-right f-9\"\r\n                  (change)=\"\r\n                    CalculoTotal(i); ActualizaValores(); CapturarDigitacion(i)\r\n                  \"\r\n                  (keyup)=\"ActualizaValores(); CapturarDigitacion(i)\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"CostoModel{{ i }}\"\r\n                  [ngModel]=\"item.Costo\"\r\n                />\r\n                <input\r\n                  id=\"Costo{{ i }}\"\r\n                  name=\"Costo{{ i }}\"\r\n                  [value]=\"item.Costo\"\r\n                  type=\"text\"\r\n                  min=\"1\"\r\n                  class=\"form-control form-control-sm text-right f-9\"\r\n                  (change)=\"\r\n                    CalculoTotal(i); ActualizaValores(); CapturarDigitacion(i)\r\n                  \"\r\n                  (keyup)=\"ActualizaValores(); CapturarDigitacion(i)\"\r\n                  pattern=\"[0-9\\.]*\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <!--<input id=\"Iva{{i}}\" name=\"Iva{{i}}\" [ngModel]=\"item.Iva\" type=\"number\" min=\"1\" class=\"form-control form-control-sm text-right f-9\"\r\n                      (change)=\"CalculoTotal(i); ActualizaValores(); CapturarDigitacion(i)\">-->\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"IvaModel{{ i }}\"\r\n                  [ngModel]=\"item.Iva\"\r\n                />\r\n                <select\r\n                  [ngModel]=\"item.Iva\"\r\n                  id=\"Iva{{ i }}\"\r\n                  name=\"Iva{{ i }}\"\r\n                  class=\"form-control form-control-sm\"\r\n                  (change)=\"\r\n                    CalculoTotal(i); ActualizaValores(); CapturarDigitacion(i)\r\n                  \"\r\n                >\r\n                  <option\r\n                    *ngFor=\"let Impuesto of Impuestos; let i = index\"\r\n                    [value]=\"Impuesto.Valor\"\r\n                  >\r\n                    {{ Impuesto.Valor }}\r\n                  </option>\r\n                </select>\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <input\r\n                  type=\"hidden\"\r\n                  name=\"TotalModel{{ i }}\"\r\n                  [ngModel]=\"item.Total\"\r\n                />\r\n                <p\r\n                  name=\"Total{{ i }}\"\r\n                  id=\"Total{{ i }}\"\r\n                  type=\"text\"\r\n                  min=\"1\"\r\n                  (change)=\"\r\n                    CalculoTotal(i); ActualizaValores(); CapturarDigitacion(i)\r\n                  \"\r\n                  readonly\r\n                >\r\n                  $ {{ item.Total | currency: \"COP\":\"symbol\" }}\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <button\r\n                  class=\"btn btn-danger btn-sm\"\r\n                  (click)=\"deleteProduct(i, $event)\"\r\n                  *ngIf=\"item.producto != ''\"\r\n                >\r\n                  <i class=\"fa fa-trash\"></i>\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <div class=\"container mt-4\">\r\n        <div class=\"row d-flex justify-content-end\">\r\n          <div class=\"col-sm-5\">\r\n            <table class=\"table table-hover\">\r\n              <tbody>\r\n                <tr>\r\n                  <th>( = ) Subtotal :</th>\r\n                  <td class=\"d-flex justify-content-end\">\r\n                    $ {{ Subtotal_F | currency: \"COP\" }}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>( + ) Iva :</th>\r\n                  <td class=\"d-flex justify-content-end\">\r\n                    $ {{ Iva_F | currency: \"COP\" }}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>( = ) Total :</th>\r\n                  <td class=\"d-flex justify-content-end\">\r\n                    $ {{ Total_F | currency: \"COP\" }}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        <div class=\"row d-flex justify-content-center\">\r\n          <div class=\"col-sm-12 text-center\">\r\n            <button\r\n              type=\"button\"\r\n              [swal]=\"confirmacionGuardar\"\r\n              [disabled]=\"!FormCompra.valid\"\r\n              class=\"btn btn-primary btn-lg btn-block\"\r\n            >\r\n              <i class=\"fas fa-save\"></i>\r\n              Realizar Compra\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n\r\n<ng-template #rt2 let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\"\r\n    ><strong>{{ r.NombreProveedor }}</strong>\r\n  </span>\r\n</ng-template>\r\n\r\n<ng-template #add let-modal>\r\n  <div class=\"modal-content\">\r\n    <div class=\"modal-header\">\r\n      <h4 class=\"text-primary modal-title\">Bsqueda de productos</h4>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-sm btn-flash-border-primary ri-close-fill\"\r\n        aria-label=\"Close\"\r\n        (click)=\"modal.dismiss('Cross click')\"\r\n      ></button>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <div class=\"container\" style=\"font-size: small\">\r\n      <input type=\"hidden\" name=\"pos\" [(ngModel)]=\"posicion\" />\r\n      <div class=\"row\">\r\n        <div class=\"col-2 input-group-sm\">\r\n          <label for=\"\">Catalogo</label>\r\n          <select\r\n            (change)=\"filtros()\"\r\n            [(ngModel)]=\"filtro_catalogo\"\r\n            class=\"form-control form-control-sm\"\r\n          >\r\n            <option value=\"\">Todos</option>\r\n            <option *ngFor=\"let item of tipoMaterial\" [value]=\"item\">\r\n              {{ item }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"col-2 input-group-sm\">\r\n          <label for=\"\">Nombre</label>\r\n          <input\r\n            type=\"text\"\r\n            [(ngModel)]=\"filtro_nombre\"\r\n            (blur)=\"filtros()\"\r\n            class=\"form-control form-control-sm\"\r\n            placeholder=\"Filtro Nombre\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"col-2 input-group-sm\"\r\n          *ngIf=\"filtro_catalogo == 'Medicamento'\"\r\n        >\r\n          <label for=\"\">Lab. Comercial</label>\r\n          <input\r\n            type=\"text\"\r\n            [(ngModel)]=\"filtro_lab_com\"\r\n            (blur)=\"filtros()\"\r\n            class=\"form-control form-control-sm\"\r\n            placeholder=\"Filtro Lab. Comercial\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"col-2 input-group-sm\"\r\n          *ngIf=\"filtro_catalogo == 'Medicamento'\"\r\n        >\r\n          <label for=\"\">Lab. Genrico</label>\r\n          <input\r\n            type=\"text\"\r\n            [(ngModel)]=\"filtro_lab_gen\"\r\n            (blur)=\"filtros()\"\r\n            class=\"form-control form-control-sm\"\r\n            placeholder=\"Filtro Lab. Generico\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"col-2 input-group-sm\"\r\n          *ngIf=\"filtro_catalogo == 'Medicamento'\"\r\n        >\r\n          <label for=\"\">Cum</label>\r\n          <input\r\n            type=\"text\"\r\n            [(ngModel)]=\"filtro_cum\"\r\n            (blur)=\"filtros()\"\r\n            class=\"form-control form-control-sm\"\r\n            placeholder=\"Filtro Cum\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <table\r\n        class=\"table table-bordered table-striped table-sm mt-4\"\r\n        *ngIf=\"!Cargando && ListaProducto.length > 0; else notData\"\r\n      >\r\n        <thead>\r\n          <tr>\r\n            <th></th>\r\n            <td>Foto</td>\r\n            <td>Catalogo</td>\r\n            <th>Nombre</th>\r\n            <th *ngIf=\"filtro_catalogo == 'Medicamento'\">Lab. Comercial</th>\r\n            <th *ngIf=\"filtro_catalogo == 'Medicamento'\">Lab. Generico</th>\r\n            <th *ngIf=\"filtro_catalogo == 'Medicamento'\">Cum</th>\r\n            <th>Embalaje</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let producto of ListaProducto; let i = index\">\r\n            <td>\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"check{{ i }}\"\r\n                [value]=\"producto.Producto\"\r\n                (change)=\"addProduct(i)\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <div class=\"text-center\">\r\n                <img\r\n                  class=\"rounded-circle mx-auto img-fluid header-profile-user\"\r\n                  src=\"../../../../../assets/images/nofound.png\"\r\n                  alt=\"\"\r\n                />\r\n                <!-- TODO IMAGEN DEL PRODUCTO DINAMICO  -->\r\n                <!--   <a *ngIf=\"producto.Imagen != ''\" href=\"{{environment.ruta}}IMAGENES/PRODUCTOS/{{producto.Imagen}}\" target=\"_blank\">\r\n                                        <img class=\"img-radius imagen\" src=\"{{environment.ruta}}IMAGENES/PRODUCTOS/{{producto.Imagen}}\" alt=\"\">\r\n                                    </a> -->\r\n              </div>\r\n            </td>\r\n            <td>{{ producto.Tipo_Catalogo }}</td>\r\n\r\n            <td>\r\n              <strong>{{ producto.Nombre_Comercial }}</strong>\r\n              <p>\r\n                {{ producto.Nombre }}\r\n              </p>\r\n            </td>\r\n            <td *ngIf=\"filtro_catalogo == 'Medicamento'\">\r\n              {{ producto.Laboratorio_Comercial }}\r\n            </td>\r\n            <td *ngIf=\"filtro_catalogo == 'Medicamento'\">\r\n              {{ producto.Laboratorio_Generico }}\r\n            </td>\r\n            <td *ngIf=\"filtro_catalogo == 'Medicamento'\">\r\n              {{ producto.Codigo_Cum }}\r\n            </td>\r\n            <td>\r\n              {{ producto.Embalaje }}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-default\"\r\n      (click)=\"modal.dismiss('Cross click')\"\r\n    >\r\n      Cancelar\r\n    </button>\r\n    <button type=\"button\" (click)=\"AgregarProducto()\" class=\"btn btn-primary\">\r\n      Agregar\r\n    </button>\r\n  </div>\r\n</ng-template>\r\n\r\n<swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n<swal #confirmacionGuardar [swalOptions]=\"alertOption\"></swal>\r\n\r\n<div class=\"row invoice-contact\" style=\"align-items: flex-start !important\">\r\n  <div class=\"col-md-8\">\r\n    <div class=\"invoice-box row\">\r\n      <div class=\"col-sm-12\">\r\n        <table\r\n          class=\"table table-responsive invoice-table table-borderless\"\r\n          style=\"text-align: left; font-size: 12px\"\r\n        >\r\n          <tbody>\r\n            <tr>\r\n              <td style=\"width: 100px\">\r\n                <!--  <img src=\"{{globales.urlLogoColor}}\" class=\"m-b-10 img-60\" alt=\"Pro-H Software\"> -->\r\n              </td>\r\n              <td>\r\n                <!-- TODO DATOS DE EMPRESA -->\r\n                <!-- {{globales.Nombre}}\r\n                                              <br> {{globales.Nit}}\r\n                                              <br> {{globales.Direccion}}\r\n                                              <br> {{globales.Telefono}} -->\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"col-md-4\">\r\n    <div class=\"row text-right\" style=\"margin-right: 5px\">\r\n      <div class=\"col-sm-12\">\r\n\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"row\">\r\n\r\n          <div class=\"col-sm-6\">\r\n            <label>Tipo De Compra</label>\r\n            <select name=\"Tipo\" [(ngModel)]=\"Tipo\" class=\"form-control form-control-sm\" required>\r\n              <option value=\"Recurrente\" selected>Recurrente</option>\r\n              <option value=\"Ocasional\">Ocasional</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div class=\"col-sm-6\">\r\n            <label>Tipo De Bodega</label>\r\n            <select name=\"TipoBodega\" [(ngModel)]=\"TipoBodega\"\r\n              class=\"form-control form-control-sm tipo-dis-select\" (change)=\"TipoBodega = $event.target.value\"\r\n              required>\r\n              <option value=\"Bodega\" selected>Bodega</option>\r\n              <option value=\"Punto\">Punto Dispensacin</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> -->\r\n</div>\r\n\r\n<!-- <div class=\"row invoive-info\" style=\"margin-bottom: 0\">\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n\r\n      <label>Proveedor</label>\r\n      <input type=\"text\" name=\"NombreProveedor\" id=\"NombreProveedor\" class=\"form-control prod f-9\"\r\n        [(ngModel)]=\"NombreProveedor\" [ngbTypeahead]=\"search2\" [resultTemplate]=\"rt2\"\r\n        [inputFormatter]=\"formatter2\" (ngModelChange)=\"BuscarProveedor(NombreProveedor)\" required />\r\n\r\n      <input ngModel=\"{{ Id_Proveedor }}\" type=\"hidden\" name=\"Id_Proveedor\" id=\"Id_Proveedor\" />\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label *ngIf=\"TipoBodega == 'Bodega'\">Bodega</label>\r\n      <select *ngIf=\"TipoBodega == 'Bodega'\" name=\"Id_Bodega_Nuevo\" class=\"form-control form-control-sm texto\"\r\n        required ngModel>\r\n        <option [ngValue]=\"undefined\">Seleccione una Bodega</option>\r\n        <option *ngFor=\"let Bodega of Bodegas; let i = index\" [value]=\"Bodega.Id_Bodega_Nuevo\">\r\n          {{ Bodega.Nombre }}\r\n        </option>\r\n      </select>\r\n      <label *ngIf=\"TipoBodega == 'Punto'\">Punto Dispensacin</label>\r\n      <select *ngIf=\"TipoBodega == 'Punto'\" name=\"Id_Punto_Dispensacion\"\r\n        class=\"form-control form-control-sm texto\" required ngModel>\r\n        <option [ngValue]=\"undefined\">Seleccione un Punto</option>\r\n        <option *ngFor=\"let item of puntos; let i = index\" [value]=\"item.Id_Punto_Dispensacion\">\r\n          {{ item.Nombre }}\r\n        </option>\r\n      </select>\r\n      <input type=\"text\" [(ngModel)]=\"user\" name=\"Identificacion_Funcionario\" readonly hidden />\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"col-md-4\">\r\n    <div class=\"form-group\">\r\n      <label>Fecha Probable de Entrega</label>\r\n      <input ngModel type=\"date\" name=\"Fecha_Entrega_Probable\" placeholder=\"\" required\r\n        class=\"form-control form-control-sm texto\" />\r\n    </div>\r\n  </div>\r\n</div> -->\r\n\r\n<!-- <div class=\"row invoive-info\" style=\"margin-bottom: 0\">\r\n  <div class=\"col-md-12\">\r\n    <div class=\"form-group\">\r\n      <label>Observaciones</label>\r\n      <textarea ngModel name=\"Observaciones\" placeholder=\"Digite detalles importantes de la orden de compra\"\r\n        type=\"text\" rows=\"3\" class=\"form-control\"></textarea>\r\n    </div>\r\n  </div>\r\n</div> -->\r\n\r\n<!-- <div class=\"row\" style=\"margin-top: 30px\">\r\n  <div class=\"col-sm-12\">\r\n    <table class=\"table invoice-detail-table\">\r\n      <thead>\r\n        <tr class=\"thead-default\">\r\n          <th>Producto</th>\r\n          <th style=\"width: 50px\"></th>\r\n          <th style=\"width: 20px\">Presentacin</th>\r\n          <th *ngIf=\"Rotativo\" style=\"width: 20px\">Rotativo</th>\r\n          <th style=\"width: 20px\">Cantidad</th>\r\n          <th style=\"width: 20px\">Costo</th>\r\n          <th style=\"width: 20px\">IVA</th>\r\n          <th style=\"width: 20px\">Subtotal</th>\r\n          <th style=\"width: 10px\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let item of Lista_Productos; let i = index\" id=\"fila{{ i }}\">\r\n          <td>\r\n            <input type=\"hidden\" name=\"productoModel{{ i }}\" [ngModel]=\"item.producto\" />\r\n            <input *ngIf=\"item.Id_Producto == ''\" type=\"text\" name=\"producto{{ i }}\" id=\"Producto{{ i }}\"\r\n              class=\"form-control form-control-sm f-9 input-product\" autocomplete=\"off\" [value]=\"item.producto\"\r\n              [readonly]=\"item.producto != ''\" />\r\n            <label *ngIf=\"item.Id_Producto != ''\">{{\r\n              item.producto\r\n              }}</label>\r\n          \r\n            <button *ngIf=\"item.producto == ''\" class=\"btn btn-primary btn-xs btn-search\" (click)=\"\r\n                    searchProduct(i, item.editar); modalProductos.show()\r\n                  \" title=\"Buscar Producto\" style=\"display: inline-block\">\r\n              &nbsp;<i class=\"fa fa-search\"></i>\r\n            </button>\r\n\r\n          </td>\r\n          <td>\r\n            <span *ngIf=\"item.producto != ''\" class=\"mytooltip tooltip-effect-2\"><span\r\n                class=\"tooltip-item2\">Embalaje</span><span class=\"tooltip-content4 clearfix\"><span\r\n                  class=\"tooltip-text2\">{{\r\n                  item.Embalaje\r\n                  }}</span></span>\r\n            </span>\r\n          </td>\r\n          <td>\r\n            <input type=\"hidden\" name=\"PresentacionModel{{ i }}\" [ngModel]=\"item.Presentacion\" />\r\n            <input readonly id=\"Presentacion{{ i }}\" name=\"Presentacion{{ i }}\" [value]=\"item.Presentacion\"\r\n              type=\"text\" class=\"form-control form-control-sm text-right f-9\" />\r\n          </td>\r\n\r\n          <td *ngIf=\"Rotativo\">\r\n            <input readonly id=\"Rotativo{{ i }}\" name=\"Rotativo{{ i }}\" [ngModel]=\"item.Rotativo\" type=\"number\"\r\n              min=\"1\" class=\"form-control form-control-sm text-right f-9\" />\r\n          </td>\r\n\r\n          <td>\r\n\r\n            <input type=\"hidden\" name=\"CantidadModel{{ i }}\" [ngModel]=\"item.Cantidad\" />\r\n            <input id=\"Cantidad{{ i }}\" name=\"Cantidad{{ i }}\" [value]=\"item.Cantidad\" type=\"number\" min=\"1\"\r\n              class=\"form-control form-control-sm text-right f-9\" (change)=\"\r\n                    CalculoTotal(i);\r\n                    ActualizaValores();\r\n                    CapturarDigitacion(i)\r\n                  \" (keyup)=\"ActualizaValores(); CapturarDigitacion(i)\" />\r\n          </td>\r\n\r\n          <td>\r\n            <input type=\"hidden\" name=\"CostoModel{{ i }}\" [ngModel]=\"item.Costo\" />\r\n            <input id=\"Costo{{ i }}\" name=\"Costo{{ i }}\" [value]=\"item.Costo\" type=\"text\" min=\"1\"\r\n              class=\"form-control form-control-sm text-right f-9\" (change)=\"\r\n                    CalculoTotal(i);\r\n                    ActualizaValores();\r\n                    CapturarDigitacion(i)\r\n                  \" (keyup)=\"ActualizaValores(); CapturarDigitacion(i)\" pattern=\"[0-9\\.]*\" />\r\n          </td>\r\n\r\n          <td>\r\n\r\n            <input type=\"hidden\" name=\"IvaModel{{ i }}\" [ngModel]=\"item.Iva\" />\r\n            <select [ngModel]=\"item.Iva\" id=\"Iva{{ i }}\" name=\"Iva{{ i }}\" class=\"form-control form-control-sm\"\r\n              (change)=\"\r\n                    CalculoTotal(i);\r\n                    ActualizaValores();\r\n                    CapturarDigitacion(i)\r\n                  \">\r\n              <option *ngFor=\"let Impuesto of Impuestos; let i = index\" [value]=\"Impuesto.Valor\">\r\n                {{ Impuesto.Valor }}\r\n              </option>\r\n            </select>\r\n          </td>\r\n          <td>\r\n            <input type=\"hidden\" name=\"TotalModel{{ i }}\" [ngModel]=\"item.Total\" />\r\n            <input name=\"Total{{ i }}\" [value]=\"item.Total\" id=\"Total{{ i }}\" type=\"text\" min=\"1\"\r\n              class=\"form-control form-control-sm text-right f-9\" (change)=\"\r\n                    CalculoTotal(i);\r\n                    ActualizaValores();\r\n                    CapturarDigitacion(i)\r\n                  \" readonly />\r\n          </td>\r\n          <td>\r\n            <button class=\"btn btn-danger btn-mini btn-eliminar\" (click)=\"deleteProduct(i, $event)\"\r\n              *ngIf=\"item.producto != ''\">\r\n              <i class=\"fa fa-trash\"></i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <small>Nota: Para hacer ms efectiva la busqueda, por favor digite el\r\n      nombre completo del producto.</small>\r\n  </div>\r\n</div> -->\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"Cargando\"></app-not-data>\r\n</ng-template>\r\n","import { Component, ElementRef, OnInit, ViewChild, TemplateRef } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Location } from \"@angular/common\";\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { MatAccordion } from '@angular/material/expansion';\r\n\r\n@Component({\r\n  selector: 'app-compra-nacional',\r\n  templateUrl: './compra-nacional.component.html',\r\n  styleUrls: ['./compra-nacional.component.scss']\r\n})\r\nexport class CompraNacionalComponent implements OnInit {\r\n\r\n  public comprasnacionales: any[] = [];\r\n  @ViewChild('Formcomprasnacionacrear') Formcomprasnaciona: any;\r\n  @ViewChild('studentChart') studentChart: ElementRef;\r\n  @ViewChild('deleteSwal') deleteSwal: any;\r\n  @ViewChild('PlantillaEstado') PlantillaEstado: TemplateRef<any>;\r\n  @ViewChild('PlantillaBotones') PlantillaBotones: TemplateRef<any>;\r\n  @ViewChild('PlantillaValor') PlantillaValor: TemplateRef<any>;\r\n\r\n  @ViewChild('infoSwal') infoSwal: any;\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  matPanel = false;\r\n  openClose() {\r\n    if (this.matPanel == false) {\r\n      this.accordion.openAll()\r\n      this.matPanel = true;\r\n    } else {\r\n      this.accordion.closeAll()\r\n      this.matPanel = false;\r\n    }\r\n  }\r\n\r\n  loadingIndicator = true;\r\n  timeout: any;\r\n  public dias_anulacion: any = '';\r\n  public funcionario_anulacion: any = '';\r\n  public funcionarios_anulacion: any = [];\r\n\r\n\r\n  public precompra: any[];\r\n  public proveedorPreCompra = [];\r\n  public indicadores = [];\r\n  public grafica: any;\r\n  public TotalItems: number;\r\n  public page = 1;\r\n  public maxSize = 10;\r\n  public filtro_cod: string = '';\r\n  public filtro_est: string = '';\r\n  public filtro_prov: string = '';\r\n  public filtro_func: string = '';\r\n  public studentChartData: any;\r\n  public Fecha = new Date();\r\n  public Actas_Pendientes: any = [];\r\n  public Compras_Pendientes: any = [];\r\n  public Compras_Rechazadas: any = [];\r\n  public Pre_Compras: any[] = [];\r\n  /*  public user = JSON.parse(localStorage.getItem('User')); */\r\n\r\n  /* TODO ACTUALIZAR FUNCIONARIO */\r\n  public miPerfil = '1';\r\n  /*     public miPerfil = JSON.parse(localStorage.getItem('miPerfil')); */\r\n  loading: boolean = false;\r\n\r\n  public requiredParams: any = { params: { tipo: \"todo\", funcionario: 1, company_id: '' } };\r\n  myDateRangePickerOptions: IMyDrpOptions = {\r\n    width: '180px',\r\n    height: '21px',\r\n    selectBeginDateTxt: 'Inicio',\r\n    selectEndDateTxt: 'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n  public filtro_fecha: any = '';\r\n  private mes = [];\r\n  public subtotal = [];\r\n  facturacionChartTag: any;\r\n\r\n  constructor(private http: HttpClient, private location: Location, private route: ActivatedRoute, private _user: UserService) {\r\n    this.requiredParams.params.company_id = this._user.user.person.company_worked.id\r\n\r\n    this.ListarComprasNacionales();\r\n    this.getDiasAnulacion();\r\n    this.getFuncioriosParaResponsables();\r\n  }\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    this.http.get(environment.ruta + 'php/rotativoscompras/lista_pre_compra.php').subscribe((data: any) => {\r\n      this.Pre_Compras = data;\r\n    });\r\n\r\n  }\r\n\r\n\r\n  ListarComprasNacionales() {\r\n    this.loading = true;\r\n    let params = this.route.snapshot.queryParams;\r\n\r\n    let queryString = '';\r\n\r\n    if (Object.keys(params).length > 0) { // Si existe parametros o filtros\r\n      this.page = params.pag ? params.pag : 1;\r\n      this.filtro_cod = params.cod ? params.cod : '';\r\n      this.filtro_func = params.func ? params.func : '';\r\n      this.filtro_est = params.est ? params.est : '';\r\n      this.filtro_prov = params.prov ? params.prov : '';\r\n      queryString = '?' + Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n    }\r\n\r\n    this.http.get(environment.ruta + 'php/comprasnacionales/lista_compras.php' + queryString,\r\n\r\n      this.requiredParams).subscribe((data: any) => {\r\n        this.comprasnacionales = data.compras;\r\n        this.TotalItems = data.numReg;\r\n        this.loading = false;\r\n\r\n      });\r\n  }\r\n\r\n  dateRangeChanged(event) {\r\n\r\n    if (event.formatted != \"\") {\r\n      this.filtro_fecha = event;\r\n    } else {\r\n      this.filtro_fecha = '';\r\n    }\r\n\r\n    this.filtros();\r\n  }\r\n  fechita: any;\r\n  fechitaF(event) {\r\n    this.fechita = event.target.value;\r\n    if (this.fechita2 != null) {\r\n      this.filtro_fecha = this.fechita + ' - ' + this.fechita2;\r\n      this.filtros();\r\n    }\r\n  }\r\n  fechita2: any;\r\n  fechitaF2(event) {\r\n    this.fechita2 = event.target.value;\r\n    if (this.fechita != null) {\r\n      this.filtro_fecha = this.fechita + ' - ' + this.fechita2;\r\n      this.filtros();\r\n    }\r\n  }\r\n  filtros() {\r\n\r\n    let params: any = {};\r\n\r\n    if (this.filtro_fecha != \"\" || this.filtro_cod != \"\" || this.filtro_prov != \"\" || this.filtro_est != '' || this.filtro_func != '') {\r\n      this.loading = true;\r\n      this.page = 1;\r\n      params.pag = this.page;\r\n\r\n\r\n      if (this.filtro_fecha != \"\" && this.filtro_fecha != null) {\r\n        params.fecha = this.filtro_fecha;\r\n      }\r\n      if (this.filtro_cod != \"\") {\r\n        params.cod = this.filtro_cod;\r\n      }\r\n      if (this.filtro_prov != \"\") {\r\n        params.prov = this.filtro_prov;\r\n      }\r\n      if (this.filtro_est != \"\") {\r\n        params.est = this.filtro_est;\r\n      }\r\n      if (this.filtro_func != \"\") {\r\n        params.func = this.filtro_func;\r\n      }\r\n      let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n      this.location.replaceState('/compras/nacional', queryString); // actualizando URL\r\n\r\n      this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n        this.comprasnacionales = data.compras;\r\n        this.TotalItems = data.numReg;\r\n        this.loading = false;\r\n      });\r\n    } else {\r\n      this.location.replaceState('/compras/nacional', '');\r\n      this.loading = true;\r\n      this.page = 1;\r\n      this.filtro_cod = '';\r\n      this.filtro_est = '';\r\n      this.filtro_fecha = '';\r\n      this.filtro_prov = '';\r\n      this.filtro_func = '';\r\n      this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?', this.requiredParams).subscribe((data: any) => {\r\n        this.comprasnacionales = data.compras;\r\n        this.TotalItems = data.numReg;\r\n        this.loading = false;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  paginacion() {\r\n\r\n    let params: any = {\r\n      pag: this.page\r\n    };\r\n\r\n    if (this.filtro_fecha != \"\" && this.filtro_fecha != null) {\r\n      params.fecha = this.filtro_fecha;\r\n    }\r\n    if (this.filtro_cod != \"\") {\r\n      params.cod = this.filtro_cod;\r\n    }\r\n    if (this.filtro_est != \"\") {\r\n      params.est = this.filtro_est;\r\n    }\r\n    if (this.filtro_prov != \"\") {\r\n      params.prov = this.filtro_prov;\r\n    }\r\n    if (this.filtro_func != \"\") {\r\n      params.func = this.filtro_func;\r\n    }\r\n    let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n    this.location.replaceState('/comprasnacionales', queryString); // actualizando URL\r\n\r\n    this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n      this.comprasnacionales = data.compras;\r\n      this.TotalItems = data.numReg;\r\n\r\n    });\r\n  }\r\n\r\n  anularCompra(id, motivo) {\r\n    let datos = new FormData();\r\n    datos.append(\"id\", id);\r\n\r\n    datos.append(\"funcionario\", '1');\r\n    datos.append(\"estado\", \"Anulada\");\r\n    datos.append(\"motivo\", motivo);\r\n    this.http.post(environment.ruta + 'php/comprasnacionales/actualiza_compra.php', datos).subscribe((data: any) => {\r\n      this.deleteSwal.show();\r\n      this.cargarIndicadores();\r\n      this.ListarComprasNacionales();\r\n    })\r\n  }\r\n\r\n  onPage(event) {\r\n    clearTimeout(this.timeout);\r\n    this.timeout = setTimeout(() => {\r\n      // console.log('paged!', event);\r\n    }, 100);\r\n  }\r\n\r\n  tablaLocalstorage() {\r\n    if (this.proveedorPreCompra.length > 0) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  actualiza_filtro(txt) {\r\n    const val = txt.toLowerCase();\r\n    switch (val) {\r\n      case \"todos\": {\r\n        this.location.replaceState('/comprasnacionales', ''); // Quitar los queryStrings\r\n        this.filtro_cod = '';\r\n        this.filtro_est = '';\r\n\r\n        this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php', this.requiredParams).subscribe((data: any) => {\r\n          this.comprasnacionales = data.compras;\r\n          this.TotalItems = data.numReg;\r\n\r\n        });\r\n\r\n        break;\r\n      }\r\n      case \"pendiente\": {\r\n\r\n        this.filtro_est = val; // Setear variable global del filtro de estado\r\n\r\n        let params: any = {\r\n          pag: this.page,\r\n          est: val\r\n        };\r\n\r\n        if (this.filtro_cod != \"\") {\r\n          params.cod = this.filtro_cod;\r\n        }\r\n\r\n        let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n        this.location.replaceState('/comprasnacionales', queryString);\r\n\r\n        this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n          this.comprasnacionales = data.compras;\r\n          this.TotalItems = data.numReg;\r\n\r\n        });\r\n        break;\r\n      }\r\n      case \"no conforme\": {\r\n\r\n        this.filtro_est = val; // Setear variable global del filtro de estado\r\n\r\n        let params: any = {\r\n          pag: this.page,\r\n          est: val\r\n        };\r\n\r\n        if (this.filtro_cod != \"\") {\r\n          params.cod = this.filtro_cod;\r\n        }\r\n\r\n        let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n        this.location.replaceState('/comprasnacionales', queryString);\r\n\r\n        this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n          this.comprasnacionales = data.compras;\r\n          this.TotalItems = data.numReg;\r\n\r\n        });\r\n\r\n        break;\r\n      }\r\n      case \"anulada\": {\r\n\r\n        this.filtro_est = val; // Setear variable global del filtro de estado\r\n\r\n        let params: any = {\r\n          pag: this.page,\r\n          est: val\r\n        };\r\n\r\n        if (this.filtro_cod != \"\") {\r\n          params.cod = this.filtro_cod;\r\n        }\r\n\r\n        let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n        this.location.replaceState('/comprasnacionales', queryString);\r\n\r\n        this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n          this.comprasnacionales = data.compras;\r\n          this.TotalItems = data.numReg;\r\n\r\n        });\r\n\r\n        break;\r\n      }\r\n      case 'codigo': {\r\n\r\n        let params: any = {\r\n          pag: this.page\r\n        };\r\n\r\n        if (this.filtro_cod != \"\") {\r\n          params.cod = this.filtro_cod;\r\n        }\r\n\r\n        if (this.filtro_est != \"\") {\r\n          params.est = this.filtro_est;\r\n        }\r\n\r\n        let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n        this.location.replaceState('/comprasnacionales', queryString);\r\n\r\n        setTimeout(() => {\r\n          this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n            this.comprasnacionales = data.compras;\r\n            this.TotalItems = data.numReg;\r\n\r\n          });\r\n        }, 500);\r\n\r\n        break;\r\n      }\r\n      case 'recibida': {\r\n        this.filtro_est = val; // Setear variable global del filtro de estado\r\n\r\n        let params: any = {\r\n          pag: this.page,\r\n          est: val\r\n        };\r\n\r\n        if (this.filtro_cod != \"\") {\r\n          params.cod = this.filtro_cod;\r\n        }\r\n\r\n        let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n        this.location.replaceState('/comprasnacionales', queryString);\r\n\r\n        this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n          this.comprasnacionales = data.compras;\r\n          this.TotalItems = data.numReg;\r\n\r\n        });\r\n\r\n        break;\r\n      }\r\n      case 'devuelta': {\r\n        this.filtro_est = val; // Setear variable global del filtro de estado\r\n\r\n        let params: any = {\r\n          pag: this.page,\r\n          est: val\r\n        };\r\n\r\n        if (this.filtro_cod != \"\") {\r\n          params.cod = this.filtro_cod;\r\n        }\r\n\r\n        let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n        this.location.replaceState('/comprasnacionales', queryString);\r\n\r\n        this.http.get(environment.ruta + '/php/comprasnacionales/lista_compras.php?' + queryString, this.requiredParams).subscribe((data: any) => {\r\n          this.comprasnacionales = data.compras;\r\n          this.TotalItems = data.numReg;\r\n\r\n        });\r\n\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  cargarIndicadores() {\r\n    this.http.get(environment.ruta + '/php/comprasnacionales/indicadores_conteo_nacional.php').subscribe((data: any) => {\r\n      this.indicadores = data;\r\n    })\r\n  }\r\n\r\n  getDiasAnulacion() {\r\n    this.http.get(environment.ruta + '/php/comprasnacionales/get_dias_anulacion.php').subscribe((data: any) => {\r\n      this.dias_anulacion = data['Dias_Anulacion'];\r\n      this.funcionario_anulacion = data['Funcionario_Anulacion'];\r\n    })\r\n  }\r\n\r\n  getFuncioriosParaResponsables() {\r\n    this.http.get(environment.ruta + 'php/funcionarios/lista_funcionarios.php?depen=sistemas').subscribe((data: any) => {\r\n      this.funcionarios_anulacion = data['funcionarios'];\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n  setDiasAnulacion() {\r\n\r\n    if (this.dias_anulacion <= 0) {\r\n      this.infoSwal.type = 'error'\r\n      this.infoSwal.title = 'Ha ocurrido un error!'\r\n      this.infoSwal.text = 'El valor no puede ser menor a 1';\r\n      this.infoSwal.show();\r\n      return false;\r\n    }\r\n\r\n    let params: any = {};\r\n    params.Dias_Anulacion = this.dias_anulacion;\r\n    params.Funcionario_Anulacion = this.funcionario_anulacion;\r\n\r\n    this.http.get(environment.ruta + '/php/comprasnacionales/set_dias_anulacion.php', { params: params }).subscribe((data: any) => {\r\n      this.infoSwal.type = data.type;\r\n      this.infoSwal.title = data.title;\r\n      this.infoSwal.text = data.message;\r\n      this.infoSwal.show();\r\n    })\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <div class=\"card-title d-flex justify-content-between\">\r\n      <div class=\"col-md-6 px-0\">\r\n        <h4 class=\"text-primary\">rdenes de compra</h4>\r\n      </div>\r\n      <div class=\"col-md-6 px-0 text-right\">\r\n        <div class=\"btn-group rounded w-sm-100\">\r\n          <button\r\n            class=\"btn btn-primary btn-sm\"\r\n            [routerLink]=\"['/compras/crear-nacional']\"\r\n          >\r\n            <i class=\"fa fa-plus\"></i> Agregar\r\n          </button>\r\n          <button class=\"btn btn-info btn-sm\" (click)=\"openClose()\">\r\n            <i class=\"fas fa-sliders-h\"></i> Filtros\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <mat-accordion multi>\r\n      <mat-expansion-panel #matPanel class=\"mat-elevation-z0\">\r\n        <div class=\"row\">\r\n          <mat-form-field class=\"col\" appearance=\"outline\">\r\n            <mat-label>Funcionario</mat-label>\r\n            <input\r\n              type=\"text\"\r\n              matInput\r\n              name=\"nit\"\r\n              [(ngModel)]=\"filtro_func\"\r\n              autocomplete=\"off\"\r\n              placeholder=\"Busca por funcionario\"\r\n              (input)=\"filtros()\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col\" appearance=\"outline\">\r\n            <mat-label>Fecha de inicio</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"date\"\r\n              [(ngModel)]=\"fechita\"\r\n              (input)=\"fechitaF($event)\"\r\n              autocomplete=\"off\"\r\n              placeholder=\"Busca por fecha\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col\" appearance=\"outline\">\r\n            <mat-label>Fecha de fin</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"date\"\r\n              [(ngModel)]=\"fechita2\"\r\n              (input)=\"fechitaF2($event)\"\r\n              autocomplete=\"off\"\r\n              placeholder=\"Busca por fecha\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col\" appearance=\"outline\">\r\n            <mat-label>Cdigo</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"text\"\r\n              [(ngModel)]=\"filtro_cod\"\r\n              (blur)=\"filtros()\"\r\n              autocomplete=\"off\"\r\n              placeholder=\"Busca por cdigo\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col\" appearance=\"outline\">\r\n            <mat-label>Proveedor</mat-label>\r\n            <input\r\n              type=\"text\"\r\n              matInput\r\n              name=\"nit\"\r\n              [(ngModel)]=\"filtro_prov\"\r\n              (blur)=\"filtros()\"\r\n              autocomplete=\"off\"\r\n              placeholder=\"Busca por proveedor\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col\" appearance=\"outline\">\r\n            <mat-label>Estado</mat-label>\r\n            <mat-select [(ngModel)]=\"filtro_est\" (selectionChange)=\"filtros()\">\r\n              <mat-option value=\"\">Todos</mat-option>\r\n              <mat-option value=\"Pendiente\">Pendiente</mat-option>\r\n              <mat-option value=\"No conforme\">No Conforme</mat-option>\r\n              <mat-option value=\"Anulada\">Anulada</mat-option>\r\n              <mat-option value=\"Recibida\">Recibida</mat-option>\r\n              <mat-option value=\"Devuelta\">Devuelta</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n    <table\r\n      class=\"table table-bordered table-striped table-sm table-responsive-sm\"\r\n      style=\"font-size: small\"\r\n      *ngIf=\"!loading && comprasnacionales.length > 0; else notData\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th>Fecha</th>\r\n          <th>Cdigo</th>\r\n          <th>Proveedor</th>\r\n          <th>Estado</th>\r\n          <th>Aprobacin</th>\r\n          <th class=\"text-center col-md-1\">Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let compra of comprasnacionales\">\r\n          <td>\r\n            <img\r\n              [src]=\"compra.Imagen | image : 'users'\"\r\n              style=\"width: 15px\"\r\n              class=\"img-radius imagen\"\r\n            />\r\n            {{ compra.Funcionario }}\r\n          </td>\r\n          <td>{{ compra.Fecha | date : \"dd/MM/yyyy\" }}</td>\r\n          <td>{{ compra.Codigo }}</td>\r\n\r\n          <td>\r\n            <div class=\"text-center\">\r\n              {{ compra.Proveedor }}\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <span\r\n                class=\"label {{\r\n                  compra.Estado == 'Anulada' ? 'label-danger' : ''\r\n                }} {{ compra.Estado == 'Recibida' ? 'label-inverse' : '' }} {{\r\n                  compra.Estado == 'Pendiente' ? 'label-warning' : ''\r\n                }}\"\r\n                >{{ compra.Estado }}\r\n              </span>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <span class=\"label label-success\">{{ compra.Aprobacion }}</span>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn-sm btn btn-secondary btn-mini waves-effect waves-light\"\r\n                  type=\"button\"\r\n                >\r\n                  Acciones\r\n                </button>\r\n                <div ngbDropdownMenu>\r\n                  <a\r\n                    *ngIf=\"\r\n                      compra.Estado != 'Anulada' &&\r\n                      compra.Estado != 'Recibida' &&\r\n                      compra.Estado_Aprobacion == 'Rechazada'\r\n                    \"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"\"\r\n                    [routerLink]=\"[\r\n                      '/comprasnacionaleseditar',\r\n                      compra.Id_Orden_Compra_Nacional\r\n                    ]\"\r\n                  >\r\n                    <i class=\"ti-pencil\"></i>Editar</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"\"\r\n                    [routerLink]=\"[\r\n                      '/compras/ver-nacional',\r\n                      compra.Id_Orden_Compra_Nacional\r\n                    ]\"\r\n                  >\r\n                    <i class=\"ti-eye\"></i>Ver</a\r\n                  >\r\n                  <!-- TODO Imprimir Orden Compra -->\r\n                  <!--  <a\r\n                              class=\"\r\n                                dropdown-item\r\n                                waves-light waves-effect\r\n                                caja-botones\r\n                              \"\r\n                              href=\"{{\r\n                                environment.ruta\r\n                              }}php/comprasnacionales/descarga_pdf.php?tipo=Orden_Compra_Nacional&id={{\r\n                                compra.Id_Orden_Compra_Nacional\r\n                              }}\"\r\n                              target=\"_blank\"\r\n                            >\r\n                              <i class=\"ti-printer\"></i>Imprimir</a\r\n                            > -->\r\n                  <a\r\n                    *ngIf=\"compra.Estado != 'Anulada'\"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"\"\r\n                    [swal]=\"anulacion\"\r\n                    (confirm)=\"\r\n                      anularCompra(compra.Id_Orden_Compra_Nacional, $event)\r\n                    \"\r\n                  >\r\n                    <i class=\"fa fa-times\"></i>Anular</a\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <!-- {{ page * maxSize - maxSize + 1 }} al {{ page * maxSize }} de\r\n    {{ TotalItems }} -->\r\n    <ngb-pagination\r\n      *ngIf=\"comprasnacionales.length > 0\"\r\n      class=\"pull-right\"\r\n      [collectionSize]=\"TotalItems\"\r\n      [(page)]=\"page\"\r\n      [maxSize]=\"maxSize\"\r\n      [pageSize]=\"20\"\r\n      size=\"sm\"\r\n      (pageChange)=\"paginacion()\"\r\n      [boundaryLinks]=\"true\"\r\n    >\r\n    </ngb-pagination>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"loading\"></app-not-data>\r\n</ng-template>\r\n\r\n<swal\r\n  #anulacion\r\n  title=\"Est Seguro?\"\r\n  text=\"Ingrese la causal de anulacin\"\r\n  input=\"text\"\r\n  type=\"warning\"\r\n  showCancelButton=\"true\"\r\n  confirmButtonText=\"Si, Eliminar\"\r\n  cancelButtonText=\"No, Dejame Comprobar!\"\r\n></swal>\r\n\r\n<swal\r\n  #deleteSwal\r\n  title=\"Orden de Compra Anulada\"\r\n  text=\"Se ha Anulado Correctamente la Orden de Compra\"\r\n  type=\"success\"\r\n>\r\n</swal>\r\n\r\n<swal #infoSwal title=\"\" text=\"\" type=\"\"> </swal>\r\n\r\n<ng-template #Message>No existe precompras en este momento </ng-template>\r\n\r\n<app-modal-basic #configuracion>\r\n  <div class=\"app-modal-header\">\r\n    <h4>Configuracin</h4>\r\n    <button\r\n      type=\"button\"\r\n      class=\"close basic-close\"\r\n      (click)=\"configuracion.hide()\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"app-modal-body\">\r\n    <h5>Caducidad en la compra</h5>\r\n    <p>\r\n      Segn el nmero de das que escriba se anularn las compras sin acta de\r\n      recepcin.\r\n    </p>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-6\">\r\n        <div class=\"form-group\">\r\n          <label for=\"dias\"> Modifique los dias: </label>\r\n          <input\r\n            type=\"number\"\r\n            pattern=\"[0-9]+\"\r\n            [(ngModel)]=\"dias_anulacion\"\r\n            placeholder=\"numero de das\"\r\n            class=\"form-control mb-4\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"col-sm-6\">\r\n        <div class=\"form-group\">\r\n          <label for=\"responsable\"> Modifique el responsable: </label>\r\n          <select\r\n            class=\"form-control\"\r\n            [(ngModel)]=\"funcionario_anulacion\"\r\n            id=\"responsable\"\r\n          >\r\n            <option\r\n              *ngFor=\"let func of funcionarios_anulacion\"\r\n              [value]=\"func.Identificacion_Funcionario\"\r\n            >\r\n              {{ func.Funcionario }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"app-modal-footer\">\r\n    <button class=\"btn btn-sm btn-success\" (click)=\"setDiasAnulacion()\">\r\n      Actualizar\r\n    </button>\r\n    <button class=\"btn btn-sm btn-danger\" (click)=\"configuracion.hide()\">\r\n      Cerrar\r\n    </button>\r\n  </div>\r\n</app-modal-basic>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CompraNacionalComponent } from './compra-nacional/compra-nacional.component';\r\nimport { CrearCompraNacionalComponent } from './compra-nacional/crear-compra-nacional/crear-compra-nacional.component';\r\nimport { VerCompraNacionalComponent } from './compra-nacional/ver-compra-nacional/ver-compra-nacional.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'nacional', component: CompraNacionalComponent },\r\n  { path: 'crear-nacional', component: CrearCompraNacionalComponent },\r\n  { path: 'ver-nacional/:id', component: VerCompraNacionalComponent },\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ComprasRoutingModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { environment } from 'src/environments/environment';\r\nimport { User } from 'src/app/core/models/users.model';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-ver-compra-nacional',\r\n  templateUrl: './ver-compra-nacional.component.html',\r\n  styleUrls: ['./ver-compra-nacional.component.scss']\r\n})\r\nexport class VerCompraNacionalComponent implements OnInit {\r\n  public userF : User;\r\n  public objeto:any = { 'Costo Incorrecto' : 'Costo Incorrecto', 'Proveedor Incorrecto' : 'Proveedor Incorrecto', 'Productos Incorrectos' : 'Productos Incorrectos'};\r\n  public Compra:any = [];\r\n  public Productos:any = [];\r\n  public Rechazo:any = [];\r\n  public Total: number = 0;\r\n  Fecha = new Date();\r\n  public id:any = '';\r\n  public SubTotalFinal:any = 0;\r\n  public IvaFinal:any = 0;\r\n  public TotalFinal:any = 0;\r\n  public Actividades: any[]=[];\r\n  /* TODO USR AuTH */\r\n  public user = {Identificacion_Funcionario:'1'} ;\r\n  public permiso: boolean = false;\r\n  public Lista_Rechazo:any={};\r\n  @ViewChild('confirmacionSwal') confimracionSwal:any;\r\n\r\n  constructor(private http: HttpClient, private router: ActivatedRoute, private _user: UserService,) {\r\n    this.id = this.router.snapshot.params[\"id\"]; \r\n    this.http.get(environment.ruta + 'php/comprasnacionales/datos_compras_nacionales.php', {params: { id: this.id }}).subscribe((data: any) => {\r\n      this.Compra = data;\r\n    });\r\n    this.http.get(environment.ruta + 'php/comprasnacionales/detalles_compras_nacionales.php', {params: { id: this.id }}).subscribe((data: any) => {\r\n      this.Productos = data.Productos;\r\n      // console.log(this.Productos);\r\n      \r\n      let subtotal = 0;\r\n      let iva = 0;\r\n      let subt_acumulada = 0;\r\n      let total = 0;\r\n      let iva_acumulada = 0;\r\n\r\n      this.Productos.forEach(p => {\r\n        this.Total += parseInt(p.Total);\r\n        subtotal = parseFloat(p.Cantidad) * parseFloat(p.Costo);\r\n        iva = ((parseFloat(p.Cantidad) * parseFloat(p.Costo)) * (parseFloat(p.Iva)/100)); \r\n        subt_acumulada += subtotal;\r\n        iva_acumulada += iva;\r\n        total += subtotal + iva;\r\n      });\r\n      this.IvaFinal = this.formatMoney(iva_acumulada);\r\n      this.SubTotalFinal = this.formatMoney(subt_acumulada);\r\n      this.TotalFinal = this.formatMoney(total);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.userF = this._user.user;\r\n    this.http.get(environment.ruta+'php/comprasnacionales/actividad_orden_compra.php',{\r\n      params : { id : this.id }\r\n    }).subscribe((data:any)=>{\r\n      this.Actividades=data;\r\n      // console.log(this.Actividades);            \r\n    });\r\n\r\n    this.http.get(environment.ruta+'php/comprasnacionales/detalle_perfil.php', { params: { funcionario: this.user.Identificacion_Funcionario } }).subscribe((data:any) => {\r\n      this.permiso = data.status;\r\n    })\r\n    this.http.get(environment.ruta+'php/comprasnacionales/detalle_rechazo.php', { params: { funcionario: this.user.Identificacion_Funcionario } }).subscribe((data:any) => {\r\n      for (let i = 0; i < data.length; i++) {\r\n        this.Lista_Rechazo[data[i].Id_Tipo_Rechazo] = data[i].Nombre;\r\n        \r\n      }\r\n    }); \r\n\r\n    \r\n\r\n  }\r\n  EstadoAprobacion(valor, Estado){\r\n    let datos = new FormData();\r\n    datos.append('id', this.id);\r\n    datos.append('estado', Estado);\r\n    datos.append('funcionario', this.user.Identificacion_Funcionario);\r\n    datos.append(\"motivo\",valor)\r\n    \r\n    this.http.post(environment.ruta+'php/comprasnacionales/actualiza_compra.php', datos).subscribe((data:any) => {\r\n      this.confimracionSwal.title = data.titulo;\r\n      this.confimracionSwal.text = data.mensaje;\r\n      this.confimracionSwal.icon = data.tipo;\r\n      this.confimracionSwal.fire();\r\n      this.init();\r\n    })\r\n  }\r\n\r\n  init() {\r\n    this.http.get(environment.ruta + 'php/comprasnacionales/datos_compras_nacionales.php', {params: { id: this.id }}).subscribe((data: any) => {\r\n      this.Compra = data;\r\n    });\r\n    this.http.get(environment.ruta+'php/comprasnacionales/actividad_orden_compra.php',{\r\n      params : { id : this.id }\r\n    }).subscribe((data:any)=>{\r\n      this.Actividades=data;\r\n      // console.log(this.Actividades);            \r\n    });\r\n\r\n    this.http.get(environment.ruta+'php/comprasnacionales/detalle_perfil.php', { params: { funcionario: this.user.Identificacion_Funcionario } }).subscribe((data:any) => {\r\n      this.permiso = data.status;\r\n    })\r\n  }\r\n  formatMoney = (n,c=undefined,d=undefined,t=undefined) => {\r\n    var c = isNaN(c = Math.abs(c)) ? 2 : c,\r\n    d = d == undefined ? \".\" : d,\r\n    t = t == undefined ? \",\" : t,\r\n    s = n < 0 ? \"-\" : \"\",\r\n    i:any = String(parseInt(n = Math.abs(Number(n) || 0).toFixed(c))),\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n\r\n    return s + (j ? i.substr(0, j) + t : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : \"\");\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-md-4\">\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"card-title\">\r\n          <h5 class=\"text-primary\">Seguimiento</h5>\r\n        </div>\r\n        <hr class=\"line\" />\r\n        <ul class=\"list-group list-group-flush\">\r\n          <li *ngFor=\"let Actividad of Actividades\" class=\"list-group-item px-0\">\r\n            <div class=\"card-title d-flex justify-content-between\">\r\n              <div>\r\n                <span\r\n                  class=\"badge {{\r\n                    Actividad.Estado == 'Creacion' ? 'badge-info' : ''\r\n                  }} {{\r\n                    Actividad.Estado == 'Edicion' ? 'badge-warning' : ''\r\n                  }}{{\r\n                    Actividad.Estado == 'Anulada' ||\r\n                    Actividad.Estado == 'Rechazada'\r\n                      ? 'badge-danger'\r\n                      : ''\r\n                  }}{{ Actividad.Estado == 'Recepcion' ? 'badge-dark' : '' }} {{\r\n                    Actividad.Estado == 'Aprobacion' ? 'badge-success ' : ''\r\n                  }}\"\r\n                  >{{ Actividad.Estado }}</span\r\n                >\r\n              </div>\r\n              <img\r\n                class=\"img-thumbnail rounded-circle header-profile-user img-fluid\"\r\n                [src]=\"Actividad.Imagen | image: 'users'\"\r\n                onerror=\"this.src='../../../../assets/images/noprofile.png'\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <p>\r\n              {{ Actividad.Detalles }} <br />\r\n              <small class=\"text-muted\"> {{ Actividad.Fecha }}</small>\r\n            </p>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-8\">\r\n    <div class=\"card\">\r\n      <!--    <img *ngIf=\"Compra.Codigo_Qr!=''\" src=\"{{environment.ruta}}IMAGENES/QR/{{Compra.Codigo_Qr}}\" class=\"img-fluid\" style=\"margin-top: -20px;\">\r\n                    <img *ngIf=\"Compra.Codigo_Qr==''\" src=\"assets/images/sinqr.png\" class=\"img-fluid\" style=\"margin-top: -20px;\"> -->\r\n      <div class=\"card-body\">\r\n        <div class=\"card-title d-flex justify-content-between\">\r\n          <div class=\"card m-0 p-0 border-0 shadow-none\">\r\n            <div class=\"card-horizontal\">\r\n              <div class=\"img-square-wrapper\">\r\n                <img\r\n                  [src]=\"userF.person.company_worked.logo | image: 'companies'\"\r\n                  alt=\"\"\r\n                  height=\"45\"\r\n                />\r\n              </div>\r\n              <div class=\"card-body p-0 m-0\">\r\n                <p class=\"card-text\" style=\"font-size: x-small\">\r\n                  {{ userF.person.company_worked.name }} <br />\r\n                  NIT {{ userF.person.company_worked.tin }} <br />\r\n                  {{ userF.person.company_worked.address }} <br />\r\n                  {{ userF.person.company_worked.phone }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"text-right\">\r\n            <h4>\r\n              <span class=\"badge badge-primary\">{{ Compra.Codigo }}</span>\r\n            </h4>\r\n            <h5>{{ Compra.Estado }}</h5>\r\n            <h6>{{ Fecha | date: \"longDate\" }}</h6>\r\n            \r\n          </div>\r\n        </div>\r\n        <table class=\"table table-bordered table-responsive-sm table-sm\" style=\"font-size: small\">\r\n          <thead class=\"bg-light\">\r\n            <tr class=\"text-center text-uppercase\">\r\n              <th>Proveedor</th>\r\n              <th>Bodega</th>\r\n              <th>Fecha de Compra</th>\r\n              <th>Fecha Probable de Entrega</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr class=\"text-center\">\r\n              <td>\r\n                <p>\r\n                  <strong>{{ Compra.Proveedor }}</strong>\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <p>\r\n                  <strong>{{ Compra.Bodega }}</strong>\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <p>\r\n                  <strong>\r\n                    {{ Compra.Fecha_Compra | date: \"dd/MM/yyyy\" }}</strong\r\n                  >\r\n                </p>\r\n              </td>\r\n              <td>\r\n                <p>\r\n                  <strong> {{ Compra.Fecha_Probable }}</strong>\r\n                </p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <hr />\r\n        <div class=\"card bg-light\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Observaciones</h5>\r\n            <p>{{ Compra.Observaciones }}</p>\r\n          </div>\r\n        </div>\r\n        <table class=\"table table-bordered table-responsive-sm table-sm\" style=\"font-size: small\">\r\n          <thead class=\"bg-light\">\r\n            <tr class=\"text-center text-uppercase\">\r\n              <th>#</th>\r\n              <th>Producto</th>\r\n              <th>Embalaje</th>\r\n              <th>Cantidad</th>\r\n              <th>Costo</th>\r\n              <th>IVA</th>\r\n              <th>SubTotal</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              class=\"text-center\"\r\n              *ngFor=\"let Producto of Productos; let i = index\"\r\n              id=\"fila{{ i }}\"\r\n            >\r\n              <td class=\"align-middle\">\r\n                <strong>{{ i + 1 }}</strong>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <strong\r\n                  >{{ Producto.Nombre_Comercial }} <br />\r\n                  {{ Producto.Nombre_Producto }}\r\n                </strong>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                {{ Producto.Embalaje }}\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                {{ Producto.Cantidad | number | puntos }}\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                ${{ Producto.Costo | currency: \"COP\" }}\r\n              </td>\r\n              <td class=\"align-middle\">{{ Producto.Iva }}%</td>\r\n              <td class=\"align-middle\">\r\n                ${{ Producto.Total | currency: \"COP\" }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <table class=\"table d-flex justify-content-end\">\r\n          <tbody>\r\n            <tr>\r\n              <th scope=\"col\">SUBTOTAL:</th>\r\n              <td class=\"text-right\">$ {{ SubTotalFinal }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"col\">IVA:</th>\r\n              <td class=\"text-right\">${{ IvaFinal }}</td>\r\n            </tr>\r\n            <tr>\r\n              <th scope=\"col\">TOTAL:</th>\r\n              <td class=\"text-right\">${{ TotalFinal }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <!-- TODO APROBAR COMPRA -->\r\n        <div\r\n          class=\"row m-b-20\"\r\n          *ngIf=\"permiso && Compra.Aprobacion == 'Pendiente'\"\r\n        >\r\n          <div class=\"col-md-6 col-sm-6\">\r\n            <button\r\n              class=\"btn btn-danger btn-block\"\r\n              [swal]=\"{\r\n                title: 'Est Seguro?',\r\n                text: 'Se dispone a rechazar esta Orden de Compra, por favor seleccione un motivo',\r\n                icon: 'warning',\r\n                input: 'select',\r\n                inputOptions: Lista_Rechazo,\r\n                inputPlaceholder: 'Seleccione un Motivo',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Si, Rechazar',\r\n                cancelButtonText: 'No, Dejame Comprobar!'\r\n              }\"\r\n              (confirm)=\"EstadoAprobacion($event, 'Rechazada')\"\r\n            >\r\n              <i class=\"fa fa-thumbs-down\"></i> RECHAZAR\r\n            </button>\r\n          </div>\r\n          <div class=\"col-md-6 col-sm-6\">\r\n            <button\r\n              class=\"btn btn-success btn-block\"\r\n              [swal]=\"{\r\n                title: 'Est Seguro?',\r\n                text: 'Se dispone a aprobar esta orden de compra para proceder a solicitarla.',\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Si, Aprobar',\r\n                cancelButtonText: 'No, Dejame Comprobar!'\r\n              }\"\r\n              (confirm)=\"EstadoAprobacion('', 'Aprobada')\"\r\n            >\r\n              <i class=\"fa fa-thumbs-up\"></i> APROBAR Y PROCEDER\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <!-- TODO PENDIENTE IMPRIMIR -->\r\n        <!-- <a href=\"{{environment.ruta}}php/comprasnacionales/descarga_pdf.php?tipo=Orden_Compra_Nacional&id={{id}}\" target=\"_blank\" class=\"btn btn-success btn-sm m-l-5 pull-right\" style=\"margin-right: 10px;\">\r\n                <i class=\"fa fa-print\"></i> IMPRIMIR DOCUMENTO</a> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<swal #confirmacionSwal title=\"\" text=\"\" icon=\"\"></swal>\r\n","import { NgModule } from '@angular/core';\r\nimport { ComprasRoutingModule } from './compras-routing.module';\r\nimport { MyDateRangePickerModule } from 'mydaterangepicker';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CompraNacionalComponent } from './compra-nacional/compra-nacional.component';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\r\nimport { CrearCompraNacionalComponent } from './compra-nacional/crear-compra-nacional/crear-compra-nacional.component';\r\nimport {\r\n  NgbTypeaheadModule,\r\n  NgbDropdownModule,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { PipesModule } from '../../core/pipes/pipes.module';\r\nimport { VerCompraNacionalComponent } from './compra-nacional/ver-compra-nacional/ver-compra-nacional.component';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CompraNacionalComponent,\r\n    CrearCompraNacionalComponent,\r\n    VerCompraNacionalComponent,\r\n  ],\r\n  imports: [\r\n    NgSelectModule,\r\n    HttpClientModule,\r\n    PipesModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    ComprasRoutingModule,\r\n    ComponentsModule,\r\n    MyDateRangePickerModule,\r\n    NgbTypeaheadModule,\r\n    NgbDropdownModule,\r\n    ReactiveFormsModule,\r\n    MatExpansionModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    SweetAlert2Module.forRoot(),\r\n  ],\r\n})\r\nexport class ComprasModule {}\r\n"],"sourceRoot":"webpack:///"}