{"version":3,"sources":["./src/app/pages/contabilidad/comprobantes/notascredito/notascredito.component.ts","./src/app/pages/contabilidad/comprobantes/notascredito/notascredito.component.html","./src/app/pages/contabilidad/comprobantes/notascredito/notascreditocrear/notascreditocrear.component.ts","./src/app/pages/contabilidad/comprobantes/notascredito/notascreditocrear/notascreditocrear.component.html","./src/app/pages/contabilidad/comprobantes/ingresos/comprobanteingresocrear/tablafacturafaltante/tablafacturafaltante.component.html","./src/app/pages/contabilidad/comprobantes/ingresos/comprobanteingresocrear/tablafacturafaltante/tablafacturafaltante.component.ts","./src/app/pages/contabilidad/comprobantes/egresos/egresos.service.ts","./src/app/pages/contabilidad/comprobantes/ingresos/comprobanteingresocrear/comprobanteingresocrear.component.ts","./src/app/pages/contabilidad/comprobantes/ingresos/comprobanteingresocrear/comprobanteingresocrear.component.html","./src/app/pages/contabilidad/comprobantes/egresos/comprobanteegresovarioscrear/comprobanteegresovarioscrear.component.ts","./src/app/pages/contabilidad/comprobantes/egresos/comprobanteegresovarioscrear/comprobanteegresovarioscrear.component.html","./src/app/pages/contabilidad/comprobantes/notas-carteras/notas-carteras.component.ts","./src/app/pages/contabilidad/comprobantes/notas-carteras/notas-carteras.component.html","./src/app/pages/contabilidad/comprobantes/notas-carteras/notas-carteras.service.ts","./src/app/pages/contabilidad/comprobantes/egresos/egresos.component.ts","./src/app/pages/contabilidad/comprobantes/egresos/egresos.component.html","./src/app/pages/contabilidad/comprobantes/notascredito/notascreditover/notascreditover.component.ts","./src/app/pages/contabilidad/comprobantes/notascredito/notascreditover/notascreditover.component.html","./src/app/pages/contabilidad/comprobantes/notas-contables/notas-contables.service.ts","./src/app/pages/contabilidad/comprobantes/ingresos/ingresos.component.ts","./src/app/pages/contabilidad/comprobantes/ingresos/ingresos.component.html","./src/app/pages/contabilidad/comprobantes/notas-contables/crear-nota-contable/crear-nota-contable.component.ts","./src/app/pages/contabilidad/comprobantes/notas-contables/crear-nota-contable/crear-nota-contable.component.html","./src/app/pages/contabilidad/comprobantes/notas-contables/notas-contables.component.ts","./src/app/pages/contabilidad/comprobantes/notas-contables/notas-contables.component.html","./src/app/pages/contabilidad/comprobantes/borradorcomprobantes/borradorcomprobantes.component.ts","./src/app/pages/contabilidad/comprobantes/borradorcomprobantes/borradorcomprobantes.component.html","./src/app/pages/contabilidad/comprobantes/ingresos/comprobanteingresocrear/tablafacturascargadas/tablafacturascargadas.component.html","./src/app/pages/contabilidad/comprobantes/ingresos/comprobanteingresocrear/tablafacturascargadas/tablafacturascargadas.component.ts","./src/app/pages/contabilidad/comprobantes/comprobantes.module.ts","./src/app/pages/contabilidad/comprobantes/notas-carteras/notascarteracrear/notascarteracrear.component.ts","./src/app/pages/contabilidad/comprobantes/notas-carteras/notascarteracrear/notascarteracrear.component.html","./src/app/pages/contabilidad/comprobantes/comprobantes-routing.module.ts"],"names":[],"mappings":"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","file":"comprobantes-comprobantes-module.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Globales } from '../../globales';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { environment } from 'src/environments/environment';\r\nimport { MatAccordion } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { DateAdapter } from 'saturn-datepicker';\r\n\r\n@Component({\r\n  selector: 'app-notascredito',\r\n  templateUrl: './notascredito.component.html',\r\n  styleUrls: ['./notascredito.component.scss'],\r\n})\r\nexport class NotascreditoComponent implements OnInit {\r\n  datePipe = new DatePipe('es-CO');\r\n  date: { year: number; month: number };\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  matPanel = false;\r\n  openClose() {\r\n    if (this.matPanel == false) {\r\n      this.accordion.openAll();\r\n      this.matPanel = true;\r\n    } else {\r\n      this.accordion.closeAll();\r\n      this.matPanel = false;\r\n    }\r\n  }\r\n  public perfilUsuario: string = '';\r\n  public funcionario: any = {};\r\n  public filtro_cod_nota: string = '';\r\n  public filtro_cod_factura: string = '';\r\n  public filtro_fecha_nota: any = '';\r\n  public filtro_funcionario: string = '';\r\n  public filtro_cliente: string = '';\r\n  public filtro_tipo_fact: string = '';\r\n  public page1 = 1;\r\n  public maxSize = 15;\r\n  public TotalItems1: number;\r\n  public Cargando = false;\r\n  public Notas: any = [];\r\n  public Servicios: any = [];\r\n  myDateRangePickerOptions1: IMyDrpOptions = {\r\n    width: '120px',\r\n    height: '21px',\r\n    selectBeginDateTxt: 'Inicio',\r\n    selectEndDateTxt: 'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n  constructor(\r\n    private http: HttpClient,\r\n    public globales: Globales,\r\n    private route: ActivatedRoute,\r\n    private location: Location,\r\n    private dateAdapter: DateAdapter<any>\r\n  ) {\r\n    // this.perfilUsuario = localStorage.getItem('miPerfil');\r\n    // this.funcionario = JSON.parse(localStorage.getItem('User')).Identificacion_Funcionario;\r\n    console.log(this.funcionario);\r\n    this.dateAdapter.setLocale('es');\r\n    // this.getServicios();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ListarDetallesFacturacion();\r\n  }\r\n\r\n  ListarDetallesFacturacion() {\r\n    this.Cargando = true;\r\n    let params = this.route.snapshot.queryParams;\r\n\r\n    let queryString = '';\r\n\r\n    if (Object.keys(params).length > 0) {\r\n      // Si existe parametros o filtros\r\n      // actualizando la variables con los valores de los paremetros.\r\n      this.page1 = params.pag ? params.pag : 1;\r\n      this.filtro_cod_nota = params.cod_nota ? params.cod_nota : '';\r\n      this.filtro_cod_factura = params.cod_factura ? params.cod_factura : '';\r\n      this.filtro_fecha_nota = params.fecha_nota ? params.fecha_nota : '';\r\n      this.filtro_funcionario = params.funcionario ? params.funcionario : '';\r\n      this.filtro_cliente = params.cliente ? params.cliente : '';\r\n\r\n      queryString =\r\n        '?' +\r\n        Object.keys(params)\r\n          .map((key) => key + '=' + params[key])\r\n          .join('&');\r\n    }\r\n\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n          '/php/notas_credito_nuevo/get_notas_creditos.php?' +\r\n          queryString\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.Notas = data.Notas_Credito;\r\n        this.TotalItems1 = data.numReg;\r\n      });\r\n  }\r\n\r\n  paginacion() {\r\n    let params: any = {\r\n      pag: this.page1,\r\n    };\r\n    console.log('page', this.page1);\r\n\r\n    if (this.filtro_cod_nota != '') {\r\n      params.cod_nota = this.filtro_cod_nota;\r\n    }\r\n    if (this.filtro_cod_factura != '') {\r\n      params.cod_factura = this.filtro_cod_factura;\r\n    }\r\n    if (this.filtro_fecha_nota != '' && this.filtro_fecha_nota != null) {\r\n      if (typeof this.filtro_fecha_nota == 'object') {\r\n        this.filtro_fecha_nota = this.filtro_fecha_nota.formatted;\r\n      }\r\n      params.fecha_nota = this.filtro_fecha_nota.formatted;\r\n    }\r\n    if (this.filtro_funcionario != '') {\r\n      params.funcionario = this.filtro_funcionario;\r\n    }\r\n    if (this.filtro_cliente != '') {\r\n      params.cliente = this.filtro_cliente;\r\n    }\r\n    if (this.filtro_tipo_fact != '') {\r\n      params.tipo = this.filtro_tipo_fact;\r\n    }\r\n\r\n    let queryString = Object.keys(params)\r\n      .map((key) => key + '=' + params[key])\r\n      .join('&');\r\n    this.Cargando = true;\r\n    this.location.replaceState('/notascreditonuevo', queryString);\r\n\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n          '/php/notas_credito_nuevo/get_notas_creditos.php?' +\r\n          queryString\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.Notas = data.Notas_Credito;\r\n        this.TotalItems1 = data.numReg;\r\n        this.Cargando = false;\r\n      });\r\n  }\r\n  filtros1() {\r\n    let params: any = {};\r\n\r\n    if (\r\n      this.filtro_cod_nota != '' ||\r\n      this.filtro_cod_factura != '' ||\r\n      this.filtro_fecha_nota != '' ||\r\n      this.filtro_funcionario != '' ||\r\n      this.filtro_cliente != '' ||\r\n      this.filtro_tipo_fact != ''\r\n    ) {\r\n      this.page1 = 1;\r\n      params.pag = this.page1;\r\n\r\n      if (this.filtro_cod_nota != '') {\r\n        params.cod_nota = this.filtro_cod_nota;\r\n      }\r\n      if (this.filtro_cod_factura != '') {\r\n        params.cod_factura = this.filtro_cod_factura;\r\n      }\r\n      if (this.filtro_fecha_nota != '' && this.filtro_fecha_nota != null) {\r\n        if (typeof this.filtro_fecha_nota == 'object') {\r\n          this.filtro_fecha_nota = this.filtro_fecha_nota.formatted;\r\n        }\r\n        params.fecha_nota = this.filtro_fecha_nota;\r\n      }\r\n\r\n      if (this.filtro_funcionario != '') {\r\n        params.funcionario = this.filtro_funcionario;\r\n      }\r\n      if (this.filtro_cliente != '') {\r\n        params.cliente = this.filtro_cliente;\r\n      }\r\n      if (this.filtro_tipo_fact != '') {\r\n        params.tipo = this.filtro_tipo_fact;\r\n      }\r\n\r\n      let queryString = Object.keys(params)\r\n        .map((key) => key + '=' + params[key])\r\n        .join('&');\r\n\r\n      this.location.replaceState('/notascreditonuevo', queryString);\r\n      this.Cargando = true;\r\n      this.http\r\n        .get(\r\n          environment.ruta +\r\n            '/php/notas_credito_nuevo/get_notas_creditos.php?' +\r\n            queryString\r\n        )\r\n        .subscribe((data: any) => {\r\n          this.Notas = data.Notas_Credito;\r\n          this.TotalItems1 = data.numReg;\r\n          this.Cargando = false;\r\n        });\r\n    } else {\r\n      this.location.replaceState('/notascreditonuevo', '');\r\n\r\n      this.page1 = 1;\r\n      this.filtro_fecha_nota = '';\r\n      this.filtro_cod_nota = '';\r\n      this.filtro_cod_factura = '';\r\n      this.filtro_funcionario = '';\r\n      this.filtro_cliente = '';\r\n      this.filtro_tipo_fact = '';\r\n      this.Cargando = true;\r\n      this.http\r\n        .get(\r\n          environment.ruta + '/php/notas_credito_nuevo/get_notas_creditos.php?'\r\n        )\r\n        .subscribe((data: any) => {\r\n          this.Notas = data.Notas_Credito;\r\n          this.TotalItems1 = data.numReg;\r\n          this.Cargando = false;\r\n        });\r\n    }\r\n  }\r\n\r\n  dateRangeChanged1(event) {\r\n    if (event.formatted != '') {\r\n      this.filtro_fecha_nota = event.formatted;\r\n    } else {\r\n      this.filtro_fecha_nota = '';\r\n    }\r\n    console.log('fecha date_R', this.filtro_fecha_nota);\r\n    this.filtros1();\r\n  }\r\n  /* getServicios(){\r\n    this._tiposervicio.GetServiciosTipoServicio().subscribe((data:any)=>{\r\n      this.Servicios=data;\r\n    })\r\n  } */\r\n  selectedDate(fecha) {\r\n    this.filtro_fecha_nota =\r\n      this.datePipe.transform(fecha.value.begin._d, 'yyyy-MM-dd') +\r\n      ' - ' +\r\n      this.datePipe.transform(fecha.value.end._d, 'yyyy-MM-dd');\r\n    this.filtros1();\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <div class=\"card-title d-flex justify-content-between\">\r\n      <h4 class=\"text-primary\">Notas Crédito</h4>\r\n      <div class=\"btn-group rounded\">\r\n        <button\r\n          [routerLink]=\"['/contabilidad/comprobantes/notas-credito/crear']\"\r\n          class=\"btn btn-primary btn-sm\"\r\n        >\r\n          <i class=\"fa fa-plus\"></i>\r\n          Agregar\r\n        </button>\r\n        <button\r\n          class=\"btn btn-info btn-sm\"\r\n          style=\"float: right\"\r\n          (click)=\"openClose()\"\r\n        >\r\n          <i class=\"fas fa-sliders-h\"></i> Filtros\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <mat-accordion multi>\r\n      <mat-expansion-panel class=\"mat-elevation-z0\">\r\n        <mat-form-field appearance=\"outline\" class=\"col-md-3 pl-0\">\r\n          <mat-label>Rango de fechas</mat-label>\r\n          <input\r\n            matInput\r\n            [satDatepicker]=\"picker\"\r\n            [value]=\"date\"\r\n            (dateChange)=\"selectedDate($event)\"\r\n            (dateInput)=\"selectedDate($event)\"\r\n            name=\"daterange\"\r\n            autocomplete=\"off\"\r\n            required\r\n          />\r\n          <sat-datepicker #picker [rangeMode]=\"true\"></sat-datepicker>\r\n          <sat-datepicker-toggle\r\n            matSuffix\r\n            [for]=\"picker\"\r\n          ></sat-datepicker-toggle>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 pl-0\" appearance=\"outline\">\r\n          <mat-label>Código</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por código\"\r\n            [(ngModel)]=\"filtro_cod_nota\"\r\n            (input)=\"filtros1()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 pl-0\" appearance=\"outline\">\r\n          <mat-label>Funcionario</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por funcionario\"\r\n            [(ngModel)]=\"filtro_funcionario\"\r\n            (input)=\"filtros1()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 pl-0\" appearance=\"outline\">\r\n          <mat-label>Cliente</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por cliente\"\r\n            [(ngModel)]=\"filtro_cliente\"\r\n            (input)=\"filtros1()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 pl-0\" appearance=\"outline\">\r\n          <mat-label>Código Factura</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por código factura\"\r\n            [(ngModel)]=\"filtro_cod_factura\"\r\n            (input)=\"filtros1()\"\r\n          />\r\n        </mat-form-field>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n\r\n    <table\r\n      class=\"table table-bordered table-responsive-sm table-striped table-sm\"\r\n      style=\"font-size: small\"\r\n      *ngIf=\"!Cargando && Notas.length > 0; else notData\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th>Código Nota</th>\r\n          <th>Fecha</th>\r\n          <th>Funcionario</th>\r\n          <th>Cliente</th>\r\n          <th>Código Factura</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let nota of Notas\">\r\n          <td>\r\n            <strong>{{ nota.Codigo_Nota }}</strong>\r\n          </td>\r\n          <td class=\"text-center\">\r\n            {{ nota.Fecha_Nota | date: \"dd/MM/yyyy\" }}\r\n          </td>\r\n          <td>\r\n            {{ nota.Funcionario }}\r\n          </td>\r\n          <td>{{ nota.Cliente }}</td>\r\n          <td>\r\n            {{ nota.Codigo_Factura }}\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn btn-primary btn-mini waves-effect waves-light\"\r\n                  type=\"button\"\r\n                >\r\n                  <i class=\"mdi mdi-chevron-down\"></i>\r\n                </button>\r\n                <div ngbDropdownMenu>\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"\"\r\n                    [routerLink]=\"[\r\n                      '/contabilidad/notas-credito/ver',\r\n                      nota.Id_Nota_Credito_Global\r\n                    ]\"\r\n                  >\r\n                    <i class=\"ti-eye\"></i>Ver Nota</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      enviromen.ruta\r\n                    }}php/notas_credito_nuevo/descarga_pdf.php?tipo=Nota_Credito&id={{\r\n                      nota.Id_Nota_Credito_Global\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"ti-printer\"></i>Imprimir</a\r\n                  >\r\n                  <a\r\n                    *ngIf=\"perfilUsuario == '27' || perfilUsuario == '16'\"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      enviromen.ruta\r\n                    }}php/contabilidad/movimientoscontables/movimientos_nota_credito_global_pdf.php?id_registro={{\r\n                      nota.Id_Nota_Credito_Global\r\n                    }}&id_funcionario_elabora={{ funcionario }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-book\"></i> Contab. PCGA\r\n                  </a>\r\n                  <a\r\n                    *ngIf=\"perfilUsuario == '27' || perfilUsuario == '16'\"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      enviromen.ruta\r\n                    }}php/contabilidad/movimientoscontables/movimientos_nota_credito_global_pdf.php?id_registro={{\r\n                      nota.Id_Nota_Credito_Global\r\n                    }}&id_funcionario_elabora={{ funcionario }}&tipo_valor=Niif\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-book\"></i> Contab. NIIF\r\n                  </a>\r\n\r\n                  <!--        <a class=\"dropdown-item waves-light waves-effect caja-botones\" href=\"{{enviromen.ruta}}php/facturasventas/factura_dis_pdf.php?id={{factura.Id_Factura_Administrativa}}\" target=\"_blank\">\r\n                                                <i class=\"ti-printer\"></i>Imprimir Factura</a> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <small *ngIf=\"TotalItems1 != 0\" class=\"d-flex justify-content-center\">\r\n      {{ page1 * maxSize - maxSize + 1 }} al\r\n      {{ page1 * maxSize > TotalItems1 ? TotalItems1 : page1 * maxSize }} de\r\n      {{ TotalItems1 }}\r\n    </small>\r\n    <ngb-pagination\r\n      class=\"d-flex justify-content-center pagination-rounded pagination-sm\"\r\n      [collectionSize]=\"TotalItems1\"\r\n      [(page)]=\"page1\"\r\n      [maxSize]=\"10\"\r\n      [pageSize]=\"maxSize\"\r\n      size=\"sm\"\r\n      (pageChange)=\"paginacion()\"\r\n      [boundaryLinks]=\"true\"\r\n    ></ngb-pagination>\r\n  </div>\r\n</div>\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"Cargando\"></app-not-data>\r\n</ng-template>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport swal from 'sweetalert2';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Globales } from '../../../globales';\r\nimport Swal, { SweetAlertOptions } from 'sweetalert2';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-notascreditocrear',\r\n  templateUrl: './notascreditocrear.component.html',\r\n  styleUrls: ['./notascreditocrear.component.scss']\r\n})\r\nexport class NotascreditocrearComponent implements OnInit {\r\n  enviromen:any;\r\n\r\n  public Tipo_Factura = [\r\n    // {Nombre:'Factura Dispensación',Modulo:'Factura'},\r\n    {Nombre:'Factura Capita',Modulo:'Factura_Capita'},\r\n    {Nombre:'Factura Venta',Modulo:'Factura_Venta'},\r\n    {Nombre:'Factura Administrativa',Modulo:'Factura_Administrativa'}\r\n  ];\r\n  public TipoClientes = [\r\n    {Nombre:'Cliente'}, {Nombre:'Proveedor'}, {Nombre:'Funcionario'}\r\n  ];\r\n  public TipoClienteSelected : any = '';\r\n  public Tipo_Factura_Selected : any;\r\n  public Codigo_Factura = '';\r\n  public user : any;\r\n  public FacturaCliente: any[];\r\n  public Cliente: any=[];\r\n  public Motivos: any[]=[];\r\n  public Lista_Productos = [];\r\n  public ListaProductos = [];\r\n  public ValorFactura: any;\r\n  public Boton = false;\r\n  public DescuentoFactura: number;\r\n  public idFactura: any;\r\n  public DatosCliente: any ;\r\n  public Fecha=new Date();\r\n  public Mostrar=false;\r\n  public Productos_Nota=[];\r\n  public Cantidad_Inicial=0;\r\n  public Id_Cliente:any;\r\n  public Id_Factura:any;\r\n  public Subtotal:any = 0;\r\n  public Iva:any = 0;\r\n  public Total:any = 0;\r\n  // el subtotal general es la sumatoria de los subtales de los productos que vienen de la base de datos, sin modificar valor de nota;\r\n  public SubTotalGeneral = 0;\r\n  public SubTotalDisponible = 0;\r\n  public Observaciones_General: any = '';\r\n  public alerOptions:SweetAlertOptions ;\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal_Nota); \r\n  public reducer1 = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Iva); \r\n\r\n  @ViewChild('confirmacionSwal') confirmacionSwal:any;\r\n  @ViewChild('finalizacionSwal') finalizacionSwal:any;\r\n  @ViewChild('FormNotaCredito') FormNotaCredito:any;\r\n  @ViewChild('check') checks:HTMLCollectionOf<Element>;\r\n\r\n  constructor(private route: ActivatedRoute,private http : HttpClient,public globales: Globales,private router:Router) {\r\n    this.alerOptions = {\r\n      title: \"¿Está Seguro?\",\r\n      icon:'warning',\r\n      text:\"Se dispone a Guardar esta Nota Credito\",\r\n      showCancelButton : true ,\r\n      confirmButtonText : 'Si, Guardar',\r\n      cancelButtonText : 'No, Dejame Comprobar!' ,  \r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      preConfirm : ()=>{\r\n          return new Promise((resolve)=>{\r\n            this.GuardarNotaCredito(this.FormNotaCredito);\r\n          })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.user = JSON.parse(localStorage.User);\r\n    this.enviromen = environment\r\n  \r\n    this.http.get(environment.ruta+'php/lista_generales.php',{ params: { modulo: 'Causal_No_Conforme'}}).subscribe((data:any)=>{\r\n      this.Motivos= data;\r\n    });\r\n  }\r\n  \r\n  normalize = (function () {\r\n    var from = \"ÃÀÁÄÂÈÉËÊÌÍÏÎÒÓÖÔÙÚÜÛãàáäâèéëêìíïîòóöôùúüûÑñÇçº\",\r\n      to = \"AAAAAEEEEIIIIOOOOUUUUaaaaaeeeeiiiioooouuuunncc#\",\r\n      mapping = {};\r\n\r\n    for (var i = 0, j = from.length; i < j; i++)\r\n      mapping[from.charAt(i)] = to.charAt(i);\r\n\r\n    return function (str) {\r\n      var ret = [];\r\n      for (var i = 0, j = str.length; i < j; i++) {\r\n        var c = str.charAt(i);\r\n        if (mapping.hasOwnProperty(str.charAt(i)))\r\n          ret.push(mapping[c]);\r\n        else\r\n          ret.push(c);\r\n      }\r\n      return ret.join('');\r\n    }\r\n  })();\r\n\r\n\r\n  NotaCredito(item,check,calculartotal:boolean = true){   \r\n      \r\n    let precioDisponible = item.Precio - item.Precio_Nota_Credito_Acumulado;\r\n    console.log('precio n',precioDisponible);\r\n    \r\n    if (check) {\r\n\r\n      item.Disabled = false;\r\n      item.Required = true;\r\n      item.Precio_Nota = 0;\r\n\r\n \r\n    }else{\r\n      item.Valor_Nota = 0;\r\n      item.Valor_Nota_Total = 0;\r\n      item.Precio_Nota = 0;\r\n      item.Disabled = true;\r\n      item.Subtotal_Nota=0;\r\n      item.Iva=0;\r\n \r\n    }\r\n    if (calculartotal) {\r\n      this.calcularTotal();\r\n    }\r\n  }\r\n  BuscarClientes(){\r\n    this.setearValores();\r\n    this.TipoClienteSelected='';\r\n    this.http.get(environment.ruta+'php/lista_generales.php',{ params: { modulo: 'Cliente'} }).subscribe((data:any)=>{\r\n      this.Cliente= data;\r\n      console.log(data);\r\n    });\r\n    \r\n  }\r\n  BuscarClientesTerceros( tipo:any=false ){\r\n    this.setearValores();\r\n    let params:any = {};\r\n    params.Tipo = tipo != false ? tipo : this.TipoClienteSelected;\r\n\r\n    this.http.get(environment.ruta + 'php/clientes/get_terceros_por_tipo.php',{params}).subscribe((data: any) => {\r\n      this.Cliente = data;\r\n    });\r\n    \r\n  }\r\n  BuscarFactura( codigo ){\r\n\r\n    this.Lista_Productos=[];\r\n    this.SubTotalGeneral=0;\r\n    this.Total=0;\r\n    //reviso si lo que me llega es diferente de vacio\r\n    if(this.Tipo_Factura_Selected != \"\"){\r\n      if(Object.keys(this.DatosCliente).length>0 && this.DatosCliente.Id_Cliente!=undefined ){\r\n   \r\n        this.FacturaCliente =[];\r\n        let params:any ={ id:this.DatosCliente.Id_Cliente, modelo:this.Tipo_Factura_Selected, codigo };\r\n        if (this.Tipo_Factura_Selected=='Factura_Administrativa') {\r\n          params.tipoCliente=this.TipoClienteSelected;\r\n        }\r\n        //Con el tipo de factura que se seleccionó, y el dato del cliente hago una peticion a buscar las facturas del cliente \r\n        this.http.get(environment.ruta+'/php/notas_credito_nuevo/lista_facturas_cliente_notas_credito.php',\r\n        {params})\r\n        .subscribe((data:any)=>{\r\n          // guardo en un array el id y el codigo de la factura\r\n          if (data.Factura) {\r\n            this.FacturaCliente = data.Factura;\r\n            //buscar productos de la factura  \r\n            this.BuscarProductosFactura(data.Factura.Id_Factura);\r\n          }else{\r\n            Swal.fire({\r\n              icon: data.tipo,\r\n              text: data.mensaje,\r\n              title: data.title\r\n            })\r\n            /* this.confirmacionSwal.title=data.title;\r\n            this.confirmacionSwal.text= data.mensaje;\r\n            this.confirmacionSwal.type= data.tipo;\r\n            this.confirmacionSwal.fire(); */\r\n            this.Codigo_Factura='';\r\n          }\r\n        });\r\n      }\r\n      \r\n    }\r\n    \r\n  }\r\n\r\n\r\n  BuscarProductosFactura( id ){\r\n  //se recibe el id de la factura\r\n   \r\n    this.SubTotalGeneral=0;\r\n    this.SubTotalDisponible=0;\r\n    this.Total=0;\r\n    this.Id_Factura=id;\r\n    //buscamos en la api los datos que coincidan con el id y tipo de factura \r\n    this.http.get(environment.ruta+'php/notas_credito_nuevo/lista_producto_notas_credito.php',{ params: { id: id, modelo:this.Tipo_Factura_Selected}}).subscribe((data:any)=>{\r\n      this.Lista_Productos = data.Productos;\r\n      this.SubTotalGeneral= data.Total_General_Producto_Facturas;\r\n      this.SubTotalDisponible=data.Subtotal_Disponible;\r\n      \r\n      this.Mostrar=true;\r\n     });\r\n    \r\n  }\r\n\r\n\r\n  CheckeoMultiple(check_general){\r\n    //buscamos todos los checks de los productos\r\n    let cheks = document.getElementsByClassName(\"checks\");\r\n\r\n   //activo/desactivo todos los checks dependiento de el general\r\n   for (let index = 0; index < cheks.length; index++) {\r\n     cheks[index]['checked'] = check_general;\r\n   }\r\n   //busco cada item y le doy los valores de la nota\r\n   this.Lista_Productos.forEach(producto=>{\r\n     this.NotaCredito(producto,check_general,false)\r\n   })\r\n   this.calcularTotal();\r\n  }\r\n\r\n  \r\n\r\n  GuardarNotaCredito(formulario: NgForm){\r\n    \r\n    let productos_seleccionados=this.Lista_Productos.filter(producto=>producto.Disabled==false);\r\n    if (productos_seleccionados.length==0) {\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Operación denegada',\r\n        text: 'Debe agregar al menos un producto para realizar la nota crédito'\r\n      })\r\n      /* this.confirmacionSwal.title=\"Operación denegada\";\r\n      this.confirmacionSwal.text= \"Debe agregar al menos un producto para realizar la nota crédito\";\r\n      this.confirmacionSwal.icon= \"error\";\r\n      this.confirmacionSwal.fire(); */\r\n      return false;\r\n    } \r\n \r\n    let productos = this.normalize(JSON.stringify(this.Lista_Productos));\r\n\r\n    \r\n    let funcionario = this.user.Identificacion_Funcionario;\r\n    console.log(this.SubTotalGeneral);\r\n    \r\n    let subTotalGeneral = this.SubTotalGeneral.toString();\r\n    let total = this.Total;\r\n    let moduloFactura = this.Tipo_Factura_Selected;\r\n    let codigoFactua = this.Codigo_Factura;\r\n    let observaciones  = this.Observaciones_General;\r\n    \r\n    let prod = this.normalize(JSON.stringify(productos_seleccionados));\r\n    let factura =  this.normalize(JSON.stringify(this.FacturaCliente));\r\n    let cliente = this.DatosCliente.Id_Cliente;\r\n    let datos = new FormData();\r\n    \r\n    \r\n    datos.append(\"modulo\", moduloFactura);\r\n    datos.append(\"subTotalGeneral\", subTotalGeneral);\r\n    datos.append(\"total\", total);\r\n    datos.append(\"factura\",factura); \r\n    datos.append(\"codigoFactura\",codigoFactua);   \r\n    datos.append(\"observaciones\",observaciones);  \r\n    datos.append(\"productosNotas\",prod);  \r\n    datos.append(\"productos\",productos);  \r\n    datos.append(\"funcionario\",funcionario);  \r\n    datos.append(\"cliente\",cliente);  \r\n    \r\n    this.http.post(environment.ruta + 'php/notas_credito_nuevo/guardar_nota_credito.php', datos).subscribe((data: any) => { \r\n      if (data.tipo=='success') {\r\n        Swal.fire({\r\n          icon: data.tipo,\r\n          text: data.mensaje,\r\n          title: data.title\r\n        })\r\n        /* this.finalizacionSwal.title = data.title;\r\n        this.finalizacionSwal.text = data.mensaje;\r\n        this.finalizacionSwal.icon = data.tipo;\r\n        this.finalizacionSwal.show(); */\r\n      }else{\r\n        Swal.fire({\r\n          icon: data.tipo,\r\n          text: data.mensaje,\r\n          title: data.title\r\n        })\r\n        /* this.confirmacionSwal.title = data.title;\r\n        this.confirmacionSwal.text = data.mensaje;\r\n        this.confirmacionSwal.type = data.tipo;    \r\n        this.confirmacionSwal.show(); */\r\n      }\r\n\r\n     });\r\n  }\r\n\r\n  search = (text$: Observable<string>) =>\r\n  text$.pipe(\r\n    debounceTime(200),\r\n    map(term => term.length < 4 ? []\r\n      : this.Cliente.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 10))\r\n  );\r\n  formatter = (x: {Nombre: string}) => x.Nombre;\r\n\r\n  AbonoFactura(valor){\r\n    if((parseInt(this.ValorFactura) >= parseInt(valor)&&(this.ValorFactura !=undefined))){\r\n      this.Boton = true;\r\n      // console.log(valor);\r\n    }else{\r\n      this.Boton = false;\r\n    }\r\n  }\r\n\r\n  VerPantallaLista(){\r\n    this.FormNotaCredito.reset();\r\n    this.router.navigate(['/contabilidad/comprobantes/notas-credito']);\r\n  }\r\n\r\n\r\n  calcularSubtotal(Item){\r\n    let resultado = 0 ;\r\n\r\n    if (Item.Precio_Nota) {\r\n        \r\n      let subtotal = parseFloat(Item.Cantidad) * parseFloat(Item.Precio_Nota) \r\n    \r\n       resultado = subtotal; //+ valor_iva;\r\n    }\r\n\r\n    return resultado\r\n  }\r\n\r\n  calcularTotalProducto(Item){\r\n    let resultado = 0 ;\r\n\r\n    if (Item.Precio_Nota) {\r\n      \r\n      let valor_iva = (parseFloat(Item.Impuesto)/100) * ( (parseFloat(Item.Cantidad) * parseFloat(Item.Precio_Nota) ) )\r\n\r\n\r\n      let subtotal = parseFloat(Item.Cantidad) * parseFloat(Item.Precio_Nota) ;\r\n      \r\n       resultado = subtotal + valor_iva;\r\n    }\r\n    return resultado\r\n  }\r\n\r\n\r\n  \r\n\r\n  ValidarValorNota(item){\r\n      \r\n    item.Valor_Nota = this.calcularSubtotal(item);\r\n    item.Valor_Nota_Total = this.calcularTotalProducto(item);\r\n    let total_notas =  item.Valor_Nota_Total + item.Valor_Nota_Credito_Acumulado;\r\n\r\n    if (total_notas > item.Total_Producto_Factura) {\r\n      item.Precio_Nota = 0;\r\n      item.Valor_Nota = 0;\r\n      item.Valor_Nota_Total=0;\r\n      Swal.fire({\r\n        title: 'Error en precio ingresado',\r\n        icon: 'error',\r\n        text: 'El precio del producto no puede ser mayor que el subtotal sin Iva.',\r\n      })\r\n      /* this.confirmacionSwal.title=\"Error en precio ingresado\";\r\n      this.confirmacionSwal.text= \"El precio del producto no puede ser mayor que el subtotal sin Iva.\";\r\n      this.confirmacionSwal.type= \"error\";\r\n      this.confirmacionSwal.show(); */\r\n    }\r\n\r\n    this.calcularTotal();\r\n    \r\n  }\r\n\r\n  validarCliente(){\r\n    if (typeof(this.DatosCliente)!='object') {\r\n      this.DatosCliente='';\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Cliente incorrecto',\r\n        text: 'El cliente que has ingresado es incorrecto.'\r\n      })\r\n    }\r\n\r\n    this.FacturaCliente =[];\r\n    this.Lista_Productos=[];\r\n    this.SubTotalGeneral=0;\r\n    this.Total=0;\r\n    this.Codigo_Factura='';\r\n  }\r\n  calcularTotal(){\r\n    console.log('calcular total');\r\n    \r\n    let acumulador = 0;\r\n    if(this.Lista_Productos){\r\n      this.Lista_Productos.forEach(producto=>{\r\n        if (!producto.Disabled) {\r\n          acumulador += producto.Valor_Nota;\r\n        }\r\n      });\r\n    }\r\n    this.Total = acumulador;\r\n  }\r\n\r\n  setearValores(){\r\n\r\n    this.Cliente = [];\r\n    this.DatosCliente = '';\r\n    this.FacturaCliente =[];\r\n    this.Lista_Productos=[];\r\n    this.SubTotalGeneral=0;\r\n    this.Total=0;\r\n    this.Codigo_Factura='';\r\n    \r\n  }\r\n\r\n}\r\n","<div class=\"page-body\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12 col-md-12\">\r\n            <form #FormNotaCredito=\"ngForm\">\r\n                <div class=\"card\">\r\n                    <div class=\"row invoice-contact\" style=\"align-items:flex-start !important;\">\r\n                        <div class=\"col-md-8\">\r\n                            <div class=\"invoice-box row\">\r\n                                <div class=\"col-sm-12\">\r\n                                    <table class=\"table table-responsive invoice-table table-borderless\">\r\n                                        <tbody>\r\n                                            <!--  <tr>\r\n                                                <td style=\"width:100px;\">\r\n                                                    <img src=\"{{enviromen.urlLogoColor}}\" class=\"m-b-10 img-60\" alt=\"Pro-H Software\">\r\n                                                </td>\r\n                                                <td> {{enviromen.Nombre}}\r\n                                                    <br> {{enviromen.Nit}}\r\n                                                    <br> {{enviromen.Direccion}}\r\n                                                    <br> {{enviromen.Telefono}} </td>\r\n                                            </tr> -->\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-4\">\r\n                            <div class=\"row text-right\" style=\"margin:0;\">\r\n                                <div class=\"col-sm-12\">\r\n                                    <h4>Nueva Nota Crédito</h4>\r\n                                    <h6>{{Fecha | date: 'dd/MM/yyyy' }}</h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row invoive-info\" style=\"margin-bottom: 0;\">\r\n\r\n\r\n                            <div class=\"col-md-4\">\r\n                                <label>Tipo de facturas</label>\r\n                                <div class=\"form-group\">\r\n\r\n                                    <select class=\"form-control form-control-sm tipo-dis-select\" (change)=\"BuscarClientesTerceros('Cliente')\" name=\"Tipo_Selected\" [(ngModel)]=\"Tipo_Factura_Selected\" required>\r\n                                        <option value=\"\">Seleccione</option>\r\n                                        <option *ngFor=\"let tipo of Tipo_Factura; let i=index\" [value]=\"tipo.Modulo\">{{tipo.Nombre}}</option>\r\n                                    </select>\r\n\r\n                                    <!--<input type=\"radio\" name=\"factura\" (change)=\"BuscarProductosFactura($event,item.IdFV,i)\"> {{ item.Codigo }}</label>-->\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-2 col-sm-6\" *ngIf=\"Tipo_Factura_Selected=='Factura_Administrativa'\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Tipo de Cliente</label>\r\n                                    <select name=\"tipoCliente\" [(ngModel)]=\"TipoClienteSelected\" class=\"form-control form-control-sm f-9\" (change)=\"BuscarClientesTerceros()\">\r\n                                        <option *ngFor=\"let tipoCliente of TipoClientes\" [value]=\"tipoCliente.Nombre\">{{tipoCliente.Nombre}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-2 col-sm-6\" *ngIf=\"(Tipo_Factura_Selected && Tipo_Factura_Selected!='Factura_Administrativa'|| TipoClienteSelected )\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Cliente</label>\r\n                                    <input type=\"text\" name=\"Cliente\" id=\"Cliente\" class=\"form-control form-control-sm f-9\" (change)=\"validarCliente()\" [(ngModel)]=\"DatosCliente\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter\" required />\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-2\" *ngIf=\"DatosCliente\">\r\n                                <label>Código de la factura</label>\r\n                                <div class=\"form-group\">\r\n\r\n                                    <input type=\"text\" class=\"form-control form-control-sm \" placeholder=\"Ingrese el código\" name=\"Codigo_Factura\" [(ngModel)]=\"Codigo_Factura\" (change)=\"BuscarFactura($event.target.value)\" required>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row invoive-info\" style=\"margin-bottom: 0;\">\r\n                            <div class=\"col-md-12 col-xs-12\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Observaciones</label>\r\n                                    <br/>\r\n                                    <textarea name=\"Observacion\" [(ngModel)]=\"Observaciones_General\" style=\"width:100%;\"></textarea>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf=\"Mostrar\" class=\"row\" style=\"margin-top:30px;\">\r\n                            <div class=\"col-sm-12\">\r\n                                <div class=\"table-responsive tabla\">\r\n                                    <table class=\"table invoice-detail-table space\" style=\"table-layout: auto !important;\">\r\n                                        <thead>\r\n                                            <tr class=\"thead-default\">\r\n                                                <th style=\"width:30px;\">\r\n                                                    <input type=\"checkbox\" #check1 title=\"Realizar Nota Credito\" (change)=\"CheckeoMultiple($event.target.checked)\" name=\"Nota1\">\r\n\r\n                                                </th>\r\n                                                <th>Producto</th>\r\n\r\n                                                <th style=\"width:60px;\">Cantidad</th>\r\n                                                <th style=\"width:100px;\">Precio U.</th>\r\n                                                <th style=\"width:80px;\">Desc.</th>\r\n                                                <th style=\"width:50px;\">Iva</th>\r\n\r\n                                                <th style=\"width:120px;\">Total</th>\r\n                                                <th style=\"width:120px;\">Precio NC.</th>\r\n                                                <th style=\"width:120px;\">Total NC.</th>\r\n                                                <th style=\"width:150px;\">Motivo</th>\r\n                                                <th style=\"width:150px;\">Observación</th>\r\n                                                <th style=\"width:100px;\">Precio U.</th>\r\n                                                <th style=\"width:150px;\">Subt. NC.</th>\r\n                                                <th style=\"width:150px;\">Total NC.</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor=\"let item of Lista_Productos; let i = index\" id=\"fila{{i}}\">\r\n                                                <td>\r\n                                                    <input [disabled]=\"item.Valor_Nota_Credito_Acumulado == item.Subtotal_Factura\" type=\"checkbox\" class=\"checks\" id=\"RealizarNota{{i}}\" #check title=\"Realizar Nota Credito\" (change)=\"NotaCredito(item,$event.target.checked)\" [(ngModel)]=\"item.Nota\" name=\"Nota\">\r\n                                                </td>\r\n\r\n                                                <td style=\"text-align: left\">{{ item.Producto }}</td>\r\n\r\n\r\n                                                <td style=\"text-align: center\">{{ item.Cantidad }}</td>\r\n\r\n                                                <td style=\"text-align: right\">{{ item.Precio | currency }}</td>\r\n                                                <td style=\"text-align: right\">{{ item.Descuento | currency }}</td>\r\n                                                <td style=\"text-align: right\">{{ item.Impuesto }} </td>\r\n                                                <td style=\"text-align: right\">$ {{ item.Total_Producto_Factura }}</td>\r\n                                                <td style=\"text-align: right\">$ {{ item.Precio_Nota_Credito_Acumulado }}</td>\r\n                                                <td style=\"text-align: right\">$ {{ item.Valor_Nota_Credito_Acumulado }}</td>\r\n                                                <td>\r\n                                                    <select class=\"form-control form-control-sm\" [disabled]=\"item.Disabled\" [(ngModel)]=\"item.Id_Motivo\" name=\"Id_Motivo{{i}}\" required>\r\n                                                        <option *ngFor=\"let item of Motivos; let i=index\" [value]=\"item.Id_Causal_No_Conforme\">{{item.Nombre}}</option>\r\n                                                    </select>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input type=\"text\" name=\"Observacion{{i}}\" [disabled]=\"item.Disabled\" [(ngModel)]=\"item.Observacion\" class=\"form-control form-control-sm\" required=\"item.Required\">\r\n                                                </td>\r\n                                                <td>\r\n                                                    <input type=\"number\" min=\"0\" step=\"0.01\" name=\"Valor_Vota{{i}}\" [disabled]=\"item.Disabled\" (change)=\"ValidarValorNota(item)\" [(ngModel)]=\"item.Precio_Nota\" class=\"form-control form-control-sm\" required=\"item.Required\">\r\n\r\n                                                </td>\r\n\r\n                                                <td style=\"text-align: right\">$ {{ item.Valor_Nota }}</td>\r\n                                                <td style=\"text-align: right\">$ {{ item.Valor_Nota_Total }}</td>\r\n\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12\">\r\n                                <table class=\"table table-responsive invoice-table invoice-total\">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>Total:</td>\r\n                                            <td>{{ Total | currency }}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-md-12\">\r\n                                <button type=\"button\" [swal]=\"alerOptions\" [disabled]=\"!FormNotaCredito.valid || Lista_Productos.length == 0\" class=\"btn btn-success btn-block btn-sm btn-enviar\">Realizar Nota Credito</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n\r\n<swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n\r\n<swal #finalizacionSwal title=\"\" text=\"\" type=\"\" (confirm)=\"VerPantallaLista()\"></swal>","<table class=\"table\" style=\"max-height:400px;\">\r\n    <thead>\r\n        <tr class=\"thead-default\">\r\n            <th>Cuenta</th>\r\n            <th>Nit </th>\r\n            <th style=\"width:13%;\">Factura</th>\r\n            <th>Documento</th>\r\n            <th>Debe</th>\r\n            <th style=\"width:10%;\">Haber</th>\r\n            <th>Debe NIIF</th>\r\n            <th style=\"width:70px;max-width:100px;\"> Haber NIIF</th>\r\n        </tr>\r\n\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let Fact of Facturas_Faltantes; let i = index\" id=\"fila{{i}}\">\r\n            <td *ngFor=\"let F of Fact[0]; \">{{F}}</td>\r\n        </tr>\r\n    </tbody>\r\n</table>","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-tablafacturafaltante',\r\n  templateUrl: './tablafacturafaltante.component.html',\r\n  styleUrls: ['./tablafacturafaltante.component.scss']\r\n})\r\nexport class TablafacturafaltanteComponent implements OnInit {\r\n  @Input() Facturas_Faltantes;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EgresosService {\r\n  public _subject = new Subject<any>();\r\n  public event = this._subject.asObservable();\r\n  private ToastObj:any = {\r\n    textos:['Default title', 'Default message'],\r\n    tipo:'warning',\r\n    duracion:0\r\n  };\r\n\r\n  constructor() { }\r\n\r\n  normalize = (function () {\r\n    var from = \"ÃÀÁÄÂÈÉËÊÌÍÏÎÒÓÖÔÙÚÜÛãàáäâèéëêìíïîòóöôùúüûÑñÇçÂ®Ã\\n\",\r\n      to =     \"AAAAAEEEEIIIIOOOOUUUUaaaaaeeeeiiiioooouuuuNnccARA \",\r\n      mapping = {};\r\n\r\n    for (var i = 0, j = from.length; i < j; i++)\r\n      mapping[from.charAt(i)] = to.charAt(i);\r\n\r\n    return function (str) {\r\n      var ret = [];\r\n      for (var i = 0, j = str.length; i < j; i++) {\r\n        var c = str.charAt(i);\r\n        if (mapping.hasOwnProperty(str.charAt(i)))\r\n          ret.push(mapping[c]);\r\n        else\r\n          ret.push(c);\r\n      }\r\n      return ret.join('');\r\n    }\r\n\r\n  })();\r\n\r\n  public ShowToast(data:any) {\r\n    this._setToastData(data);\r\n    this._subject.next(this.ToastObj);\r\n  }\r\n\r\n  private _setToastData(data:any){\r\n    this.ToastObj.textos = data.textos;\r\n    this.ToastObj.tipo = data.tipo ? data.tipo : 'default';\r\n    this.ToastObj.duracion = data.duracion ? data.duracion : 3000;\r\n  }\r\n\r\n  public ClearToasty()\r\n  {\r\n    this._subject.next('limpiar');\r\n  }\r\n\r\n  public Utf8 = {\r\n\r\n    // public method for url encoding\r\n    encode : function (string) {\r\n        string = string.replace(/\\r\\n/g,\"\\n\");\r\n        var utftext = \"\";\r\n        for (var n = 0; n < string.length; n++) {\r\n            var c = string.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }else if((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n        }\r\n        return utftext;\r\n    },\r\n\r\n    // public method for url decoding\r\n    decode : function (utftext) {\r\n        var string = \"\";\r\n        var i = 0;\r\n        var c = 0;\r\n        var  c2 = 0;\r\n        var  c3 = 0;\r\n\r\n        while ( i < utftext.length ) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            }else if((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i+1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            }else {\r\n                c2 = utftext.charCodeAt(i+1);\r\n                c3 = utftext.charCodeAt(i+2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n}\r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport Swal, { SweetAlertOptions } from 'sweetalert2';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SwalService } from '../../../../ajustes/informacion-base/services/swal.service';\r\nimport swal from 'sweetalert2';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport { PlanCuentasService } from '../../../plan-cuentas/plan-cuentas.service';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-comprobanteingresocrear',\r\n  templateUrl: './comprobanteingresocrear.component.html',\r\n  styleUrls: ['./comprobanteingresocrear.component.scss']\r\n})\r\nexport class ComprobanteingresocrearComponent implements OnInit {\r\n\r\n  public alertOption:SweetAlertOptions = {};\r\n  public Cargando:boolean = false;\r\n\r\n  public datosCabecera:any = {\r\n    Titulo: 'Nuevo Recibo de Caja',\r\n    Fecha: new Date(),\r\n    Codigo: ''\r\n  }\r\n\r\n  @ViewChild('FormComprobante') FormComprobante: any;\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n  public fecha=new Date();\r\n  public Fecha:any = '';\r\n  public display_Banco:string = 'none';\r\n  public Proveedores:any[]=[];\r\n  public Lista_Facturas:any[]=[{\r\n    RetencionesFactura:[],\r\n    DescuentosFactura:[]\r\n  }];\r\n  public Archivo:any;\r\n  public Fecha_Comprobante= this.fechaHoy();\r\n  public Id_Proveedor: any = '';\r\n  public NombreProveedor: string = '';\r\n  public Nom_Cliente:any;\r\n  public Id_Cliente = '';\r\n  public Cliente = [];\r\n  public Id_Empresa = '';\r\n  // public Funcionario=JSON.parse(localStorage.getItem(\"User\"));\r\n  public Cuenta=[];\r\n  public Cuentas: Array<any>;\r\n  public FormaPago:any = [ ];\r\n  public Rentenciones:any[]=[];\r\n  public RentencionesFactura:any[]=[];\r\n  public Categorias:any[]=[{\r\n    Cuenta: '',\r\n    Valor: '',\r\n    Cantidad: '',\r\n    Impuesto: 0,\r\n    Observaciones :'',\r\n    Subtotal :0,\r\n    Total_Impuesto:0\r\n  }];\r\n  public Cuenta_Banco='';\r\n  public Costo_Ingreso = 0;\r\n  public Impuesto_Ingreso = 0;\r\n  public Subtotal_Ingreso =0;\r\n  public Total_Ingreso = 0;\r\n  public Subtotal_Retenciones = 0;\r\n  public Subtotal_Facturas = 0;\r\n  public Total_ValorP = 0;\r\n  public Retenciones_Totales =0;\r\n  public Mostrar:boolean=false;\r\n  public Mostrar_Cliente:boolean=false;\r\n  public Impuesto = 0;\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal);\r\n  public reducer_imp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Total_Impuesto);\r\n  public reducer_ret = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Valor);\r\n  public reducer_desc = (accumulator, currentValue) => accumulator + parseFloat(currentValue.ValorDescuento);\r\n  public reducer_valorp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.ValorIngresado);\r\n  public reducer3 = (accumulator, currentValue) => {\r\n    var acu_iva = 0;\r\n    currentValue.RetencionesFacturas.forEach((v, i)=>{\r\n\r\n      acu_iva += isNaN(v.Valor) ? 0 : parseFloat(v.Valor);\r\n    });\r\n\r\n    return accumulator + acu_iva;\r\n  };\r\n  ListaRetenciones: any = [];\r\n  ListaFact:any = [];\r\n  Total_Facturas: number = 0;\r\n  Mostrar_Opciones: boolean = true;\r\n  Mostrar_Input_Cli: boolean = true;\r\n  public Facturas_Multiple:boolean=true;\r\n  public Faltantes:any=[];\r\n  public Valor_Banco:number = 0;\r\n  public Total_Debito:number = 0;\r\n  public Total_Credito:number = 0;\r\n  public Valor_Devoluciones:number = 0;\r\n  companies:any[] = [];\r\n\r\n  constructor(\r\n                private route: ActivatedRoute,\r\n                private http: HttpClient,\r\n                private router: Router,\r\n                private _swalService:SwalService,\r\n                private _companies: PlanCuentasService,\r\n                private _user: UserService\r\n              ) {\r\n\r\n    let queryParams = this.route.snapshot.queryParams;\r\n\r\n\r\n    if (queryParams.facturas != undefined && queryParams.cliente != undefined) {\r\n\r\n      this.Id_Cliente = queryParams.cliente;\r\n      this.Cargando = true;\r\n      this.Mostrar_Opciones = false;\r\n      this.Mostrar_Cliente = true;\r\n      this.http.get(environment.ruta + 'php/comprobantes/facturas_seleccionadas_cliente.php',{ params: queryParams }).subscribe((data: any) => {\r\n        this.Mostrar = false;\r\n        this.Cargando = false;\r\n        this.Mostrar_Input_Cli = false;\r\n\r\n        this.Lista_Facturas = data.Facturas;\r\n        this.Nom_Cliente = data.Cliente.Nombre;\r\n      });\r\n    }\r\n\r\n    this.http.get(environment.ruta + 'php/contabilidad/proveedor_buscar.php').subscribe((data: any) => {\r\n      this.Proveedores = data;\r\n    });\r\n    this.alertOption = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a Guardar este Comprobante\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Guardar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'info',\r\n      input: 'select',\r\n      inputOptions: {\r\n        Pcga: 'Imprimir en PCGA',\r\n        Niif: 'Imprimir en NIIF'\r\n      },\r\n      preConfirm: (value) => {\r\n        return new Promise((resolve) => {\r\n          this.guardarComprobante(this.FormComprobante, value);\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n  }\r\n  search = (text$: Observable<string>) =>\r\n  text$.pipe(\r\n    debounceTime(200),\r\n    map(term => term.length < 4 ? []\r\n      : this.Cliente.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n  );\r\n    formatter = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 4 ? []\r\n        : this.Cuenta.filter(v => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\nformatter1 = (x: { Codigo: string }) => x.Codigo;\r\n    ngOnInit() {\r\n      this.Id_Empresa = this._user.user.person.company_worked.id;\r\n      this.http.get(environment.ruta + 'php/comprobantes/lista_cliente.php').subscribe((data: any) => {\r\n        this.Cliente = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/cuentas.php', {params: {company_id: this._user.user.person.company_worked.id}}).subscribe((data: any) => {\r\n        this.Cuentas = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/formas_pago.php').subscribe((data: any) => {\r\n        this.FormaPago = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php', {params: {company_id: this._user.user.person.company_worked.id}}).subscribe((data: any) => {\r\n        this.Cuenta = data.Activo;\r\n      });\r\n      this.http.get(environment.ruta + 'php/lista_generales.php', { params: { modulo: 'Impuesto' } }).subscribe((data: any) => {\r\n        this.Impuesto = data;\r\n      });\r\n\r\n      this.ListarRetenciones();\r\n\r\n      this.getCodigoIngreso();\r\n\r\n    }\r\n  BuscarProveedor(modelo) {\r\n    this.NombreProveedor = modelo.Proveedores;\r\n    this.Id_Proveedor = modelo.Id_Proveedor;\r\n  }\r\n\r\n  BuscarDatosCliente(cliente) {\r\n    this.Id_Cliente=cliente.Id_Cliente;\r\n    console.log(cliente);\r\n    this.ListaFact = [];\r\n\r\n    if (this.Mostrar_Cliente) {\r\n      if (this.Id_Cliente != undefined) {\r\n        this.MostarContenido('Si');\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n  MostarContenido(tipo){\r\n\r\n    if(tipo=='Si'){\r\n      this.Mostrar=false;\r\n      if(this.Id_Cliente!=''){\r\n        this.Cargando = true;\r\n        this.http.get(environment.ruta + 'php/comprobantes/lista_facturas_clientes.php?id=' + this.Id_Cliente).subscribe((data: any) => {\r\n\r\n          if (data.Facturas.length > 0) {\r\n            this.Lista_Facturas = data.Facturas;\r\n            this.Mostrar_Cliente=true;\r\n          } else {\r\n            this.confirmacionSwal.title = \"Sin Facturas!\";\r\n            this.confirmacionSwal.text = `${this.Nom_Cliente.Nombre} no tiene facturas asociadas.`;\r\n            this.confirmacionSwal.icon = \"info\";\r\n            this.confirmacionSwal.fire();\r\n            $('input[type=radio]').prop('checked', false);\r\n          }\r\n\r\n          this.Cargando = false;\r\n        });\r\n      } else {\r\n        this.confirmacionSwal.title = \"Faltan datos!\";\r\n        this.confirmacionSwal.text = `No se ha seleccionado el Cliente, por favor revisar.`;\r\n        this.confirmacionSwal.icon = \"error\";\r\n        this.confirmacionSwal.fire();\r\n        $('input[type=radio]').prop('checked', false);\r\n      }\r\n\r\n      this.Categorias = [{ // Limpiar cuentas contables.\r\n        Cuenta: '',\r\n        Valor: '',\r\n        Cantidad: '',\r\n        Impuesto: 0,\r\n        Observaciones :'',\r\n        Subtotal :0,\r\n        Total_Impuesto:0\r\n      }];\r\n\r\n      this.Rentenciones = []; // Limpiar listado de retenciones.\r\n\r\n      this.Total_ValorP = 0;\r\n      this.Subtotal_Facturas = 0;\r\n      this.Retenciones_Totales = 0;\r\n\r\n    }else if(tipo=='No'){\r\n\r\n\r\n      this.Mostrar=true;\r\n      this.Mostrar_Cliente=false;\r\n\r\n      this.Lista_Facturas = [];\r\n\r\n      this.ListaFact = []\r\n\r\n      this.Subtotal_Ingreso = 0;\r\n      this.Impuesto_Ingreso = 0;\r\n      this.Total_Ingreso = 0;\r\n      this.Subtotal_Retenciones = 0;\r\n    }else if('Archivo'){\r\n      if(this.Id_Cliente!='' && (this.Cuenta_Banco)!=''){\r\n        this.Mostrar_Cliente = false;\r\n        this.Lista_Facturas = [];\r\n        this.Mostrar=true;\r\n        this.Facturas_Multiple=false;\r\n      }else{\r\n        this.confirmacionSwal.title = \"Faltan datos!\";\r\n        this.confirmacionSwal.text = `No se ha seleccionado el Cliente o un banco, por favor revise.`;\r\n        this.confirmacionSwal.icon = \"error\";\r\n        this.confirmacionSwal.fire();\r\n        $('input[type=radio]').prop('checked', false);\r\n      }\r\n    }\r\n  }\r\n\r\n  BuscarCuenta(cuenta, pos){\r\n   let pos2=pos+1;\r\n\r\n      this.Categorias[pos].Id_Plan_Cuentas=cuenta.Id_Plan_Cuentas;\r\n      if(cuenta.Id_Plan_Cuentas){\r\n        if (this.Categorias[pos2] == undefined){\r\n          this.Categorias.push({\r\n            Cuenta: '',\r\n            Valor: '',\r\n            Cantidad: '',\r\n            Impuesto: 0,\r\n            Observaciones :'',\r\n            Subtotal :0,\r\n            Total_Impuesto:0\r\n          });\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n  Calcular(pos, tipo?){\r\n\r\n    this.Categorias[pos].Subtotal=this.Categorias[pos].Cantidad*this.Categorias[pos].Valor;\r\n    this.Categorias[pos].Total_Impuesto=(this.Categorias[pos].Cantidad*this.Categorias[pos].Valor)*(this.Categorias[pos].Impuesto/100);\r\n    this.ActualizaValores();\r\n  }\r\n\r\n  ActualizaValores(tipo?) {\r\n    if (tipo!=undefined && tipo!=null) {\r\n      this.Retenciones_Totales = this.Lista_Facturas.reduce(this.reducer3, 0);\r\n\r\n      setTimeout(() => {\r\n        this.Total_ValorP = parseFloat(this.Lista_Facturas.reduce(this.reducer_valorp, 0));\r\n        this.Subtotal_Facturas =this.Total_ValorP + this.Retenciones_Totales;\r\n        this.Total_Facturas = this.Subtotal_Facturas - this.Retenciones_Totales;\r\n\r\n        this.calcularTotalesDebitoCredito();\r\n      }, 300);\r\n    } else {\r\n      this.Subtotal_Ingreso = parseFloat(this.Categorias.reduce(this.reducer, 0));\r\n      this.Impuesto_Ingreso = parseFloat(this.Categorias.reduce(this.reducer_imp, 0));\r\n      this.Total_Ingreso = this.Subtotal_Ingreso+this.Impuesto_Ingreso-this.Subtotal_Retenciones;\r\n      if(this.Rentenciones.length>0){\r\n        this.RecalcularRetenciones();\r\n      }\r\n    }\r\n  }\r\n  RecalcularRetenciones(){\r\n    for (let index = 0; index < this.Rentenciones.length; index++) {\r\n\r\n      if (this.Rentenciones[index].Id_Retencion == 12) {\r\n        this.Rentenciones[index].Valor=((parseFloat(this.Rentenciones[index].Porcentaje)/100)*this.Impuesto_Ingreso).toFixed(2);\r\n      } else {\r\n        this.Rentenciones[index].Valor=((parseFloat(this.Rentenciones[index].Porcentaje)/100)*this.Subtotal_Ingreso).toFixed(2);\r\n      }\r\n\r\n    }\r\n    setTimeout(() => {\r\n      this.Subtotal_Retenciones = parseFloat(this.Rentenciones.reduce(this.reducer_ret, 0));\r\n      this.ActualizaValores();\r\n    }, 200);\r\n\r\n  }\r\n  AgregarRetencion(){\r\n    this.Rentenciones.push({\r\n      Retencion:'',\r\n      Valor:''\r\n    });\r\n  }\r\n\r\n  EliminarRetencion(pos){\r\n\r\n    this.Rentenciones.splice(pos,1)\r\n    if(this.Rentenciones.length==0){\r\n      this.Subtotal_Retenciones=0;\r\n    }else{\r\n      this.RecalcularRetenciones();\r\n    }\r\n\r\n  }\r\n  CalcularRetenciones(pos){\r\n\r\n    let posicion=this.ListaRetenciones.findIndex(x=>x.Id_Retencion==this.Rentenciones[pos].Id_Retencion);\r\n\r\n    let Id_Retencion = this.Rentenciones[pos].Id_Retencion;\r\n\r\n    if (Id_Retencion == 12) {\r\n      this.Rentenciones[pos].Porcentaje=parseFloat(this.ListaRetenciones[posicion].Porcentaje);\r\n      this.Rentenciones[pos].Valor=(parseFloat(this.ListaRetenciones[posicion].Porcentaje)/100)*this.Impuesto_Ingreso;\r\n    } else {\r\n      this.Rentenciones[pos].Porcentaje=parseFloat(this.ListaRetenciones[posicion].Porcentaje);\r\n      this.Rentenciones[pos].Valor=(parseFloat(this.ListaRetenciones[posicion].Porcentaje)/100)*this.Subtotal_Ingreso;\r\n    }\r\n\r\n   setTimeout(() => {\r\n     this.RecalcularRetenciones();\r\n   }, 200);\r\n\r\n   }\r\n  CalcularRetencionesFacturas(pos, pos2){\r\n\r\n    let posicion=this.ListaRetenciones.findIndex(x=>x.Id_Retencion==this.Lista_Facturas[pos].RetencionesFacturas[pos2].Id_Retencion);\r\n\r\n    let Tipo_Retencion = this.ListaRetenciones[posicion].Tipo_Retencion;\r\n\r\n    this.Lista_Facturas[pos].RetencionesFacturas[pos2].Porcentaje=parseFloat(this.ListaRetenciones[posicion].Porcentaje);\r\n\r\n    this.Lista_Facturas[pos].RetencionesFacturas[pos2].Tipo=this.ListaRetenciones[posicion].Tipo_Retencion;\r\n\r\n    this.Lista_Facturas[pos].RetencionesFacturas[pos2].Id_Plan_Cuenta=this.ListaRetenciones[posicion].Id_Plan_Cuenta;\r\n\r\n    let valorRetencion = 0;\r\n\r\n    if (Tipo_Retencion == \"Iva\") {\r\n      valorRetencion = (parseFloat(this.Lista_Facturas[pos].RetencionesFacturas[pos2].Porcentaje)/100)*this.Lista_Facturas[pos].Iva;\r\n      this.Lista_Facturas[pos].RetencionesFacturas[pos2].Valor=(Math.round(valorRetencion)).toFixed(2);\r\n    } else {\r\n      valorRetencion = (parseFloat(this.Lista_Facturas[pos].RetencionesFacturas[pos2].Porcentaje)/100)*this.Lista_Facturas[pos].Total_Compra;\r\n      this.Lista_Facturas[pos].RetencionesFacturas[pos2].Valor=(Math.round(valorRetencion)).toFixed(2);\r\n    }\r\n\r\n    let retencionesFact = 0;\r\n\r\n    this.Lista_Facturas[pos].RetencionesFacturas.forEach(e => {\r\n\r\n      retencionesFact += Math.round(parseFloat(e.Valor));\r\n    });\r\n\r\n    setTimeout(() => {\r\n\r\n      // this.Lista_Facturas[pos].ValorIngresado = this.Lista_Facturas[pos].Por_Pagar - retencionesFact;\r\n\r\n\r\n      this.Retenciones_Totales = this.Lista_Facturas.reduce(this.reducer3, 0);\r\n\r\n      this.ActualizaValores('Facturas');\r\n    }, 300);\r\n\r\n  }\r\n\r\n  AgregarRetencionFactura(pos){\r\n  this.Lista_Facturas[pos].RetencionesFacturas.push({\r\n    Id_Retencion:'',\r\n    Valor:0\r\n  });\r\n  }\r\n\r\n  AgregarDescuentoFactura(pos){\r\n    if (this.Lista_Facturas[pos].DescuentosFactura.length < 3) {\r\n      this.Lista_Facturas[pos].DescuentosFactura.push({\r\n        Descuento:'',\r\n        ValorDescuento:0\r\n      });\r\n    } else {\r\n      this.confirmacionSwal.title = 'Advertencia!';\r\n      this.confirmacionSwal.icon = 'warning';\r\n      this.confirmacionSwal.text = 'No puedes agregar más descuentos en esta factura.';\r\n      this.confirmacionSwal.fire();\r\n    }\r\n\r\n  }\r\n\r\n  EliminarRetencionFactura(pos,pos2){\r\n\r\n    this.restablecerValorFactura(pos,pos2,'Retencion');\r\n\r\n    setTimeout(() => {\r\n      this.Lista_Facturas[pos].RetencionesFacturas.splice(pos2,1);\r\n      this.Retenciones_Totales = this.Lista_Facturas.reduce(this.reducer3, 0);\r\n\r\n      this.ActualizaValores('Facturas');\r\n    }, 100);\r\n\r\n  }\r\n\r\n  EliminarDescuentoFactura(pos,pos2){\r\n\r\n    this.restablecerValorFactura(pos,pos2, 'Descuento');\r\n\r\n    setTimeout(() => {\r\n\r\n      this.Lista_Facturas[pos].DescuentosFactura.splice(pos2,1);\r\n\r\n      this.ActualizaValores('Facturas');\r\n      (document.getElementById('botondescuentos'+pos) as HTMLElement).style.display = 'block';\r\n    }, 100);\r\n\r\n  }\r\n\r\n  restablecerValorFactura(pos,pos2, tipo) {\r\n\r\n    if (tipo == 'Retencion') {\r\n      let posicion=this.ListaRetenciones.findIndex(x=>x.Id_Retencion==this.Lista_Facturas[pos].RetencionesFacturas[pos2].Id_Retencion);\r\n\r\n      let Tipo_Retencion = this.ListaRetenciones[posicion].Tipo_Retencion;\r\n\r\n      this.Lista_Facturas[pos].RetencionesFacturas[pos2].Porcentaje=parseFloat(this.ListaRetenciones[posicion].Porcentaje);\r\n\r\n      let valorRetencion = 0;\r\n\r\n      if (Tipo_Retencion == \"Iva\") {\r\n        valorRetencion = (parseFloat(this.Lista_Facturas[pos].RetencionesFacturas[pos2].Porcentaje)/100)*this.Lista_Facturas[pos].Iva;\r\n        this.Lista_Facturas[pos].RetencionesFacturas[pos2].Valor=(Math.round(valorRetencion)).toFixed(2);\r\n      } else {\r\n        valorRetencion = (parseFloat(this.Lista_Facturas[pos].RetencionesFacturas[pos2].Porcentaje)/100)*this.Lista_Facturas[pos].Total_Compra;\r\n        this.Lista_Facturas[pos].RetencionesFacturas[pos2].Valor=(Math.round(valorRetencion)).toFixed(2);\r\n      }\r\n\r\n      // this.Lista_Facturas[pos].ValorIngresado += Math.round(valorRetencion);\r\n    } else if (tipo == 'Descuento') {\r\n      let valorDescuento = parseFloat(this.Lista_Facturas[pos].DescuentosFactura[pos2].ValorDescuento);\r\n\r\n      this.Lista_Facturas[pos].ValorIngresado = parseFloat(this.Lista_Facturas[pos].ValorIngresado) + Math.round(valorDescuento);\r\n    }\r\n  }\r\n\r\n  ListarRetenciones() {\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/lista_retenciones.php').subscribe((data:any)=>{\r\n      this.ListaRetenciones = data;\r\n    })\r\n\r\n  }\r\n\r\n  listaFacturas(fact,pos) {\r\n\r\n    let exist_fact = this.ListaFact.indexOf(fact);\r\n    let CodigoFactura = this.Lista_Facturas[pos].Codigo;\r\n\r\n    if (exist_fact < 0) {\r\n      this.ListaFact.push(fact);\r\n\r\n      this.Lista_Facturas[pos].ValorIngresado = this.Lista_Facturas[pos].Por_Pagar;\r\n\r\n      let esNotaC = this.esNotaCredito(CodigoFactura);\r\n\r\n      if (!esNotaC) { // Si no es una nota credito, habilito estos campos.\r\n        (document.getElementById('ValorIngresado'+pos) as HTMLInputElement).readOnly = false;\r\n        (document.getElementById('MayorPagar'+pos) as HTMLInputElement).readOnly = false;\r\n        (document.getElementById('ValorMayorPagar'+pos) as HTMLInputElement).readOnly = false;\r\n        (document.getElementById('botonretencion'+pos) as HTMLInputElement).style.display = 'block';\r\n        (document.getElementById('botondescuentos'+pos) as HTMLInputElement).style.display = 'block';\r\n      } else {\r\n        this.Valor_Devoluciones += parseFloat( this.Lista_Facturas[pos].ValorIngresado);\r\n      }\r\n\r\n    } else {\r\n      this.ListaFact.splice(exist_fact,1);\r\n      (document.getElementById('ValorIngresado'+pos) as HTMLInputElement).readOnly = true;\r\n      (document.getElementById('MayorPagar'+pos) as HTMLInputElement).readOnly = true;\r\n      (document.getElementById('ValorMayorPagar'+pos) as HTMLInputElement).readOnly = true;\r\n      (document.getElementById('botonretencion'+pos) as HTMLInputElement).style.display = 'none';\r\n      (document.getElementById('botondescuentos'+pos) as HTMLInputElement).style.display = 'none';\r\n\r\n      let esNotaC = this.esNotaCredito(CodigoFactura);\r\n\r\n      if (esNotaC) {\r\n        this.Valor_Devoluciones -= parseFloat(this.Lista_Facturas[pos].ValorIngresado);\r\n      }\r\n\r\n      this.Lista_Facturas[pos].RetencionesFacturas = [];\r\n      this.Lista_Facturas[pos].Id_Cuenta_Descuento = 0;\r\n      this.Lista_Facturas[pos].Id_Cuenta_MayorPagar = 0;\r\n      this.Lista_Facturas[pos].Descuento = '';\r\n      this.Lista_Facturas[pos].ValorDescuento = 0;\r\n      this.Lista_Facturas[pos].MayorPagar = '';\r\n      this.Lista_Facturas[pos].ValorMayorPagar = 0;\r\n      this.Lista_Facturas[pos].ValorIngresado = 0;\r\n\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores('Facturas');\r\n    }, 100);\r\n  }\r\n\r\n  esNotaCredito(codigo_factura) {\r\n    let res = codigo_factura.indexOf('NC');\r\n\r\n    if (res < 0) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  guardarComprobante(Formulario:NgForm, tipo) {\r\n    let info = JSON.stringify(Formulario.value);\r\n\r\n    let datos = new FormData();\r\n\r\n    datos.append('Datos', info);\r\n    datos.append('Facturas', JSON.stringify(this.ListaFact));\r\n    datos.append('Categorias', JSON.stringify(this.Categorias));\r\n    datos.append('Retenciones', JSON.stringify(this.Rentenciones));\r\n    this.http.post(environment.ruta+'php/comprobantes/guardar_comprobante.php', datos).subscribe((data:any)=>{\r\n\r\n      this.confirmacionSwal.title =data.titulo;\r\n      this.confirmacionSwal.text = data.mensaje;\r\n      this.confirmacionSwal.icon = data.tipo;\r\n      this.confirmacionSwal.fire();\r\n\r\n      if (data.tipo == 'success' && data.id != undefined) {\r\n        window.open(environment.ruta+'php/comprobantes/comprobantes_pdf.php?id='+data.id+'&tipo='+Formulario.value.Tipo,'_blank');\r\n        if (tipo == 'Pcga') {\r\n          window.open(environment.ruta+'php/contabilidad/movimientoscontables/movimientos_comprobante_pdf.php?id_registro='+data.id+'&id_funcionario_elabora='+Formulario.value.Id_Funcionario+'&tipo='+Formulario.value.Tipo,'_blank');\r\n        } else {\r\n          window.open(environment.ruta+'php/contabilidad/movimientoscontables/movimientos_comprobante_pdf.php?id_registro='+data.id+'&id_funcionario_elabora='+Formulario.value.Id_Funcionario+'&tipo_valor=Niif&tipo='+Formulario.value.Tipo,'_blank');\r\n        }\r\n\r\n        setTimeout(() => {\r\n\r\n          this.router.navigate(['/contabilidad/comprobantes/ingresos']);\r\n        }, 1000);\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  validarValorFactura(valor, pos) {\r\n\r\n    if (parseFloat(valor) > parseFloat(this.Lista_Facturas[pos].Por_Pagar)) {\r\n      this.confirmacionSwal.title =\"Error!\";\r\n      this.confirmacionSwal.text = \"El valor no puede ser superior al valor que se corresponde pagar.\";\r\n      this.confirmacionSwal.icon = \"error\";\r\n      this.confirmacionSwal.fire();\r\n      this.Lista_Facturas[pos].ValorIngresado = this.Lista_Facturas[pos].Por_Pagar;\r\n    }\r\n  }\r\n\r\n  calculosAdicionales(pos, pos2?) {\r\n\r\n    let descuento = parseFloat(this.Lista_Facturas[pos].DescuentosFactura.reduce(this.reducer_desc, 0));\r\n    let mayor_pagar = parseFloat(this.Lista_Facturas[pos].ValorMayorPagar);\r\n    let retenciones = parseFloat(this.Lista_Facturas[pos].RetencionesFacturas.reduce(this.reducer_ret, 0));\r\n    this.Lista_Facturas[pos].ValorDescuento = descuento;\r\n\r\n    // this.Lista_Facturas[pos].ValorIngresado = Math.round(parseFloat(this.Lista_Facturas[pos].Por_Pagar));\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores('Facturas');\r\n    }, 100);\r\n\r\n  }\r\n\r\n  AgregarCampos(pos,modelo,tipo,pos2?){\r\n    if(tipo=='Descuento'){\r\n      this.Lista_Facturas[pos].DescuentosFactura[pos2].Id_Cuenta_Descuento=modelo.Id_Plan_Cuentas;\r\n    }else if(tipo=='MayorPagar'){\r\n      this.Lista_Facturas[pos].Id_Cuenta_MayorPagar=modelo.Id_Plan_Cuentas;\r\n    }\r\n  }\r\n\r\n  fechaHoy(){\r\n    let fecha:any = new Date();\r\n    fecha = (fecha.toISOString()).split('T')[0];\r\n\r\n    return fecha\r\n  }\r\n  CargarArchivo(event){\r\n    if (event.target.files.length === 1) {\r\n        this.Archivo = event.target.files[0];\r\n        this.EnviarArchivo();\r\n    }\r\n  }\r\n  EnviarArchivo(){\r\n    this.Cargando=true;\r\n    this.Facturas_Multiple=false;\r\n    let datos = new FormData();\r\n    datos.append('archivo', this.Archivo);\r\n    this.http.post(environment.ruta + 'php/comprobantes/subir_facturas.php', datos).subscribe((data:any)=>{\r\n      this.ListaFact=data.Facturas;\r\n      this.Lista_Facturas=data.Facturas;\r\n      this.Faltantes=data.Faltantes;\r\n      this.Cargando=false;\r\n      this.ListaFact.length\r\n\r\n      setTimeout(() => {\r\n        this.Retenciones_Totales = this.Lista_Facturas.reduce(this.reducer3, 0);\r\n        this.ActualizaValores('Facturas')\r\n      }, 300);\r\n    }, error => {\r\n      this.Cargando = false;\r\n      this.confirmacionSwal.title = \"Oops!\";\r\n      this.confirmacionSwal.text = \"Se perdió la conexión a internet. Por favor vuelve a intentarlo.\";\r\n      this.confirmacionSwal.icon = \"warning\";\r\n      this.confirmacionSwal.fire();\r\n    })\r\n  }\r\n\r\n  calcularTotalesDebitoCredito() {\r\n    let total_descuento = 0;\r\n    let total_ajustes = 0;\r\n    this.Lista_Facturas.forEach((val, pos) => {\r\n      total_descuento += parseFloat(this.Lista_Facturas[pos].DescuentosFactura.reduce(this.reducer_desc, 0));\r\n      total_ajustes += isNaN(this.Lista_Facturas[pos].ValorMayorPagar) ? 0 : parseFloat(this.Lista_Facturas[pos].ValorMayorPagar);\r\n    });\r\n    this.Total_Debito = this.Valor_Banco + this.Retenciones_Totales + total_descuento + this.Valor_Devoluciones;\r\n    this.Total_Credito = total_ajustes + (this.Total_ValorP - this.Valor_Devoluciones);\r\n  }\r\n\r\n  validarCampo(campo, event, tipo) { // Funcion que validará los campos de typeahead\r\n    if (typeof(campo) != 'object' && campo != '') {\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Incorrecto!',\r\n        text: `El valor ${tipo} no es valido.`\r\n      });\r\n      // this._swalService.ShowMessage(swal);\r\n    }\r\n  }\r\n\r\n  getCodigoIngreso(fecha?:string) {\r\n\r\n    let datos:any = {Tipo:'Ingreso'};\r\n\r\n    if (fecha != undefined && fecha != null) {\r\n      datos.Fecha = fecha;\r\n    }\r\n\r\n    this.http.get(environment.ruta+'php/comprobantes/get_codigo.php', {params: datos}).subscribe((data:any) => {\r\n      this.datosCabecera.Codigo = data.consecutivo;\r\n    })\r\n  }\r\n\r\n}\r\n","<div class=\"page-body\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12 col-md-12 col-md-offset-4\">\r\n\r\n            <div class=\"card\">\r\n\r\n                <app-cabecera [datosCabecera]=\"datosCabecera\"></app-cabecera>\r\n                <!-- Layout de Cabecera. -->\r\n\r\n                <div class=\"card-body\" style=\"padding-bottom: 0px;\">\r\n                    <form #FormComprobante=\"ngForm\">\r\n                        <div class=\"row invoive-info\" style=\"margin-bottom: 0; padding-bottom: 0px;\">\r\n                        <input type=\"hidden\" name=\"Id_Empresa\" [(ngModel)]=\"Id_Empresa\">\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Fecha</label>\r\n                                    <input type=\"date\" name=\"Fecha_Comprobante\" id=\"Fecha_Comprobante\" [(ngModel)]=\"Fecha_Comprobante\" class=\"form-control form-control-sm\" (change)=\"getCodigoIngreso($event.target.value)\" required>\r\n                                </div>\r\n                                <input type=\"hidden\" name=\"Tipo\" [ngModel]=\"'Ingreso'\">\r\n                            </div>\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Cliente</label>\r\n                                    <input *ngIf=\"Mostrar_Input_Cli\" [(ngModel)]=\"Nom_Cliente\" type=\"text\" name=\"Cliente\" id=\"Cliente\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter\" (ngModelChange)=\"BuscarDatosCliente(Nom_Cliente)\"\r\n                                        (blur)=\"validarCampo(Nom_Cliente,$event,'Cliente')\" />\r\n                                    <input *ngIf=\"!Mostrar_Input_Cli\" type=\"text\" class=\"form-control form-control-sm\" [(ngModel)]=\"Nom_Cliente\" name=\"Nombre_Cliente\" readonly>\r\n                                    <input hidden [(ngModel)]=\"Id_Cliente\" name=\"Id_Cliente\" id=\"Id_Cliente\" class=\"form-control form-control-sm \" required>\r\n                                    <!-- <input hidden [(ngModel)]=\"Funcionario.Identificacion_Funcionario\" name=\"Id_Funcionario\" id=\"Id_Funcionario\" class=\"form-control form-control-sm \" required> -->\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Banco</label>\r\n                                    <ng-select id=\"Cuentas\" name=\"Id_Banco\" style=\"margin-bottom:5px; font-size: 10px; height: 23px; max-height: 23px; line-height: 21px\" placeholder=\"Seleccione el Banco\" [items]=\"Cuentas\" bindLabel=\"label\" bindValue=\"value\" [(ngModel)]=\"Cuenta_Banco\" required>\r\n                                    </ng-select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Valor Banco</label>\r\n                                    <input class=\"form-control form-control-sm\" type=\"number\" name=\"Valor_Banco\" id=\"Valor_Banco\" [(ngModel)]=\"Valor_Banco\" (change)=\"calcularTotalesDebitoCredito()\" required>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Forma de Pago</label>\r\n                                    <select class=\"form-control form-control-sm\" ngModel name=\"Id_Forma_Pago\" required>\r\n                      <option value=\"\" selected>Seleccione forma de pago</option>\r\n                      <option *ngFor=\"let fp of FormaPago\" [value]=\"fp.Id_Forma_Pago\">{{fp.Nombre}}</option>\r\n                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Observaciones</label>\r\n                                    <textarea name=\"Observaciones\" id=\"Observaciones\" class=\"form-control\" ngModel rows=\"3\"></textarea>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Notas del Recibo</label>\r\n                                    <textarea name=\"Notas\" id=\"Notas\" class=\"form-control\" ngModel rows=\"3\"></textarea>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n                    <hr>\r\n                    <div class=\"row\">\r\n\r\n                        <div *ngIf=\"Mostrar_Opciones && Facturas_Multiple\" class=\"col-md-12 text-center\">\r\n                            <strong> ¿Asociar este ingreso a algunas Facturas existentes ?</strong> <br> Recuerda que puedes registrar un ingreso sin necesidad de que esté asociado a una cuenta de cobro <br>\r\n                            <input type=\"radio\" name=\"Asociar\" value=\"Si\" (click)=\"MostarContenido($event.target.value)\"> SI\r\n                            <input type=\"radio\" name=\"Asociar\" Value=\"No\" (click)=\"MostarContenido($event.target.value)\"> No\r\n                            <input type=\"radio\" name=\"Asociar\" Value=\"Archivo\" (click)=\"MostarContenido($event.target.value)\"> Cargar Archivo\r\n\r\n                        </div>\r\n\r\n\r\n                        <div *ngIf=\"Cargando\" class=\"col-md-12 text-center m-t-10\">\r\n                            <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n                            <span class=\"sr-only\">Cargando...</span>\r\n                            <h4>Cargando Facturas...</h4>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div *ngIf=\"Mostrar && Facturas_Multiple\" class=\"text-center\">\r\n                        <h1><i class=\"fa fa-exclamation-triangle\"></i></h1>\r\n                        <h2>Este proceso se encuentra en mantenimiento</h2>\r\n                    </div>\r\n                    <div *ngIf=\"Mostrar && !Facturas_Multiple\" class=\"text-center\">\r\n\r\n                        <label style=\"display: block; cursor: pointer;\" for=\"Acta_Entrega\">\r\n                    <h1 ><i class=\"fa fa-upload\" ></i></h1>\r\n                    <h6>Haga click sobre el icono para cargar el archivo. </h6>\r\n                </label>\r\n\r\n\r\n\r\n                        <input type=\"file\" id=\"Acta_Entrega\" ngModel accept=\"application/vnd.ms-excel\" data-max-size=\"2048\" name=\"Acta_Entrega\" class=\"form-control form-control-sm\" (change)=\"CargarArchivo($event)\" style=\"display: none\">\r\n                    </div>\r\n                    <!-- COMENTADO TEMPORTALMENTE -->\r\n                    <!-- <div *ngIf=\"Mostrar\" class=\"row\">\r\n              <div class=\"col-md-12\">\r\n                <table class=\"table  invoice-detail-table tabla\">\r\n                  <thead>\r\n                    <tr class=\"thead-default\">\r\n\r\n                      <th>Cuenta</th>\r\n                      <th style=\"width:100px;\">Valor</th>\r\n                      <th style=\"width:30px\">Impuesto</th>\r\n                      <th style=\"width:50px;\">Cantidad</th>\r\n                      <th style=\"width:50px;\">Observaciones</th>\r\n                      <th style=\"width:50px;\">Total</th>\r\n\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr *ngFor=\"let item of Categorias; let i = index\" id=\"fila{{i}}\">\r\n                      <td><input  [(ngModel)]=\"item.Cuenta\" type=\"text\" name=\"Cuenta{{i}}\" id=\"Cuenta{{i}}\" class=\"form-control form-control-sm f-9\"\r\n                          [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt1\" [inputFormatter]=\"formatter1\" (ngModelChange)=\"BuscarCuenta(item.Cuenta, i)\"\r\n                          required />\r\n                      </td>\r\n                      <td><input name=\"Valor{{i}}\" [(ngModel)]=\"item.Valor\" class=\"form-control form-control-sm text-right\"></td>\r\n                      <td> <select class=\"form-control form-control-sm text-center\" name=\"Impuesto{{i}}\" id=\"Impuesto{{i}}\"\r\n                          [(ngModel)]=\"item.Impuesto\">\r\n                          <option value=\"\">Sin IVA</option>\r\n                          <option *ngFor=\"let impuesto of Impuesto; let i=index\" [value]=\"impuesto.Valor\">{{impuesto.Valor}}</option>\r\n                        </select></td>\r\n                      <td><input name=\"Cantidad{{i}}\" [(ngModel)]=\"item.Cantidad\" class=\"form-control form-control-sm text-right\" type=\"number\"\r\n                          (change)=\"Calcular(i)\"></td>\r\n                      <td><input name=\"Observaciones{{i}}\" [(ngModel)]=\"item.Observaciones\" class=\"form-control form-control-sm\"></td>\r\n\r\n                      <td><input name=\"Total{{i}}\" [(ngModel)]=\"item.Subtotal\" class=\"form-control form-control-sm text-right\"\r\n                          readonly></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div *ngIf=\"Mostrar\" class=\"row\">\r\n              <div class=\"col-md-12 contenido \">\r\n                <strong >¿ SE APLICÓ ALGUNA RETENCIÓN ?</strong><br>\r\n                <div class=\"row m-t-10\">\r\n                  <div class=\"col-md-6\">\r\n                    <table class=\"table  invoice-detail-table tabla\">\r\n                      <thead class=\"thead-default\">\r\n                        <td>Tipo de Retención </td>\r\n                        <td style=\"width:70px;\">Valor </td>\r\n                        <td style=\"width:10px;\"> </td>\r\n\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr *ngFor=\"let item of Rentenciones; let i = index\" id=\"fila{{i}}\">\r\n                          <td><select name=\"Retencion{{i}}\" id=\"Retencion{{i}}\" class=\"form-control form-control-sm\" [(ngModel)]=\"item.Id_Retencion\" (change)=\"CalcularRetenciones(i)\">\r\n                            <option value=\"\">Tipo de Retención</option>\r\n                            <option *ngFor=\"let item of ListaRetenciones; let j = index\" [value]=\"item.Id_Retencion\">{{ item.Nombre }}</option>\r\n                          </select></td>\r\n                          <td><input name=\"ValorRetencion{{i}}\" [(ngModel)]=\"item.Valor\" class=\"form-control form-control-sm text-right\"></td>\r\n                          <td> <a  href=\"javascript:;\"  (click)=\"EliminarRetencion(i)\">\r\n                              <span>\r\n                                <i class=\"fa fa-trash-o\"></i>\r\n                              </span>\r\n                            </a>\r\n                        </tr>\r\n\r\n                      </tbody>\r\n\r\n                    </table>\r\n                    <a href=\"javascript:;\" (click)=\"AgregarRetencion()\"><i class=\"fa fa-plus-square\"></i> Agregar retención</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              </div>\r\n            <div *ngIf=\"Mostrar\" class=\"row\">\r\n              <div class=\"col-sm-12\">\r\n                <table class=\"table table-responsive invoice-table invoice-total\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Subtotal:</th>\r\n                      <td>{{ Subtotal_Ingreso | currency }}</td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <th>Impuestos:</th>\r\n                      <td>{{ Impuesto_Ingreso| currency }}</td>\r\n                    </tr>\r\n                    <tr *ngIf=\"Subtotal_Retenciones!=0\" >\r\n                      <th>Retenciones:</th>\r\n                      <td> -{{ Subtotal_Retenciones | currency }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Precio Total:</th>\r\n                      <td>{{ Total_Ingreso | currency }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n              </div>\r\n            </div> -->\r\n\r\n\r\n                    <div *ngIf=\"Mostrar_Cliente\" class=\"row\">\r\n\r\n                        <div class=\"col-md-12 text-center\">\r\n                            <h6>Facturas Pendientes </h6>\r\n                        </div>\r\n                        <div class=\"col-sm-12\">\r\n\r\n                            <div style=\"max-height:450px;overflow:auto\">\r\n                                <table class=\"table invoice-detail-table tabla\">\r\n                                    <thead>\r\n                                        <tr class=\"thead-default\">\r\n                                            <th style=\"width:20px\"></th>\r\n                                            <th style=\"width:100px;\">Factura</th>\r\n                                            <th style=\"width:100px; text-align: right\">Total </th>\r\n                                            <th style=\"width:100px; text-align: right\">Pagado </th>\r\n                                            <th style=\"width:100px; text-align: right\">Gravado</th>\r\n                                            <th style=\"width:100px; text-align: right\">Iva</th>\r\n                                            <th style=\"width:100px; text-align: right\">Excenta</th>\r\n                                            <th style=\"width:100px; text-align: right\">Por Pagar </th>\r\n                                            <th style=\"width:105px;\">Descuentos </th>\r\n                                            <th style=\"width:105px;\">Ajustes Credito</th>\r\n                                            <th style=\"width:180px; \">Retenciones </th>\r\n                                            <th style=\"width:100px; text-align: right\">Valor Recibido </th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr *ngFor=\"let item of Lista_Facturas; let i = index\" id=\"fila{{i}}\">\r\n                                            <td class=\"text-center\">\r\n                                                <input type=\"checkbox\" name=\"Factura{{i}}\" id=\"Factura{{i}}\" (change)=\"listaFacturas(item, i)\">\r\n                                            </td>\r\n                                            <td>{{item.Codigo}}</td>\r\n                                            <td style=\"text-align: right\">{{item.Total_Compra |currency}} </td>\r\n                                            <td style=\"text-align: right\">{{ item.Pagado | currency }} </td>\r\n                                            <td style=\"text-align: right\">{{item.Gravada |currency}} </td>\r\n                                            <td style=\"text-align: right\">{{item.Iva |currency}} </td>\r\n                                            <td style=\"text-align: right\">{{item.Exenta |currency}} </td>\r\n                                            <td style=\"text-align: right\">{{item.Por_Pagar |currency}} </td>\r\n                                            <td>\r\n                                                <table style=\"margin-left:5px;\">\r\n                                                    <tr *ngFor=\"let descuento of item.DescuentosFactura; let z = index\">\r\n                                                        <td>\r\n                                                            <input [(ngModel)]=\"descuento.Descuento\" type=\"text\" name=\"Descuento{{i}}{{z}}\" id=\"Descuento{{i}}{{z}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt1\" [inputFormatter]=\"formatter1\" placeholder=\"Cuenta\" (ngModelChange)=\"AgregarCampos(i,descuento.Descuento,'Descuento',z)\"\r\n                                                                (blur)=\"validarCampo(descuento.Descuento,$event,'Descuento')\" /> <br>\r\n\r\n                                                            <input name=\"ValorDescuento{{i}}{{z}}\" id=\"ValorDescuento{{i}}{{z}}\" [(ngModel)]=\"descuento.ValorDescuento\" class=\"form-control form-control-sm text-right\" (change)=\"calculosAdicionales(i,z)\">\r\n                                                        </td>\r\n                                                        <td style=\"vertical-align: middle\">\r\n                                                            <a href=\"javascript:;\" (click)=\"EliminarDescuentoFactura(i,z)\">\r\n                                                                <span>\r\n                                    <i class=\"fa fa-trash-o\"></i>\r\n                                  </span>\r\n                                                            </a>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                </table>\r\n                                                <a style=\"display: none\" id=\"botondescuentos{{i}}\" href=\"javascript:;\" (click)=\"AgregarDescuentoFactura(i)\"><i class=\"fa fa-plus-square\"></i> Agregar</a>\r\n\r\n                                            </td>\r\n                                            <td>\r\n                                                <table style=\"margin-left:5px;\">\r\n                                                    <tr>\r\n                                                        <td> <input [(ngModel)]=\"item.MayorPagar\" type=\"text\" name=\"MayorPagar{{i}}\" id=\"MayorPagar{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt1\" [inputFormatter]=\"formatter1\"\r\n                                                                readonly placeholder=\"Cuenta\" (ngModelChange)=\"AgregarCampos(i,item.MayorPagar, 'MayorPagar')\" (blur)=\"validarCampo(item.MayorPagar,$event,'Ajuste Credito')\" /></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>\r\n                                                            <input name=\"ValorMayorPagar{{i}}\" id=\"ValorMayorPagar{{i}}\" [(ngModel)]=\"item.ValorMayorPagar\" class=\"form-control form-control-sm text-right\" (change)=\"calculosAdicionales(i)\" readonly>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                </table>\r\n\r\n                                            </td>\r\n                                            <td>\r\n                                                <table style=\"margin-left:50px;\">\r\n                                                    <tr *ngFor=\"let valor of item.RetencionesFacturas; let j = index\" id=\"fila{{j}}\">\r\n                                                        <td style=\"width:150px;\"><select name=\"Retencion{{j}}\" id=\"Retencion{{j}}\" class=\"form-control form-control-sm\" [(ngModel)]=\"valor.Id_Retencion\" (change)=\"CalcularRetencionesFacturas(i,j)\">\r\n                                  <option value=\"\">Tipo de Retención</option>\r\n                                  <option *ngFor=\"let item of ListaRetenciones; let j = index\"\r\n                                    [value]=\"item.Id_Retencion\">{{ item.Nombre }}</option>\r\n                                </select></td>\r\n                                                        <td style=\"width:150px;\"><input name=\"ValorRetencion{{j}}\" [(ngModel)]=\"valor.Valor\" class=\"form-control form-control-sm text-right\" (change)=\"ActualizaValores('Facturas')\"></td>\r\n                                                        <td>\r\n                                                            <a href=\"javascript:;\" (click)=\"EliminarRetencionFactura(i,j)\">\r\n                                                                <span>\r\n                                    <i class=\"fa fa-trash-o\"></i>\r\n                                  </span>\r\n                                                            </a>\r\n                                                        </td>\r\n                                                    </tr>\r\n\r\n                                                </table>\r\n                                                <a style=\"display: none\" id=\"botonretencion{{i}}\" href=\"javascript:;\" (click)=\"AgregarRetencionFactura(i)\"><i class=\"fa fa-plus-square\"></i> Agregar retención</a>\r\n\r\n                                            </td>\r\n                                            <td>\r\n                                                <input name=\"ValorIngresado{{i}}\" id=\"ValorIngresado{{i}}\" [(ngModel)]=\"item.ValorIngresado\" class=\"form-control form-control-sm text-right\" (change)=\"ActualizaValores('Facturas');validarValorFactura($event.target.value, i)\" readonly>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div *ngIf=\"!Facturas_Multiple \" class=\"row\">\r\n                        <div *ngIf=\"ListaFact.length>0\" class=\"col-md-12\">\r\n                            <app-tablafacturascargadas [Facturas]=\"ListaFact\"></app-tablafacturascargadas>\r\n                        </div>\r\n\r\n                        <div *ngIf=\"Faltantes.length>0\" class=\"col-md-12\">\r\n                            <hr>\r\n                            <h6 class=\"text-center\"> Facturas no anexadas o que ya se encuentran pagas </h6>\r\n                            <app-tablafacturafaltante [Facturas_Faltantes]=\"Faltantes\"></app-tablafacturafaltante>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <table class=\"table table-responsive invoice-table invoice-total\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th>Subtotal:</th>\r\n                                        <td>{{ Subtotal_Facturas | currency }} </td>\r\n                                    </tr>\r\n                                    <tr *ngIf=\"Retenciones_Totales>0\">\r\n                                        <th>Retenciones</th>\r\n                                        <td>-{{ Retenciones_Totales | currency }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Precio Total:</th>\r\n                                        <td>{{ Total_Facturas | currency }}</td>\r\n                                    </tr>\r\n\r\n                                    <tr style=\"border-top: 1px solid #000;border-right: 1px solid #000;border-left: 1px solid #000\">\r\n                                        <th>Total Debito:</th>\r\n                                        <td>{{ Total_Debito | currency }} </td>\r\n                                    </tr>\r\n                                    <tr style=\"border-right: 1px solid #000;border-left: 1px solid #000\">\r\n                                        <th>Total Credito</th>\r\n                                        <td>{{ Total_Credito | currency }}</td>\r\n                                    </tr>\r\n                                    <tr style=\"border-bottom: 1px solid #000;border-right: 1px solid #000;border-left: 1px solid #000\">\r\n                                        <th>Diferencia:</th>\r\n                                        <td>{{ (Total_Debito - Total_Credito) | currency }}</td>\r\n                                    </tr>\r\n\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-8\"></div>\r\n                <div class=\"col-md-2 botonFlotante1\">\r\n                    <button href=\"\" [routerLink]=\"['/contabilidad/comprobantes/ingresos']\" type=\"button\" class=\"btn btn-success btn-block btn-enviar \">\r\n              Volver\r\n            </button>\r\n                </div>\r\n                <div class=\"col-md-2 botonFlotante\">\r\n                    <button type=\"button\" class=\"btn btn-success  btn-block btn-enviar\" [swal]=\"confirmacionGuardar\">\r\n              Guardar\r\n            </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\"><strong>{{ r.Nombre }}</strong>\r\n    </span>\r\n</ng-template>\r\n<swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n\r\n<swal #confirmacionGuardar [swalOptions]=\"alertOption\"></swal>\r\n\r\n\r\n<ng-template #rt1 let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\">{{ r.Codigo }} </span>\r\n</ng-template>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { SwalComponent } from '@sweetalert2/ngx-sweetalert2';\r\nimport Swal, { SweetAlertOptions } from 'sweetalert2';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SwalService } from '../../../../ajustes/informacion-base/services/swal.service';\r\nimport swal from 'sweetalert2';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport { EgresosService } from '../egresos.service';\r\nimport { NotasContablesService } from '../../notas-contables/notas-contables.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { CentroCostosService } from '../../../centro-costos/centro-costos.service';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-comprobanteegresovarioscrear',\r\n  templateUrl: './comprobanteegresovarioscrear.component.html',\r\n  styleUrls: ['./comprobanteegresovarioscrear.component.scss']\r\n})\r\nexport class ComprobanteegresovarioscrearComponent implements OnInit {\r\n\r\n  public datosCabecera:any = {\r\n    Titulo: 'Nuevo Egreso',\r\n    Fecha: new Date(),\r\n    Codigo: ''\r\n  }\r\n\r\n  public Tipo_Comprobante:string = 'Egreso'\r\n  public alertOption:SweetAlertOptions = {};\r\n  public Cargando:boolean = false;\r\n  public Mostrar_Facturas:boolean = false;\r\n  public Facturas:any = [];\r\n  public position_document:number;\r\n\r\n  public ChequesSeleccionados : any =[];\r\n\r\n  @ViewChild('FormEgreso') FormEgreso: any;\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n  @ViewChild('confirmacionGuardarCheque') confirmacionGuardarCheque: SwalComponent;\r\n  @ViewChild('modalAgregarCheque') modalAgregarCheque: any;\r\n  public fecha=new Date();\r\n  public Fecha:any = '';\r\n  public display_Banco:string = 'none';\r\n  public Proveedores:any[]=[];\r\n  public Lista_Facturas:any[]=[{\r\n    RetencionesFactura:[]\r\n  }];\r\n\r\n  public alertOption2: SweetAlertOptions = {};\r\n  public Centro_Costo= '';\r\n  public Nom_Centro_Costo:any= '';\r\n  public Fecha_Nota_Contable=this.fechaHoy();\r\n  public Id_Proveedor: any = '';\r\n  public Id_Empresa:any = '';\r\n  public NombreProveedor: string = '';\r\n  public Nom_Cliente:any;\r\n  public Id_Cliente = '';\r\n  public Cliente = [];\r\n  // public Funcionario=JSON.parse(localStorage.getItem(\"User\"));\r\n  public Cuenta=[];\r\n  public Bancos: Array<any>;\r\n  public FormaPago:any = [ ];\r\n  public Rentenciones:any[]=[];\r\n  public RentencionesFactura:any[]=[];\r\n  public Cuentas_Contables:any[]=[{\r\n    Cuenta: '',\r\n    Cheque: '',\r\n    Nit: '',\r\n    Centro_Costo: '',\r\n    Documento: '',\r\n    Concepto: '',\r\n    Base: 0,\r\n    Debito: 0,\r\n    Credito: 0,\r\n    Deb_Niif: 0,\r\n    Cred_Niif: 0\r\n  }];\r\n  public Cuenta_Banco='';\r\n  public Costo_Ingreso = 0;\r\n  public Total_Debito:number = 0;\r\n  public Total_Credito:number = 0;\r\n  public Retenciones_Totales =0;\r\n  public Mostrar:boolean=false;\r\n  public Mostrar_Cliente:boolean=false;\r\n  public Forma_Pago:string='Cheque';\r\n  public Impuesto = 0;\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal);\r\n  public reducer_deb = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Debito);\r\n  public reducer_cred = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Credito);\r\n  public reducer_valorp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.ValorIngresado);\r\n  public reducer_abono = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Abono);\r\n  public reducer3 = (accumulator, currentValue) => {\r\n    var acu_iva = 0;\r\n    currentValue.RetencionesFacturas.forEach((v, i)=>{\r\n\r\n      acu_iva += parseFloat(v.Valor);\r\n    });\r\n\r\n    return accumulator + acu_iva;\r\n  };\r\n  ListaRetenciones: any = [];\r\n  ListaFact:any = [];\r\n  Total_Facturas: number = 0;\r\n  Mostrar_Opciones: boolean = true;\r\n  Mostrar_Input_Cli: boolean = true;\r\n  Centros: any = [];\r\n  Tipo_Beneficiario: any;\r\n  Documento: string = '';\r\n  Concepto: string = '';\r\n  Cheques: any = [];\r\n  public ModelCheque:any = {\r\n    Id_Plan_Cuentas: '',\r\n    Prefijo: '',\r\n    Inicial: null,\r\n    Final: null\r\n  }\r\n  mostrarCheque: boolean = true;\r\n  idBorrador: any = '';\r\n  Codigo: string = '';\r\n  public Total_Abono:number = 0;\r\n  companies:any[] = [];\r\n\r\n  constructor(\r\n              private route: ActivatedRoute,\r\n              private http: HttpClient,\r\n              private router: Router,\r\n              // private swalService: SwalService,\r\n              private _egresos: EgresosService,\r\n              private _general: NotasContablesService,\r\n              private _user: UserService\r\n              ) {\r\n\r\n    this.http.get(environment.ruta + 'php/contabilidad/proveedor_buscar.php').subscribe((data: any) => {\r\n      this.Proveedores = data;\r\n    });\r\n    this.alertOption = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a Guardar este Comprobante\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Guardar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'info',\r\n      input: 'select',\r\n      inputOptions: {\r\n        Pcga: 'Imprimir en PCGA',\r\n        Niif: 'Imprimir en NIIF'\r\n      },\r\n      preConfirm: (value) => {\r\n        return new Promise((resolve) => {\r\n          this.guardarEgreso(this.FormEgreso, value);\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n\r\n    this.alertOption2 = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a registrar un nuevo cheque\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Registrar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'info',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          this.nuevoCheque(this.modalAgregarCheque);\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n  }\r\n\r\n  search = (text$: Observable<string>) =>\r\n  text$.pipe(\r\n    debounceTime(200),\r\n    map(term => term.length < 4 ? []\r\n      : this.Cliente.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n  );\r\n    formatter = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 4 ? []\r\n        : this.Cuenta.filter(v => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n    formatter1 = (x: { Codigo: string }) => x.Codigo;\r\n\r\n    search2 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 2 ? []\r\n        : this.Centros.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n    formatter2 = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    ngOnInit() {\r\n      this.Id_Empresa = this._user.user.person.company_worked.id;\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascontables/nit_buscar.php').subscribe((data: any) => {\r\n        this.Cliente = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/cuentas.php').subscribe((data: any) => {\r\n        this.Bancos = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php', {params: { company_id: this._user.user.person.company_worked.id }}).subscribe((data: any) => {\r\n        this.Cuenta = data.Activo;\r\n      });\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascontables/centrocosto_buscar.php', {params: { company_id: this._user.user.person.company_worked.id }}).subscribe((data: any) => {\r\n        this.Centros = data;\r\n      });\r\n\r\n      this.getCodigoEgreso();\r\n\r\n      this.ListarRetenciones();\r\n\r\n      this.listarCheques();\r\n    }\r\n\r\n  BuscarProveedor(modelo) {\r\n    this.NombreProveedor = modelo.Proveedores;\r\n    this.Id_Proveedor = modelo.Id_Proveedor;\r\n  }\r\n\r\n  BuscarDatosCliente(cliente, pos?) {\r\n\r\n    if (pos != null && pos != undefined) {\r\n      this.Cuentas_Contables[pos].Nit_Cuenta = cliente.ID;\r\n      this.Cuentas_Contables[pos].Tipo_Nit = cliente.Tipo;\r\n    } else {\r\n\r\n      this.Id_Cliente=cliente.ID;\r\n      this.Tipo_Beneficiario = cliente.Tipo;\r\n    }\r\n\r\n  }\r\n\r\n  getDatosTercero(nit) {\r\n    return this.Cliente.find(x => x.ID == nit);\r\n  }\r\n\r\n  BuscarDatosCentro(centro, pos?) {\r\n\r\n    if (pos != undefined && pos != null) {\r\n      if (centro == '') {\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = centro;\r\n      } else {\r\n\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = centro.Id_Centro_Costo;\r\n      }\r\n    } else {\r\n      this.Centro_Costo = centro.Id_Centro_Costo;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  BuscarCuenta(cuenta, pos){\r\n   let pos2=pos+1;\r\n\r\n      if (cuenta.Centro_Costo == 'S') { // Validar si la cuenta es para Centro de costos o no.\r\n        this.Cuentas_Contables[pos].Centro_Costo = this.Nom_Centro_Costo;\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = this.Nom_Centro_Costo.Id_Centro_Costo;\r\n        (document.getElementById('Centro_Costo'+pos) as HTMLInputElement).style.display = 'block';\r\n      } else {\r\n        this.Cuentas_Contables[pos].Centro_Costo = '';\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = 0;\r\n        (document.getElementById('Centro_Costo'+pos) as HTMLInputElement).style.display = 'none';\r\n      }\r\n\r\n      this.Cuentas_Contables[pos].Id_Plan_Cuentas=cuenta.Id_Plan_Cuentas;\r\n      this.Cuentas_Contables[pos].Documento= this.Documento;\r\n      this.Cuentas_Contables[pos].Concepto= this.Concepto;\r\n\r\n      // Nit Beneficiario\r\n      this.Cuentas_Contables[pos].Nit = this.Nom_Cliente;\r\n      this.Cuentas_Contables[pos].Nit_Cuenta = this.Nom_Cliente.ID;\r\n      this.Cuentas_Contables[pos].Tipo_Nit = this.Nom_Cliente.Tipo;\r\n\r\n      let posicion = this.ListaRetenciones.findIndex(x => x.Id_Plan_Cuenta === cuenta.Id_Plan_Cuentas);\r\n\r\n      this.isBank(cuenta, pos); // Validar si la cuenta es un banco.\r\n\r\n      if (posicion >= 0) {\r\n        (document.getElementById('Base'+pos) as HTMLInputElement).readOnly = false;\r\n        this.Cuentas_Contables[pos].Porcentaje = this.ListaRetenciones[posicion].Porcentaje;\r\n      }\r\n\r\n      if(cuenta.Id_Plan_Cuentas){\r\n        if (this.Cuentas_Contables[pos2] == undefined){\r\n          this.Cuentas_Contables.push({\r\n            Cuenta: '',\r\n            Cheque: '',\r\n            Nit: '',\r\n            Centro_Costo: '',\r\n            Documento: '',\r\n            Concepto: '',\r\n            Base: 0,\r\n            Debito: 0,\r\n            Credito: 0,\r\n            Deb_Niif: 0,\r\n            Cred_Niif: 0\r\n          });\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n\r\n\r\n  ActualizaValores(pos?) {\r\n\r\n    if (pos != null && pos != undefined) {\r\n      this.Cuentas_Contables[pos].Deb_Niif = this.Cuentas_Contables[pos].Debito;\r\n      this.Cuentas_Contables[pos].Cred_Niif = this.Cuentas_Contables[pos].Credito;\r\n    }\r\n\r\n    this.Total_Credito = this.Cuentas_Contables.reduce(this.reducer_cred, 0);\r\n    this.Total_Debito = this.Cuentas_Contables.reduce(this.reducer_deb, 0);\r\n  }\r\n\r\n  EliminarCuenta(pos){\r\n\r\n    this.Cuentas_Contables.splice(pos,1);\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores();\r\n    }, 100);\r\n\r\n  }\r\n\r\n  guardarEgreso(Formulario:NgForm, tipo) {\r\n\r\n    let info = JSON.stringify(Formulario.value);\r\n\r\n    let datos = new FormData();\r\n\r\n    datos.append('Datos', info);\r\n    datos.append('Cuentas_Contables', JSON.stringify(this.Cuentas_Contables));\r\n    this.http.post(environment.ruta+'php/comprobantes/guardar_egreso.php', datos).subscribe((data:any)=>{\r\n\r\n      this.confirmacionSwal.title =data.titulo;\r\n      this.confirmacionSwal.text = data.mensaje;\r\n      this.confirmacionSwal.icon = data.tipo;\r\n      this.confirmacionSwal.fire();\r\n\r\n      if (data.tipo == 'success' && data.id != undefined) {\r\n        if (tipo == 'Pcga') {\r\n          window.open(environment.ruta+'php/comprobantes/egreso_descarga_pdf.php?id='+data.id,'_blank'); // SE IMPRIME EN FORMATO PCGA\r\n        } else {\r\n          window.open(environment.ruta+'php/comprobantes/egreso_descarga_pdf.php?id='+data.id+'&tipo=Niif','_blank'); // SE IMPRIME EN FORMATO NIIF\r\n        }\r\n        setTimeout(() => {\r\n\r\n          this.router.navigate(['/contabilidad/comprobantes/egresos']);\r\n        }, 1000);\r\n      }\r\n\r\n    }, error => {\r\n      this.confirmacionSwal.text = \"Ha ocurrido un error inesperado, la conexión a fallado.\";\r\n      this.confirmacionSwal.title = \"Oops!\";\r\n      this.confirmacionSwal.icon = \"error\";\r\n      this.confirmacionSwal.fire();\r\n    });\r\n\r\n  }\r\n\r\n  HomologoDebCred(tipo, pos) {\r\n\r\n    switch (tipo) {\r\n      case 'Debito':\r\n\r\n        this.Cuentas_Contables[pos].Deb_Niif = this.Cuentas_Contables[pos].Debito;\r\n        break;\r\n\r\n      case 'Credito':\r\n\r\n        this.Cuentas_Contables[pos].Cred_Niif = this.Cuentas_Contables[pos].Credito;\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  ListarRetenciones() {\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/lista_retenciones.php').subscribe((data:any)=>{\r\n      this.ListaRetenciones = data;\r\n    })\r\n\r\n  }\r\n\r\n  calcularBase(pos, valor) {\r\n\r\n    if (valor != '') {\r\n\r\n      this.Cuentas_Contables[pos].Credito = Math.round(parseFloat(valor) * (parseFloat(this.Cuentas_Contables[pos].Porcentaje)/100));\r\n      this.Cuentas_Contables[pos].Cred_Niif = Math.round(parseFloat(valor) * (parseFloat(this.Cuentas_Contables[pos].Porcentaje)/100));\r\n\r\n    } else {\r\n      this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n    }\r\n\r\n    this.ActualizaValores();\r\n\r\n  }\r\n\r\n  fechaHoy(){\r\n    let fecha:any = new Date();\r\n    fecha = (fecha.toISOString()).split('T')[0];\r\n\r\n    return fecha\r\n  }\r\n\r\n  getCodigoEgreso(fecha?:string) {\r\n\r\n    let datos:any = {Tipo:'Egreso'};\r\n\r\n    if (fecha != undefined && fecha != null) {\r\n      datos.Fecha = fecha;\r\n    }\r\n\r\n    this.http.get(environment.ruta+'php/comprobantes/get_codigo.php', {params: datos}).subscribe((data:any) => {\r\n      this.datosCabecera.Codigo = data.consecutivo;\r\n      this.Codigo = data.consecutivo;\r\n    })\r\n  }\r\n\r\n  validarDebCred(pos:number, campo:string) {\r\n    if (campo === 'Credito') {\r\n      if (this.Cuentas_Contables[pos].Credito == '' || this.Cuentas_Contables[pos].Credito == null || this.Cuentas_Contables[pos].Cred_Niif == '' || this.Cuentas_Contables[pos].Cred_Niif == null) {\r\n        this.Cuentas_Contables[pos].Credito = 0;\r\n        this.Cuentas_Contables[pos].Cred_Niif = 0;\r\n\r\n        this.ActualizaValores();\r\n      }\r\n    } else {\r\n      if (this.Cuentas_Contables[pos].Debito == '' || this.Cuentas_Contables[pos].Debito == null || this.Cuentas_Contables[pos].Deb_Niif == '' || this.Cuentas_Contables[pos].Deb_Niif == null) {\r\n        this.Cuentas_Contables[pos].Debito = 0;\r\n        this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n\r\n        this.ActualizaValores();\r\n      }\r\n    }\r\n  }\r\n\r\n  showFacturas(nit:any, pos) {\r\n    if (nit != undefined && nit != '' && nit != null) {\r\n      this.position_document = pos;\r\n      let p:any = {nit: nit};\r\n      let id_plan_cuenta = this.Cuentas_Contables[pos].Id_Plan_Cuentas;\r\n\r\n      if (id_plan_cuenta != '') {\r\n        p.id_plan_cuenta = id_plan_cuenta;\r\n      }\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascontables/lista_facturas.php',{params: p}).subscribe((data: any) => {\r\n        this.Lista_Facturas = data.Facturas;\r\n        this.Mostrar_Facturas = true;\r\n\r\n        setTimeout(() => {\r\n          this.calcularTotalAbonoCartera();\r\n        }, 200);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  addListInvoice(factura, pos) {\r\n    let existe = this.Facturas.findIndex(fact => fact.Factura === factura.Factura);\r\n\r\n    if (existe < 0) {\r\n      this.Lista_Facturas[pos].Abono = this.Lista_Facturas[pos].Valor_Saldo;\r\n      let factura = this.Lista_Facturas[pos];\r\n      this.Facturas.push(factura);\r\n    } else {\r\n      this.Lista_Facturas[pos].Abono = 0;\r\n      this.Facturas.splice(existe, 1);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.calcularTotalAbonoCartera();\r\n    }, 200);\r\n  }\r\n\r\n  addInvoicesToAccount() {\r\n    let nit = this.Cuentas_Contables[this.position_document].Nit_Cuenta;\r\n    this.Cuentas_Contables.splice(this.position_document, 1); // Eliminando una fila para introducir las nuevas cuentas.\r\n    let count = this.Cuentas_Contables.length; // Total de filas de las cuentas.\r\n\r\n    if (this.Cuentas_Contables[(count-1)] != undefined) {\r\n      if (this.Cuentas_Contables[(count-1)].Nit_Cuenta == undefined || this.Cuentas_Contables[(count-1)].Nit_Cuenta == '') {\r\n        this.Cuentas_Contables.splice((count-1), 1); // Eliminando ultima fila.\r\n\r\n      }\r\n    }\r\n\r\n    this.Facturas.forEach(f => {\r\n      let object = {\r\n        Centro_Costo: this.Nom_Centro_Costo,\r\n        Id_Centro_Costo: this.Nom_Centro_Costo.Id_Centro_Costo,\r\n        Cuenta: this.obtenerPlanCuenta(f.Codigo),\r\n        Id_Plan_Cuentas: f.Id_Plan_Cuenta,\r\n        Nit: this.getDatosTercero(nit),\r\n        Nit_Cuenta: nit,\r\n        Tipo_Nit: this.getDatosTercero(nit).Tipo,\r\n        Documento: f.Factura,\r\n        Concepto: 'Pago o Abono Factura Nro. '+ f.Factura,\r\n        Base: 0,\r\n        Debito: this.validarDebeOHaber('D', f.Movimiento, f.Abono),\r\n        Credito: this.validarDebeOHaber('C', f.Movimiento, f.Abono),\r\n        Deb_Niif: this.validarDebeOHaber('D', f.Movimiento, f.Abono),\r\n        Cred_Niif: this.validarDebeOHaber('C', f.Movimiento, f.Abono),\r\n        Valor_Factura: Math.round(f.Valor_Factura),\r\n        Valor_Abono: Math.round(f.Valor_Abono),\r\n        Id_Factura: f.Id_Factura,\r\n        Cheque: ''\r\n      };\r\n\r\n      this.Cuentas_Contables.push(object); // Agregando nueva(s) fila(s)\r\n    });\r\n\r\n    this.Cuentas_Contables.push({ // La ultima fila vacía.\r\n      Cuenta: '',\r\n      Cheque: '',\r\n      Nit: '',\r\n      Centro_Costo: '',\r\n      Documento: '',\r\n      Concepto: '',\r\n      Base: 0,\r\n      Debito: 0,\r\n      Credito: 0,\r\n      Deb_Niif: 0,\r\n      Cred_Niif: 0\r\n    });\r\n\r\n    this.Mostrar_Facturas = false;\r\n    this.Facturas = [];\r\n    this.Lista_Facturas = [];\r\n    this.Total_Abono = 0;\r\n\r\n    setTimeout(() => { // Para actualizar los totales\r\n      this.ActualizaValores();\r\n      this.armarDatosBorrador();\r\n    }, 200);\r\n\r\n  }\r\n\r\n  obtenerPlanCuenta(codigo:string) {\r\n    return this.Cuenta.find(x => x.Codigo_Cuenta === codigo);\r\n  }\r\n\r\n  validarDebeOHaber(campo:string, tipo:string, valor:number) { // Funcion que me permite validar si el valor que viene de la factura va al Debe o al Haber\r\n    if (campo === tipo) {\r\n      return Math.abs(valor);\r\n    }\r\n    return '0';\r\n  }\r\n\r\n  listarCheques() {\r\n    this.http.get(environment.ruta+'php/comprobantes/lista_cheques.php').subscribe((data:any) => {\r\n      this.Cheques = data;\r\n    });\r\n  }\r\n\r\n  nuevoCheque(modal){\r\n\r\n    let info = this._egresos.normalize(JSON.stringify(this.ModelCheque));\r\n\r\n    let datos = new FormData();\r\n    datos.append('datos', info);\r\n\r\n    this.http.post(environment.ruta+'php/comprobantes/nuevo_cheque.php', datos).subscribe((data:any)=>{\r\n      let toastObj = {textos:[data.titulo, data.mensaje], tipo:data.tipo, duracion:4000};\r\n      this._egresos.ShowToast(toastObj);\r\n\r\n      modal.hide();\r\n      // this.confirmacionGuardarCheque.nativeSwal.close();\r\n\r\n      this.listarCheques();\r\n\r\n      this.ModelCheque = {\r\n        Id_Plan_Cuentas: '',\r\n        Prefijo: '',\r\n        Inicial: null,\r\n        Final: null\r\n      }\r\n\r\n\r\n    });\r\n\r\n    // return true;\r\n\r\n  }\r\n\r\n  isBank(banco, pos) {\r\n    let existe = this.Bancos.findIndex(x => x.value == banco.Id_Plan_Cuentas);\r\n\r\n    if (existe >= 0) {\r\n      if (this.Forma_Pago == 'Cheque') {\r\n        (document.getElementById('cheque'+pos) as HTMLInputElement).style.display = 'block';\r\n      }\r\n    } else {\r\n      (document.getElementById('cheque'+pos) as HTMLInputElement).style.display = 'none';\r\n      this.Cuentas_Contables[pos].Cheque = '';\r\n    }\r\n  }\r\n\r\n  validarCampo(campo, event, tipo) { // Funcion que validará los campos de typeahead\r\n    if (typeof(campo) != 'object' && campo != '') {\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Incorrecto!',\r\n        text: `El valor ${tipo} no es valido.`\r\n      })\r\n      // this.swalService.ShowMessage(swal);\r\n    }\r\n  }\r\n\r\n  validarSaldoFactura(pos, event) {\r\n    let saldo = parseFloat(this.Lista_Facturas[pos].Valor_Saldo);\r\n    let abono = parseFloat(this.Lista_Facturas[pos].Abono);\r\n\r\n    if (abono > saldo) { // Validando que el abono no pueda ser mayor al saldo de una factura de cartera.\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Incorrecto!',\r\n        text: `El valor del abono no puede ser mayor al saldo de la factura.`\r\n      });\r\n      // this.swalService.ShowMessage(swal);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.calcularTotalAbonoCartera()\r\n    }, 200);\r\n  }\r\n\r\n  formaPago(tipo) {\r\n    if (tipo == 'Cheque') {\r\n      this.mostrarCheque = true;\r\n    } else {\r\n      this.mostrarCheque = false;\r\n    }\r\n  }\r\n\r\n  tab(event,ele) {\r\n\r\n    this._general.tabular(event, ele);\r\n\r\n  }\r\n\r\n  reloadData() {\r\n    this.http.get(environment.ruta + 'php/contabilidad/notascontables/nit_buscar.php').subscribe((data: any) => {\r\n      this.Cliente = data;\r\n    });\r\n    this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php').subscribe((data: any) => {\r\n      this.Cuenta = data.Activo;\r\n    });\r\n    this.http.get(environment.ruta + 'php/contabilidad/notascontables/centrocosto_buscar.php').subscribe((data: any) => {\r\n      this.Centros = data;\r\n    });\r\n\r\n  }\r\n\r\n  armarDatosBorrador() {\r\n    let datosCabecera = {\r\n      Fecha: this.Fecha_Nota_Contable,\r\n      Beneficiario: this.Nom_Cliente,\r\n      Id_Cliente: this.Id_Cliente,\r\n      Tipo_Beneficiario: this.Tipo_Beneficiario,\r\n      Nom_Centro_Costo: this.Nom_Centro_Costo,\r\n      Centro_Costo: this.Centro_Costo,\r\n      Documento: this.Documento,\r\n      Concepto: this.Concepto,\r\n      ChequesSeleccionados: this.ChequesSeleccionados\r\n    };\r\n\r\n    let Datos = {\r\n      Cabecera: datosCabecera,\r\n      Cuentas_Contables: this.Cuentas_Contables\r\n    };\r\n\r\n    setTimeout(() => {\r\n      let datosBorrador = {\r\n        Id_Borrador_Contabilidad: this.idBorrador,\r\n        Codigo: this.Codigo,\r\n        Tipo_Comprobante: 'Egreso',\r\n        // Identificacion_Funcionario: this.Funcionario.Identificacion_Funcionario,\r\n        Datos: Datos\r\n      }\r\n\r\n      let info = this._egresos.Utf8.encode(JSON.stringify(datosBorrador));\r\n\r\n      let datos = new FormData();\r\n      datos.append('datos', info);\r\n      this.http.post(environment.ruta+'php/contabilidad/guardar_borrador_contable.php', datos)\r\n      .subscribe((data:any) => {\r\n        if (data.status == 202) {\r\n          if (this.idBorrador == '')\r\n            this.idBorrador = data.Id_Borrador;\r\n        }\r\n      })\r\n    }, 300);\r\n  }\r\n\r\n  setDatosBorrador(data = null) {\r\n\r\n    if (data == 'clean') {\r\n      this.resetModel(); // Reinicilizar Campos.\r\n    } else {\r\n      let Datos = JSON.parse(data.Datos);\r\n      this.Fecha_Nota_Contable = Datos.Cabecera.Fecha;\r\n      this.Nom_Cliente = Datos.Cabecera.Beneficiario;\r\n      this.Id_Cliente = Datos.Cabecera.Id_Cliente;\r\n      this.Tipo_Beneficiario = Datos.Cabecera.Tipo_Beneficiario;\r\n      this.Nom_Centro_Costo = Datos.Cabecera.Nom_Centro_Costo;\r\n      this.Centro_Costo = Datos.Cabecera.Centro_Costo;\r\n      this.Documento = Datos.Cabecera.Documento;\r\n      this.ChequesSeleccionados = Datos.Cabecera.ChequesSeleccionados;\r\n      this.Concepto = Datos.Cabecera.Concepto;\r\n      this.Cuentas_Contables = Datos.Cuentas_Contables;\r\n      this.datosCabecera.Codigo = data.Codigo;\r\n      this.idBorrador = data.ID;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores();\r\n    }, 200);\r\n  }\r\n\r\n  resetModel() {\r\n    this.Fecha_Nota_Contable = this.fechaHoy();\r\n      this.Nom_Cliente = '';\r\n      this.Id_Cliente = '';\r\n      this.Nom_Centro_Costo = '';\r\n      this.Centro_Costo = '';\r\n      this.Documento = '';\r\n      this.Concepto = '';\r\n\r\n      this.Cuentas_Contables = [{\r\n        Cuenta: '',\r\n        Cheque: '',\r\n        Nit: '',\r\n        Centro_Costo: '',\r\n        Documento: '',\r\n        Concepto: '',\r\n        Base: 0,\r\n        Debito: 0,\r\n        Credito: 0,\r\n        Deb_Niif: 0,\r\n        Cred_Niif: 0\r\n      }];\r\n\r\n      this.ChequesSeleccionados = [];\r\n\r\n      this.datosCabecera.Codigo = this.getCodigoEgreso();\r\n  }\r\n\r\n  calcularTotalAbonoCartera() {\r\n    this.Total_Abono = this.Lista_Facturas.reduce(this.reducer_abono,0);\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <div class=\"card-title\">\r\n      <app-cabecera [datosCabecera]=\"datosCabecera\"></app-cabecera>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <div class=\"d-flex justify-content-end\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary btn-sm\"\r\n        (click)=\"modalAgregarCheque.show()\"\r\n      >\r\n        <i class=\"fa fa-plus\"></i> Registrar cheque\r\n      </button>\r\n    </div>\r\n    <form #FormEgreso=\"ngForm\">\r\n      <input type=\"hidden\" name=\"Id_Borrador\" [(ngModel)]=\"idBorrador\" />\r\n      <input type=\"hidden\" name=\"Id_Empresa\" [(ngModel)]=\"Id_Empresa\" />\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-2\">\r\n          <div class=\"form-group\">\r\n            <label>Fecha</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"Fecha_Documento\"\r\n              id=\"Fecha_Nota_Contable\"\r\n              [(ngModel)]=\"Fecha_Nota_Contable\"\r\n              class=\"form-control form-control-sm tab\"\r\n              (keyup)=\"tab($event, 'Cliente')\"\r\n              (change)=\"getCodigoEgreso($event.target.value)\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n          <div class=\"form-group\">\r\n            <label>Beneficiario Documento</label>\r\n            <input\r\n              [(ngModel)]=\"Nom_Cliente\"\r\n              type=\"text\"\r\n              name=\"Cliente\"\r\n              id=\"Cliente\"\r\n              class=\"form-control form-control-sm f-9 tab\"\r\n              [ngbTypeahead]=\"search\"\r\n              [resultTemplate]=\"rt\"\r\n              [inputFormatter]=\"formatter\"\r\n              (keyup)=\"tab($event, 'Centro_Costo')\"\r\n              (ngModelChange)=\"BuscarDatosCliente(Nom_Cliente)\"\r\n              (blur)=\"validarCampo(Nom_Cliente, $event, 'Beneficiario')\"\r\n            />\r\n            <input\r\n              hidden\r\n              [(ngModel)]=\"Id_Cliente\"\r\n              name=\"Beneficiario\"\r\n              id=\"Beneficiario\"\r\n              class=\"form-control form-control-sm\"\r\n              required\r\n            />\r\n            <input\r\n              hidden\r\n              [(ngModel)]=\"Tipo_Beneficiario\"\r\n              name=\"Tipo_Beneficiario\"\r\n              id=\"Tipo_Beneficiario\"\r\n              class=\"form-control form-control-sm\"\r\n              required\r\n            />\r\n            <!-- <input hidden [(ngModel)]=\"Funcionario.Identificacion_Funcionario\" name=\"Identificacion_Funcionario\" id=\"Id_Funcionario\" class=\"form-control form-control-sm \" required> -->\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-2\">\r\n          <div class=\"form-group\">\r\n            <label for=\"Centro_Costo\">Centro Costo</label>\r\n            <input\r\n              [(ngModel)]=\"Nom_Centro_Costo\"\r\n              type=\"text\"\r\n              name=\"Nom_Centro_Costo\"\r\n              id=\"Centro_Costo\"\r\n              class=\"form-control form-control-sm f-9 tab\"\r\n              [ngbTypeahead]=\"search2\"\r\n              [resultTemplate]=\"rt2\"\r\n              [inputFormatter]=\"formatter2\"\r\n              (keyup)=\"tab($event, 'Documento')\"\r\n              (ngModelChange)=\"BuscarDatosCentro(Nom_Centro_Costo)\"\r\n              (blur)=\"validarCampo(Nom_Centro_Costo, $event, 'Centro de Costo')\"\r\n            />\r\n            <input\r\n              type=\"hidden\"\r\n              name=\"Id_Centro_Costo\"\r\n              [(ngModel)]=\"Centro_Costo\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-2\">\r\n          <div class=\"form-group\">\r\n            <label for=\"\">Documento</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"Documento\"\r\n              id=\"Documento\"\r\n              (keyup)=\"tab($event, 'Concepto')\"\r\n              [(ngModel)]=\"Documento\"\r\n              class=\"form-control form-control-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-2\">\r\n          <div class=\"form-group\">\r\n            <label for=\"\">Forma de Pago</label>\r\n            <select\r\n              name=\"Forma_Pago\"\r\n              id=\"forma_pago\"\r\n              [(ngModel)]=\"Forma_Pago\"\r\n              class=\"form-control form-control-sm\"\r\n              (change)=\"formaPago($event.target.value)\"\r\n            >\r\n              <option value=\"Cheque\">Cheque</option>\r\n              <option value=\"Transferencia\">Transferencia</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"mostrarCheque\" class=\"col-md-6\">\r\n          <div class=\"form-group\">\r\n            <ng-select\r\n              placeholder=\"Cheques\"\r\n              appearance=\"outline\"\r\n              [ngClass]=\"'ng-select'\"\r\n              class=\"cheques form-control-sm input-sm\"\r\n              [items]=\"Cheques\"\r\n              name=\"Cheques\"\r\n              [allowClear]=\"true\"\r\n              [(ngModel)]=\"ChequesSeleccionados\"\r\n              [multiple]=\"true\"\r\n            ></ng-select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"col-md-6\">\r\n          <div class=\"form-group\">\r\n            <label>Concepto</label>\r\n            <textarea\r\n              name=\"Concepto\"\r\n              id=\"Concepto\"\r\n              class=\"form-control\"\r\n              (keyup)=\"tab($event, 'Cuenta0')\"\r\n              [(ngModel)]=\"Concepto\"\r\n              rows=\"3\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n        <!-- <div class=\"col-md-2\"></div> -->\r\n\r\n        <!-- Componente para listar los borradores de los comprobantes contables. -->\r\n        <div class=\"col-md-3\">\r\n          <div class=\"form-group\">\r\n            <label for=\"borrador\">Borradores</label>\r\n            <app-borradorcomprobantes\r\n              [Tipo_Comprobante]=\"Tipo_Comprobante\"\r\n              (Borrador)=\"setDatosBorrador($event)\"\r\n            ></app-borradorcomprobantes>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <div *ngIf=\"Mostrar_Facturas\" class=\"row\">\r\n      <div class=\"col-md-12 text-center\">\r\n        <h6>Facturas</h6>\r\n      </div>\r\n      <div class=\"col-sm-12\">\r\n        <table class=\"table invoice-detail-table tabla\">\r\n          <thead>\r\n            <tr class=\"thead-default\">\r\n              <th style=\"width: 25px\"></th>\r\n              <th style=\"width: 50px\">Cuenta</th>\r\n              <th style=\"width: 50px\">Fecha</th>\r\n              <th style=\"width: 60px\">Documento</th>\r\n              <th style=\"width: 80px; text-align: right\">Vlr. Factura</th>\r\n              <th style=\"width: 80px; text-align: right\">Vlr. Abono</th>\r\n              <th style=\"width: 80px; text-align: right\">Vlr. Saldo</th>\r\n              <th style=\"width: 80px; text-align: right\">Abono</th>\r\n              <th style=\"width: 20px\">Nat</th>\r\n              <th style=\"width: 60px; text-align: right\">Movimiento Debito</th>\r\n              <th style=\"width: 60px; text-align: right\">Movimiento_Credito</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngIf=\"Lista_Facturas.length == 0 && !Cargando\">\r\n              <td colspan=\"11\">\r\n                <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n                <h4>No Existen Facturas para mostrar</h4>\r\n              </td>\r\n            </tr>\r\n            <tr\r\n              *ngFor=\"let item of Lista_Facturas; let i = index\"\r\n              id=\"fila{{ i }}\"\r\n            >\r\n              <td style=\"width: 25px\" class=\"text-center\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"Factura{{ i }}\"\r\n                  id=\"Factura{{ i }}\"\r\n                  (change)=\"addListInvoice(item, i)\"\r\n                />\r\n              </td>\r\n              <td style=\"width: 50px\">{{ item.Codigo }}</td>\r\n              <td style=\"width: 50px\">{{ item.Fecha }}</td>\r\n              <td style=\"width: 60px\">{{ item.Factura }}</td>\r\n              <td style=\"width: 80px; text-align: right\">\r\n                {{ item.Valor_Factura | currency }}\r\n              </td>\r\n              <td style=\"width: 80px; text-align: right\">\r\n                {{ item.Valor_Abono | currency }}\r\n              </td>\r\n              <td style=\"width: 80px; text-align: right\">\r\n                {{ item.Valor_Saldo | currency }}\r\n              </td>\r\n              <td style=\"width: 80px; text-align: right\">\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"abono{{ i }}\"\r\n                  id=\"abono{{ i }}\"\r\n                  [(ngModel)]=\"item.Abono\"\r\n                  (blur)=\"validarSaldoFactura(i, $event)\"\r\n                />\r\n              </td>\r\n              <td style=\"width: 20px\">{{ item.Nat }}</td>\r\n              <td style=\"width: 60px; text-align: right\">\r\n                {{ item.Movimiento_Debito | currency }}\r\n              </td>\r\n              <td style=\"width: 60px; text-align: right\">\r\n                {{ item.Movimiento_Credito | currency }}\r\n              </td>\r\n            </tr>\r\n            <tr *ngIf=\"Lista_Facturas.length > 0\">\r\n              <td colspan=\"7\"></td>\r\n              <td style=\"width: 80px; text-align: right\">\r\n                <b>Total: {{ Total_Abono | currency }}</b>\r\n              </td>\r\n              <td colspan=\"3\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <button\r\n          class=\"btn btn-info btn-sm pull-left\"\r\n          (click)=\"addInvoicesToAccount()\"\r\n        >\r\n          Confirmar\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <button\r\n          class=\"btn btn-link btn-sm pull-right\"\r\n          title=\"Recargar datos iniciales (Terceros, PUC, Centros Costos)\"\r\n          (click)=\"reloadData()\"\r\n        >\r\n          <i class=\"fa fa-refresh\"></i> Recargar\r\n        </button>\r\n        <table class=\"table invoice-detail-table tabla\">\r\n          <thead>\r\n            <tr class=\"thead-default\">\r\n              <th style=\"width: 200px\">Cuenta</th>\r\n              <th>Cheque</th>\r\n              <th>Nit</th>\r\n              <th>Centro Costo</th>\r\n              <th>Documento</th>\r\n              <th>Concepto</th>\r\n              <th>Base</th>\r\n              <th>Debito</th>\r\n              <th>Credito</th>\r\n              <th>Deb Niif</th>\r\n              <th>Cred Niif</th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr\r\n              *ngFor=\"let item of Cuentas_Contables; let i = index\"\r\n              id=\"fila{{ i }}\"\r\n            >\r\n              <td>\r\n                <input\r\n                  [(ngModel)]=\"item.Cuenta\"\r\n                  type=\"text\"\r\n                  name=\"Cuenta\"\r\n                  id=\"Cuenta{{ i }}\"\r\n                  class=\"form-control form-control-sm f-9\"\r\n                  [ngbTypeahead]=\"search1\"\r\n                  [resultTemplate]=\"rt1\"\r\n                  [inputFormatter]=\"formatter1\"\r\n                  (keyup)=\"tab($event, 'Nit' + i)\"\r\n                  (ngModelChange)=\"BuscarCuenta(item.Cuenta, i)\"\r\n                  (blur)=\"\r\n                    armarDatosBorrador();\r\n                    validarCampo(item.Cuenta, $event, 'Cuenta')\r\n                  \"\r\n                  [required]=\"Cuentas_Contables.length - 1 != i\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <select\r\n                  [ngStyle]=\"{ display: item.Cheque != '' ? 'block' : 'none' }\"\r\n                  name=\"cheque{{ i }}\"\r\n                  id=\"cheque{{ i }}\"\r\n                  [(ngModel)]=\"item.Cheque\"\r\n                  class=\"form-control form-control-sm\"\r\n                  (change)=\"armarDatosBorrador()\"\r\n                  [required]=\"Cuentas_Contables.length - 1 != i\"\r\n                >\r\n                  <option value=\"\">Seleccione Cheque</option>\r\n                  <option\r\n                    *ngFor=\"let cheque of ChequesSeleccionados\"\r\n                    [value]=\"cheque\"\r\n                  >\r\n                    {{ cheque }}\r\n                  </option>\r\n                </select>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  [(ngModel)]=\"item.Nit\"\r\n                  type=\"text\"\r\n                  name=\"Nit{{ i }}\"\r\n                  id=\"Nit{{ i }}\"\r\n                  (keyup)=\"tab($event, 'Centro_Costo' + i)\"\r\n                  class=\"form-control form-control-sm f-9\"\r\n                  [ngbTypeahead]=\"search\"\r\n                  [resultTemplate]=\"rt\"\r\n                  [inputFormatter]=\"formatter\"\r\n                  (ngModelChange)=\"BuscarDatosCliente(item.Nit, i)\"\r\n                  (blur)=\"\r\n                    armarDatosBorrador(); validarCampo(item.Nit, $event, 'Nit')\r\n                  \"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  [(ngModel)]=\"item.Centro_Costo\"\r\n                  type=\"text\"\r\n                  name=\"Centro_Costo{{ i }}\"\r\n                  id=\"Centro_Costo{{ i }}\"\r\n                  class=\"form-control form-control-sm f-9\"\r\n                  [ngbTypeahead]=\"search2\"\r\n                  [resultTemplate]=\"rt2\"\r\n                  [inputFormatter]=\"formatter2\"\r\n                  (ngModelChange)=\"BuscarDatosCentro(item.Centro_Costo, i)\"\r\n                  (keyup)=\"tab($event, 'Documento' + i)\"\r\n                  (blur)=\"\r\n                    armarDatosBorrador();\r\n                    validarCampo(item.Centro_Costo, $event, 'Centro de Costo')\r\n                  \"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"Documento{{ i }}\"\r\n                  id=\"Documento{{ i }}\"\r\n                  (keyup)=\"tab($event, 'Concepto' + i)\"\r\n                  [(ngModel)]=\"item.Documento\"\r\n                  class=\"form-control form-control-sm text-right input-document\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  type=\"text\"\r\n                />\r\n                <a\r\n                  href=\"javascript:;\"\r\n                  (click)=\"showFacturas(item.Nit_Cuenta, i)\"\r\n                >\r\n                  <i style=\"font-weight: bold\" class=\"fa fa-search\"></i>\r\n                </a>\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"Concepto{{ i }}\"\r\n                  id=\"Concepto{{ i }}\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  (keyup)=\"tab($event, 'Base' + i)\"\r\n                  [(ngModel)]=\"item.Concepto\"\r\n                  class=\"form-control form-control-sm\"\r\n                />\r\n              </td>\r\n\r\n              <td>\r\n                <input\r\n                  name=\"Base{{ i }}\"\r\n                  id=\"Base{{ i }}\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  (keyup)=\"tab($event, 'Debito' + i)\"\r\n                  (change)=\"calcularBase(i, $event.target.value)\"\r\n                  [(ngModel)]=\"item.Base\"\r\n                  class=\"form-control form-control-sm text-right\"\r\n                  readonly\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"Debito{{ i }}\"\r\n                  id=\"Debito{{ i }}\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  (keyup)=\"tab($event, 'Credito' + i)\"\r\n                  (change)=\"ActualizaValores(i); validarDebCred(i, 'Debito')\"\r\n                  [(ngModel)]=\"item.Debito\"\r\n                  class=\"form-control form-control-sm text-right\"\r\n                  type=\"number\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"Credito{{ i }}\"\r\n                  id=\"Credito{{ i }}\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  (keyup)=\"tab($event, 'Deb_Niif' + i)\"\r\n                  (change)=\"ActualizaValores(i); validarDebCred(i, 'Credito')\"\r\n                  [(ngModel)]=\"item.Credito\"\r\n                  class=\"form-control form-control-sm text-right\"\r\n                  type=\"number\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"Deb_Niif{{ i }}\"\r\n                  id=\"Deb_Niif{{ i }}\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  (keyup)=\"tab($event, 'Cred_Niif' + i)\"\r\n                  (change)=\"validarDebCred(i, 'Debito')\"\r\n                  [(ngModel)]=\"item.Deb_Niif\"\r\n                  class=\"form-control form-control-sm text-right\"\r\n                  type=\"number\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <input\r\n                  name=\"Cred_Niif{{ i }}\"\r\n                  id=\"Cred_Niif{{ i }}\"\r\n                  (blur)=\"armarDatosBorrador()\"\r\n                  (keyup)=\"tab($event, 'Cuenta' + (i + 1))\"\r\n                  (change)=\"validarDebCred(i, 'Credito')\"\r\n                  [(ngModel)]=\"item.Cred_Niif\"\r\n                  class=\"form-control form-control-sm text-right\"\r\n                  type=\"number\"\r\n                />\r\n              </td>\r\n              <td class=\"text-center\">\r\n                <a\r\n                  *ngIf=\"Cuentas_Contables.length - 1 != i\"\r\n                  href=\"javascript:;\"\r\n                  (click)=\"EliminarCuenta(i); armarDatosBorrador()\"\r\n                >\r\n                  <span>\r\n                    <i class=\"fa fa-trash-o text-danger\"></i>\r\n                  </span>\r\n                </a>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-sm-12\">\r\n        <table class=\"table table-responsive invoice-table invoice-total\">\r\n          <tbody>\r\n            <tr>\r\n              <th>Total Debito:</th>\r\n              <td>{{ Total_Debito | currency }}</td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <th>Total Credito:</th>\r\n              <td>{{ Total_Credito | currency }}</td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <th>Diferencia:</th>\r\n              <td>{{ Total_Debito - Total_Credito | currency }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-primary btn-block\"\r\n            [swal]=\"confirmacionGuardar\"\r\n          >\r\n            Guardar\r\n          </button>\r\n        </div>\r\n        <!-- <div class=\"col-md-2 botonFlotante1\">\r\n                  <button\r\n                    href=\"\"\r\n                    [routerLink]=\"['contabilidad/notas-contables']\"\r\n                    type=\"button\"\r\n                    class=\"btn btn-success btn-block btn-enviar\"\r\n                  >\r\n                    Volver\r\n                  </button>\r\n                </div> -->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<app-modal-basic #modalAgregarCheque>\r\n  <div class=\"app-modal-header\">\r\n    <h4 class=\"modal-title\">Registrar Cheque</h4>\r\n    <button\r\n      type=\"button\"\r\n      class=\"close basic-close\"\r\n      (click)=\"modalAgregarCheque.hide()\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"app-modal-body\">\r\n    <form #FormNuevoCheque=\"ngForm\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <div class=\"form-group\">\r\n            <label for=\"banco\">Banco</label>\r\n            <ng-select\r\n              id=\"banco\"\r\n              placeholder=\"Seleccione el Banco\"\r\n              class=\"f-9\"\r\n              [items]=\"Bancos\"\r\n              name=\"Id_Banco\"\r\n              [(ngModel)]=\"ModelCheque.Id_Plan_Cuentas\"\r\n              required\r\n            ></ng-select>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"prefijo\">Prefijo</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"prefijo\"\r\n              name=\"prefijo\"\r\n              [(ngModel)]=\"ModelCheque.Prefijo\"\r\n              class=\"form-control form-control-sm\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"inicial\">Desde</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"inicial\"\r\n              name=\"inicial\"\r\n              [(ngModel)]=\"ModelCheque.Inicial\"\r\n              class=\"form-control form-control-sm\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <div class=\"form-group\">\r\n            <label for=\"final\">Hasta</label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"final\"\r\n              name=\"final\"\r\n              [(ngModel)]=\"ModelCheque.Final\"\r\n              class=\"form-control form-control-sm\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class=\"app-modal-footer\">\r\n    <div class=\"text-right\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-default btn-sm\"\r\n        (click)=\"modalAgregarCheque.hide()\"\r\n      >\r\n        Cancelar\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        [swal]=\"confirmacionGuardarCheque\"\r\n        [disabled]=\"!FormNuevoCheque.valid\"\r\n        class=\"btn btn-primary btn-sm\"\r\n      >\r\n        Registrar\r\n      </button>\r\n    </div>\r\n  </div>\r\n</app-modal-basic>\r\n\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\"\r\n    ><strong>{{ r.Nombre }}</strong>\r\n  </span>\r\n</ng-template>\r\n<swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n\r\n<swal #confirmacionGuardar [swalOptions]=\"alertOption\"></swal>\r\n\r\n<ng-template #rt1 let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Codigo }} </span>\r\n</ng-template>\r\n\r\n<ng-template #rt2 let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n<swal #confirmacionGuardarCheque [swalOptions]=\"alertOption2\"></swal>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport swal from 'sweetalert2';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SweetAlertOptions } from 'sweetalert2';\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SwalService } from '../../../ajustes/informacion-base/services/swal.service';\r\nimport { Location } from '@angular/common';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-notas-carteras',\r\n  templateUrl: './notas-carteras.component.html',\r\n  styleUrls: ['./notas-carteras.component.scss']\r\n})\r\nexport class NotasCarterasComponent implements OnInit {\r\n\r\n  public NotasCarteras:any = [];\r\n  public Cargando:boolean = true;\r\n  public maxSize = 20; \r\n  public TotalItems:number;\r\n  public page = 1;\r\n  public filtros:any = {\r\n    codigo: '',\r\n    fechas: '',\r\n    tercero: '',\r\n    estado: '',\r\n  }\r\npublic filtro_fecha:any='';\r\n  myDateRangePickerOptions: IMyDrpOptions = {\r\n    width:'200px', \r\n    height: '21px',\r\n    selectBeginDateTxt:'Inicio',\r\n    selectEndDateTxt:'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n  IdDocumento: string = '';\r\n  // id_funcionario: any = JSON.parse(localStorage.getItem('User')).Identificacion_Funcionario;\r\n  alertOption: SweetAlertOptions;\r\n  perfilUsuario:any = localStorage.getItem('miPerfil');\r\n  envirom:any;\r\n\r\n  constructor(private http: HttpClient, private route: ActivatedRoute, private location: Location, private swalService: SwalService) { \r\n    this.alertOption = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a Anular este Documento\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Anular',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      // type: 'warning',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          this.anularDocumento();\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ListarNotasCarteras();\r\n    this.envirom = environment;\r\n  }\r\n\r\n  ListarNotasCarteras() {\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/notascarteras/lista_notas_carteras.php').subscribe((data:any) => {\r\n      this.Cargando = false;\r\n      this.NotasCarteras = data.Notas;\r\n      this.TotalItems = data.numReg;\r\n      console.log(this.NotasCarteras);\r\n      \r\n    });    \r\n    \r\n  }\r\n\r\n  dateRangeChanged(event) {\r\n    \r\n    if (event.formatted != \"\") {\r\n      this.filtros.fechas = event.formatted;\r\n    } else {\r\n      this.filtros.fechas = '';\r\n    }\r\n    \r\n    this.filtrar(); \r\n  }\r\n\r\n  getStrConditions(pagination = false) {\r\n    let params:any = {};\r\n\r\n    if (this.filtros.codigo != '') {\r\n      params.cod = this.filtros.codigo;\r\n    }\r\n    if (this.filtros.tercero != '') {\r\n      params.tercero = this.filtros.tercero;\r\n    }\r\n    if (this.filtros.fechas != '') {\r\n      params.fecha = this.filtros.fechas;\r\n    }\r\n    if (this.filtros.estado != '') {\r\n      params.est = this.filtros.estado;\r\n    }\r\n    if (pagination) {\r\n      params.pag = this.page\r\n    } else {\r\n      this.page = 1;\r\n    }\r\n\r\n    let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n    this.location.replaceState('/comprobante/notascartera', queryString);\r\n\r\n    return queryString;\r\n  }\r\n\r\n  filtrar(pagination = false) {\r\n\r\n    let queryString = this.getStrConditions(pagination);\r\n\r\n    this.Cargando = true;\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/notascarteras/lista_notas_carteras.php?'+queryString).subscribe((data:any) => {\r\n      this.Cargando = false;\r\n      this.NotasCarteras = data.Notas;\r\n      this.TotalItems = data.numReg;\r\n    });    \r\n    \r\n  }\r\n\r\n  anularDocumento() {\r\n    let datos:any = {\r\n      Id_Registro: this.IdDocumento,\r\n      Tipo: 'Notas_Cartera',\r\n      // Identificacion_Funcionario: this.id_funcionario\r\n    }\r\n\r\n    this.AnularDocumentoContable(datos).subscribe((data:any) => {\r\n      let swal = {\r\n        codigo: data.tipo,\r\n        titulo: data.titulo,\r\n        mensaje: data.mensaje\r\n      };\r\n      this.swalService.ShowMessage(swal);\r\n\r\n      this.ListarNotasCarteras();\r\n    }, error => {\r\n      let swal = {\r\n        codigo: 'warning',\r\n        titulo: 'Oops!',\r\n        mensaje: 'Lamentablemente se ha perdido la conexión a internet. Por favor vuelve a intentarlo.'\r\n      };\r\n      this.swalService.ShowMessage(swal);\r\n    });\r\n    \r\n  }\r\n\r\n  public AnularDocumentoContable(datos) {\r\n    let info = JSON.stringify(datos);\r\n\r\n    let data = new FormData();\r\n    data.append('datos', info);\r\n\r\n    return this.http.post(environment.ruta+'php/contabilidad/anular_documento.php', data);\r\n  }\r\n}\r\n","<div class=\"page-body\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n                <div class=\"card-header\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6\">\r\n                            <h5>Notas Cartera</h5>\r\n                            <span>Notas de Cartera Realizadas en el Sistema</span>\r\n                        </div>\r\n                        <div class=\"col-md-6\">\r\n                            <div class=\"pull-right\">\r\n                                <div class=\"card-header-left\">\r\n                                    <button style=\"float: right;\" type=\"button\" class=\"pull-left btn btn-primary btn-sm\" [routerLink]=\"['/contabilidad/comprobantes/notas-cartera-crear']\"><i\r\n                        class=\"fa fa-plus\"></i>\r\n                      Agregar Nueva Nota Cartera\r\n                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"card-block\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-12\">\r\n                            <table class=\"table table-striped\" style=\"font-size: 10px;\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Fecha</th>\r\n                                        <th>Documento</th>\r\n                                        <th>Beneficiario</th>\r\n                                        <th>Concepto</th>\r\n                                        <th>Total Debito</th>\r\n                                        <th>Total Credito</th>\r\n                                        <th>Total Debito NIIF</th>\r\n                                        <th>Total Credito NIIF</th>\r\n                                        <th>Funcionario</th>\r\n                                        <th>Estado</th>\r\n                                        <th style=\"max-width: 70px; width: 70px !important;\">Acciones</th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th class=\"tabla-filtro\">\r\n                                            <my-date-range-picker name=\"mydaterange\" [options]=\"myDateRangePickerOptions\" [(ngModel)]=\"filtro_fecha\" (dateRangeChanged)=\"dateRangeChanged($event)\" placeholder=\"Filtro Fechas\"></my-date-range-picker>\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\">\r\n                                            <input type=\"text\" class=\"form-control input-sm \" placeholder=\"Filtro Código\" [(ngModel)]=\"filtros.codigo\" (change)=\"filtrar()\">\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\">\r\n                                            <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Filtro Cliente\" [(ngModel)]=\"filtros.tercero\" (change)=\"filtrar()\">\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\">\r\n\r\n\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\">\r\n\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\">\r\n\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\">\r\n\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\"></th>\r\n                                        <th class=\"tabla-filtro\"></th>\r\n                                        <th class=\"tabla-filtro\">\r\n                                            <select class=\"form-control input-sm\" [(ngModel)]=\"filtros.estado\" (change)=\"filtrar()\">\r\n                              <option value=\"\">Todas</option>\r\n                              <option value=\"Activo\">Activas</option>\r\n                              <option value=\"Anulada\">Anuladas</option>\r\n                            </select>\r\n                                        </th>\r\n                                        <th class=\"tabla-filtro\"></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n\r\n                                    <tr *ngIf=\"Cargando\">\r\n                                        <td colspan=\"11\" class=\"text-center\">\r\n                                            <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n                                            <span class=\"sr-only\">Cargando...</span>\r\n                                            <h4>Cargando Notas Carteras...</h4>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr class=\"text-center\" *ngIf=\"NotasCarteras.length == 0 && !Cargando\">\r\n                                        <td colspan=\"10\" class=\"text-center\">\r\n                                            <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n                                            <h4>No Existen Notas Contables para mostrar</h4>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr *ngFor=\"let item of NotasCarteras\" [ngClass]=\"{'bg-danger': item.Estado == 'Anulada'}\">\r\n                                        <td>{{item.Fecha}}</td>\r\n                                        <td>{{item.Codigo}}</td>\r\n                                        <td>{{item.Beneficiario}} - {{item.Tercero}}</td>\r\n                                        <td>{{item.Concepto}}</td>\r\n                                        <td>{{item.Total_Debe_PCGA | currency }}</td>\r\n                                        <td>{{item.Total_Haber_PCGA | currency }}</td>\r\n                                        <td>{{item.Total_Debe_NIIF | currency }}</td>\r\n                                        <td>{{item.Total_Haber_NIIF | currency }}</td>\r\n                                        <td>{{ item.Funcionario }}</td>\r\n                                        <td width=\"60\"><span *ngIf=\"item.Estado != 'Anulada'\" class=\"label label-success\">{{item.Estado }}</span></td>\r\n                                        <td>\r\n                                            <div class=\"text-center\">\r\n                                                <div ngbDropdown class=\"dropdown-primary\">\r\n                                                    <button ngbDropdownToggle class=\"btn btn-secondary btn-mini waves-effect waves-light \" type=\"button\">Acciones</button>\r\n                                                    <div ngbDropdownMenu>\r\n                                                        <a class=\"dropdown-item waves-light waves-effect caja-botones\" href=\"{{envirom.ruta}}php/contabilidad/notascontables/descarga_pdf.php?id={{item.Id_Documento_Contable}}\" target=\"_blank\">\r\n                                                            <i class=\"fa fa-print\"></i> Ver PCGA</a>\r\n                                                        <a class=\"dropdown-item waves-light waves-effect caja-botones\" href=\"{{envirom.ruta}}php/contabilidad/notascontables/descarga_pdf.php?id={{item.Id_Documento_Contable}}&tipo=Niif\" target=\"_blank\">\r\n                                                            <i class=\"fa fa-print\"></i> Ver NIIF</a>\r\n                                                        <a *ngIf=\"item.Estado != 'Anulada' && perfilUsuario == '27'\" class=\"dropdown-item waves-light waves-effect caja-botones bg-danger\" href=\"javascript:;\" [swal]=\"confirmacionAnular\" (click)=\"IdDocumento = item.Id_Documento_Contable\">\r\n                                                            <i class=\"fa fa-close\"></i> Anular</a>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n\r\n                                </tbody>\r\n                            </table>\r\n                            {{(page*maxSize)-maxSize+1}} al {{((page*maxSize) > TotalItems ? TotalItems : (page*maxSize))}} de {{ TotalItems }}\r\n                            <ngb-pagination class=\"d-flex justify-content-center pagination-rounded pagination-sm\" [rotate]=\"true\" [(collectionSize)]=\"TotalItems\" [(page)]=\"page\" [maxSize]=\"10\" [pageSize]=\"20\" size=\"sm\" (pageChange)=\"filtrar(true)\" [rotate]=\"true\" [boundaryLinks]=\"true\"></ngb-pagination>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- <swal #confirmacionAnular [options]=\"alertOption\"></swal> -->","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NotasCarterasService {\r\n\r\n  constructor() { }\r\n\r\n  public tabular(event, ele) {\r\n    if (event.keyCode == 13) {\r\n      setTimeout(() => {\r\n        (document.getElementById(ele) as HTMLInputElement).focus();\r\n\r\n      }, 200);      \r\n    }\r\n  }\r\n\r\n  public Utf8 = {\r\n\r\n    // public method for url encoding\r\n    encode : function (string) {\r\n        string = string.replace(/\\r\\n/g,\"\\n\");\r\n        var utftext = \"\";\r\n        for (var n = 0; n < string.length; n++) {\r\n            var c = string.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }else if((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n        }\r\n        return utftext;\r\n    },\r\n\r\n    // public method for url decoding\r\n    decode : function (utftext) {\r\n        var string = \"\";\r\n        var i = 0;\r\n        var c = 0;\r\n        var  c2 = 0;\r\n        var  c3 = 0;\r\n\r\n        while ( i < utftext.length ) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            }else if((c > 191) && (c < 224)) {\r\n                c2 = utftext.charCodeAt(i+1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\r\n                i += 2;\r\n            }else {\r\n                c2 = utftext.charCodeAt(i+1);\r\n                c3 = utftext.charCodeAt(i+2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n}\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport { SweetAlertOptions } from 'sweetalert2';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Location } from '@angular/common';\r\nimport { SwalService } from '../../../ajustes/informacion-base/services/swal.service';\r\nimport swal from 'sweetalert2';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport { CentroCostosService } from '../../centro-costos/centro-costos.service';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { MatAccordion } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { DateAdapter } from 'saturn-datepicker';\r\n\r\n@Component({\r\n  selector: 'app-egresos',\r\n  templateUrl: './egresos.component.html',\r\n  styleUrls: ['./egresos.component.scss'],\r\n})\r\nexport class EgresosComponent implements OnInit {\r\n  date: { year: number; month: number };\r\n  datePipe = new DatePipe('es-CO');\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  matPanel = false;\r\n  openClose() {\r\n    if (this.matPanel == false) {\r\n      this.accordion.openAll();\r\n      this.matPanel = true;\r\n    } else {\r\n      this.accordion.closeAll();\r\n      this.matPanel = false;\r\n    }\r\n  }\r\n  public fecha = new Date();\r\n  public Proveedores: any[] = [];\r\n  public Id_Proveedor: any = '';\r\n  public NombreProveedor: string = '';\r\n  public IdDocumento: string = '';\r\n  public Cargando: boolean = true;\r\n  //Nuevas variables\r\n  @ViewChild('modalNuevoComprobante') modalNuevoComprobante: any;\r\n  @ViewChild('modalVerComprobante') modalVerComprobante: any;\r\n  @ViewChild('alertSwal') alertSwal: any;\r\n  myDateRangePickerOptions: IMyDrpOptions = {\r\n    width: '180px',\r\n    height: '21px',\r\n    selectBeginDateTxt: 'Inicio',\r\n    selectEndDateTxt: 'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n\r\n  // private id_funcionario = JSON.parse(localStorage.getItem(\"User\")).Identificacion_Funcionario;\r\n\r\n  public Clientes: any = [\r\n    { Id_Cliente: 1, Nombre_Cliente: 'Kendry Ortiz' },\r\n    { Id_Cliente: 2, Nombre_Cliente: 'Pedro Castillo' },\r\n    { Id_Cliente: 3, Nombre_Cliente: 'Franklin Guerra' },\r\n    { Id_Cliente: 4, Nombre_Cliente: 'Augusto Carrillo' },\r\n  ];\r\n\r\n  public Bancos: any = [];\r\n\r\n  public FormaPago: any = [];\r\n\r\n  public Comprobantes: any = [];\r\n\r\n  public ComprobanteModel: any = {\r\n    Nro_Referencia: '',\r\n    Concepto: '',\r\n    Fecha_Comprobante: '',\r\n    Id_Cliente: 0,\r\n    Id_Proveedor: '',\r\n    Id_Forma_Pago: '',\r\n    Monto: '',\r\n    Id_Banco: '',\r\n    Id_Cuenta_Acredita: 0,\r\n    Id_Cuenta_Debita: 0,\r\n    Observaciones: '',\r\n    // Id_Funcionario: this.id_funcionario,\r\n    Tipo: 'Egreso',\r\n  };\r\n\r\n  private requiredParams: any = { tipo_comprobante: 'egreso' };\r\n\r\n  public Soporte: any = [];\r\n\r\n  public ClientesFiltrar = [];\r\n  public NombreCliente = '';\r\n\r\n  public CuentasActivos = [];\r\n  public CuentasPasivos = [];\r\n  public NombreCodigoCuenta = '';\r\n  public NombreCodigoCuenta2 = '';\r\n\r\n  public BancosFiltrar: any = [];\r\n  public FormasPagoFiltrar: any = [];\r\n\r\n  public Archivos: any[] = [];\r\n\r\n  //Paginación\r\n  public maxSize = 5;\r\n  public pageSize = 20;\r\n  public TotalItems: number;\r\n  public page = 1;\r\n  public InformacionPaginacion: any = {\r\n    desde: 0,\r\n    hasta: 0,\r\n    total: 0,\r\n  };\r\n\r\n  //Variables para filtros\r\n  public filtro_empresa: any = '';\r\n  public filtro_codigo: any = '';\r\n  public filtro_fecha: any = '';\r\n  public filtro_tipo: any = '';\r\n  public filtro_cliente: any = '';\r\n  public filtro_cheque: any = '';\r\n  public alertOption: SweetAlertOptions = {};\r\n  perfilUsuario: any = localStorage.getItem('miPerfil');\r\n\r\n  //ComprobanteVer\r\n  public Comprobante: any = {};\r\n  filtro_estado: string = '';\r\n  enviromen: any;\r\n  Id_Empresa: any = '';\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private router: Router,\r\n    private location: Location,\r\n    private swalService: SwalService,\r\n    private _company: CentroCostosService,\r\n    private _user: UserService,\r\n    private dateAdapter: DateAdapter<any>\r\n  ) {\r\n    this.dateAdapter.setLocale('es');\r\n    this.http\r\n      .get(environment.ruta + 'php/contabilidad/proveedor_buscar.php')\r\n      .subscribe((data: any) => {\r\n        this.Proveedores = data;\r\n      });\r\n\r\n    this.alertOption = {\r\n      title: '¿Está Seguro?',\r\n      text: 'Se dispone a Anular este Documento',\r\n      showCancelButton: true,\r\n      cancelButtonText: 'No, Dejame Comprobar!',\r\n      confirmButtonText: 'Si, Anular',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'warning',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          this.anularDocumento();\r\n        });\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading(),\r\n    };\r\n  }\r\n\r\n  //BUSQUEDA CLIENTE\r\n  search = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.ClientesFiltrar.filter(\r\n              (v) => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 100)\r\n      )\r\n    );\r\n  formatter = (x: { Nombre: string }) => x.Nombre;\r\n\r\n  //BUSQUEDA CUENTAS ACTIVO\r\n  searchCuenta = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.CuentasActivos.filter(\r\n              (v) => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 100)\r\n      )\r\n    );\r\n  formatterCuenta = (x: { Codigo: string }) => x.Codigo;\r\n\r\n  //BUSQUEDA CUENTAS PASIVO\r\n  searchCuentaP = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.CuentasPasivos.filter(\r\n              (v) => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 100)\r\n      )\r\n    );\r\n  formatterCuentaP = (x: { Codigo: string }) => x.Codigo;\r\n\r\n  search2 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.Proveedores.filter(\r\n              (v) =>\r\n                v.NombreProveedor.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 10)\r\n      )\r\n    );\r\n  formatter2 = (x: { NombreProveedor: string }) => x.NombreProveedor;\r\n\r\n  ngOnInit() {\r\n    this.enviromen = environment;\r\n    this.ListarComprobantes();\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_proveedores.php')\r\n      .subscribe((data: any) => {\r\n        this.ClientesFiltrar = data;\r\n      });\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_cuentas.php', {\r\n        params: { company_id: this._user.user.person.company_worked.id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.CuentasActivos = data.Activo;\r\n        this.CuentasPasivos = data.Pasivo;\r\n      });\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_bancos.php')\r\n      .subscribe((data: any) => {\r\n        this.Bancos = data;\r\n      });\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/formas_pago.php')\r\n      .subscribe((data: any) => {\r\n        this.FormaPago = data;\r\n      });\r\n    this.RecargarDatos();\r\n    this.Id_Empresa = this._user.user.person.company_worked.id;\r\n  }\r\n\r\n  BuscarProveedor(modelo) {\r\n    this.NombreProveedor = modelo.Proveedores;\r\n    this.Id_Proveedor = modelo.Id_Proveedor;\r\n  }\r\n\r\n  AbrirModalNuevoComprobante() {\r\n    this.modalNuevoComprobante.show();\r\n  }\r\n\r\n  ListarComprobantes() {\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_egresos.php', {\r\n        params: { company_id: this._user.user.person.company_worked.id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.Comprobantes = data.Lista;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n  }\r\n\r\n  GuardarComprobante(formulario: NgForm, modal: any) {\r\n    let datos = new FormData();\r\n    let data = this.normalize(JSON.stringify(this.ComprobanteModel));\r\n    datos.append('Datos', data);\r\n    datos.append('Archivo', this.Soporte);\r\n\r\n    // console.log(data);\r\n    //return;\r\n    //this.Comprobantes.push(data);\r\n    this.PeticionGuardarComprobante(datos);\r\n    modal.hide();\r\n    this.LimpiarModelo();\r\n\r\n    setTimeout(() => {\r\n      this.ListarComprobantes();\r\n    }, 1000);\r\n  }\r\n\r\n  ShowSwal(tipo, titulo: string, msg: string) {\r\n    this.alertSwal.icon = tipo;\r\n    this.alertSwal.title = titulo;\r\n    this.alertSwal.text = msg;\r\n    this.alertSwal.fire();\r\n  }\r\n\r\n  normalize = (function () {\r\n    var from = 'ÃÀÁÄÂÈÉËÊÌÍÏÎÒÓÖÔÙÚÜÛãàáäâèéëêìíïîòóöôùúüûÑñÇç',\r\n      to = 'AAAAAEEEEIIIIOOOOUUUUaaaaaeeeeiiiioooouuuunncc',\r\n      mapping = {};\r\n\r\n    for (var i = 0, j = from.length; i < j; i++)\r\n      mapping[from.charAt(i)] = to.charAt(i);\r\n\r\n    return function (str) {\r\n      var ret = [];\r\n      for (var i = 0, j = str.length; i < j; i++) {\r\n        var c = str.charAt(i);\r\n        if (mapping.hasOwnProperty(str.charAt(i))) ret.push(mapping[c]);\r\n        else ret.push(c);\r\n      }\r\n      return ret.join('');\r\n    };\r\n  })();\r\n\r\n  ArmarComprobante(comprobanteObject: any) {\r\n    let comprobante = {\r\n      Codigo: comprobanteObject.Codigo,\r\n      Concepto: comprobanteObject.Concepto,\r\n      Fecha: comprobanteObject.Fecha,\r\n      Cliente: comprobanteObject.Cliente,\r\n      Forma_Pago: comprobanteObject.Forma_Pago,\r\n      Valor: comprobanteObject.Valor,\r\n      Banco: comprobanteObject.Banco,\r\n    };\r\n\r\n    return comprobante;\r\n  }\r\n\r\n  LimpiarModelo() {\r\n    this.ComprobanteModel = {\r\n      Nro_Referencia: '',\r\n      Concepto: '',\r\n      Fecha_Comprobante: '',\r\n      Id_Cliente: '',\r\n      Id_Forma_Pago: '',\r\n      Monto: '',\r\n      Id_Banco: '',\r\n      Id_Cuenta_Acredita: 0,\r\n      Id_Cuenta_Debita: 0,\r\n      Observaciones: '',\r\n      // Id_Funcionario: this.id_funcionario,\r\n      Tipo: 'Egreso',\r\n    };\r\n\r\n    this.Soporte = [];\r\n    this.NombreCliente = '';\r\n    this.NombreCodigoCuenta = '';\r\n    this.NombreCodigoCuenta2 = '';\r\n  }\r\n\r\n  CargaArchivo(event, i) {\r\n    if (event.target.files.length === 1) {\r\n      if (this.ComprobanteModel.Soporte[i] !== 'undefined') {\r\n        this.ComprobanteModel.Soporte[i] = event.target.files[0];\r\n      } else {\r\n        this.ComprobanteModel.Soporte.push(event.target.files[0]);\r\n      }\r\n      // this.Soportes[i].NomArchivo = event.target.files[0].name;\r\n    }\r\n  }\r\n\r\n  BuscarDatosCliente(proveedor) {\r\n    this.ComprobanteModel.Id_Proveedor = proveedor.Id_Proveedor;\r\n  }\r\n\r\n  BuscarDatosBanco(banco: any) {\r\n    this.ComprobanteModel.Id_Banco = banco.Id_Banco;\r\n  }\r\n\r\n  BuscarDatosFormasPago(formaPago: any) {\r\n    this.ComprobanteModel.Id_Cliente = formaPago.Id_Forma_Pago;\r\n  }\r\n\r\n  BuscarDatosCuenta(cuenta, tipoCuenta: number) {\r\n    if (tipoCuenta === 1) {\r\n      this.ComprobanteModel.Id_Cuenta_Debita = cuenta.Id_Plan_Cuentas;\r\n    } else {\r\n      this.ComprobanteModel.Id_Cuenta_Acredita = cuenta.Id_Plan_Cuentas;\r\n    }\r\n  }\r\n\r\n  PeticionGuardarComprobante(data) {\r\n    this.http\r\n      .post(environment.ruta + 'php/comprobantes/guardar_comprobante.php', data)\r\n      .subscribe((data: any) => {\r\n        this.ShowSwal(data.tipo, 'Registro Exitoso', data.msg);\r\n      });\r\n  }\r\n\r\n  Archivo(event) {\r\n    if (event.target.files.length === 1) {\r\n      this.Soporte = event.target.files[0];\r\n    }\r\n  }\r\n\r\n  SetInformacionPaginacion() {\r\n    var calculoHasta = this.page * this.pageSize;\r\n    var desde = calculoHasta - this.pageSize + 1;\r\n    var hasta = calculoHasta > this.TotalItems ? this.TotalItems : calculoHasta;\r\n\r\n    this.InformacionPaginacion['desde'] = desde;\r\n    this.InformacionPaginacion['hasta'] = hasta;\r\n    this.InformacionPaginacion['total'] = this.TotalItems;\r\n  }\r\n\r\n  //Setear filtros\r\n  SetFiltros(paginacion: boolean = false) {\r\n    let params: any = {};\r\n\r\n    if (paginacion === true) {\r\n      params.pag = this.page;\r\n    } else {\r\n      this.page = 1;\r\n      params.pag = this.page;\r\n    }\r\n\r\n    if (this.filtro_cliente != '') {\r\n      params.cli = this.filtro_cliente;\r\n    }\r\n    if (this.filtro_codigo != '') {\r\n      params.cod = this.filtro_codigo;\r\n    }\r\n    if (this.filtro_empresa != '') {\r\n      params.empresa = this.filtro_empresa;\r\n    }\r\n    if (this.filtro_fecha != null && this.filtro_fecha != '') {\r\n      params.fecha = this.filtro_fecha;\r\n    }\r\n    if (this.filtro_cheque != '') {\r\n      params.cheque = this.filtro_cheque;\r\n    }\r\n    if (this.filtro_estado != '') {\r\n      params.est = this.filtro_estado;\r\n    }\r\n\r\n    let queryString =\r\n      '?' +\r\n      Object.keys(params)\r\n        .map((key) => key + '=' + params[key])\r\n        .join('&');\r\n    return queryString;\r\n  }\r\n\r\n  //Aplicar filtros en la tabla\r\n  filtros(paginacion: boolean = false) {\r\n    this.Cargando = true;\r\n    var params = this.SetFiltros(paginacion);\r\n\r\n    this.location.replaceState('/contabilidad/comprobantes/egresos', params);\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_egresos.php', {\r\n        params: {\r\n          company_id: this._user.user.person.company_worked.id,\r\n          params: params,\r\n        },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.Comprobantes = data.Lista;\r\n        this.TotalItems = data.numReg;\r\n        this.SetInformacionPaginacion();\r\n      });\r\n  }\r\n\r\n  RecargarDatos() {\r\n    let urlParams = this.route.snapshot.queryParams;\r\n    if (Object.keys(urlParams).length > 0) {\r\n      // Si existe parametros o filtros\r\n      // actualizando la variables con los valores de los paremetros.\r\n      this.page = urlParams.pag ? urlParams.pag : 1;\r\n      this.filtro_cliente = urlParams.cli ? urlParams.cli : '';\r\n      this.filtro_codigo = urlParams.cod ? urlParams.cod : '';\r\n      this.filtro_fecha = urlParams.fecha ? urlParams.fecha : '';\r\n      this.filtro_tipo = urlParams.tipo ? urlParams.tipo : '';\r\n      this.filtros(this.page > 1);\r\n    } else {\r\n      this.filtros();\r\n    }\r\n  }\r\n\r\n  dateRangeChanged(event) {\r\n    if (event.formatted != '') {\r\n      this.filtro_fecha = event;\r\n    } else {\r\n      this.filtro_fecha = '';\r\n    }\r\n\r\n    this.filtros(true);\r\n  }\r\n  selectedDate(fecha) {\r\n    this.filtro_fecha =\r\n      this.datePipe.transform(fecha.value.begin._d, 'yyyy-MM-dd') +\r\n      ' - ' +\r\n      this.datePipe.transform(fecha.value.end._d, 'yyyy-MM-dd');\r\n    this.filtros(true);\r\n  }\r\n\r\n  VerComprobante(id) {\r\n    //this.modalVerComprobante.show();\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/detalle_comprobante.php', {\r\n        params: { id: id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Comprobante = data;\r\n        this.modalVerComprobante.show();\r\n      });\r\n  }\r\n\r\n  anularDocumento() {\r\n    let datos: any = {\r\n      Id_Registro: this.IdDocumento,\r\n      Tipo: 'Egreso',\r\n      // Identificacion_Funcionario: this.id_funcionario\r\n    };\r\n\r\n    this.AnularDocumentoContable(datos).subscribe(\r\n      (data: any) => {\r\n        let swal = {\r\n          codigo: data.tipo,\r\n          titulo: data.titulo,\r\n          mensaje: data.mensaje,\r\n        };\r\n        this.swalService.ShowMessage(swal);\r\n\r\n        this.ListarComprobantes();\r\n      },\r\n      (error) => {\r\n        let swal = {\r\n          codigo: 'warning',\r\n          titulo: 'Oops!',\r\n          mensaje:\r\n            'Lamentablemente se ha perdido la conexión a internet. Por favor vuelve a intentarlo.',\r\n        };\r\n        this.swalService.ShowMessage(swal);\r\n      }\r\n    );\r\n  }\r\n\r\n  public AnularDocumentoContable(datos) {\r\n    let info = JSON.stringify(datos);\r\n\r\n    let data = new FormData();\r\n    data.append('datos', info);\r\n\r\n    return this.http.post(\r\n      environment.ruta + 'php/contabilidad/anular_documento.php',\r\n      data\r\n    );\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <div class=\"card-title d-flex justify-content-between\">\r\n      <h4 class=\"text-primary\">Comprobantes de Egresos</h4>\r\n      <div class=\"btn-group rounded\">\r\n        <button\r\n          style=\"float: right\"\r\n          type=\"button\"\r\n          class=\"btn btn-primary btn-sm\"\r\n          [routerLink]=\"[\r\n            '/contabilidad/comprobantes/comprobanteegresovarioscrear'\r\n          ]\"\r\n        >\r\n          <i class=\"fa fa-plus\"></i>\r\n          Agregar\r\n        </button>\r\n        <button\r\n          class=\"btn btn-info btn-sm\"\r\n          style=\"float: right\"\r\n          (click)=\"openClose()\"\r\n        >\r\n          <i class=\"fas fa-sliders-h\"></i> Filtros\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <mat-accordion multi>\r\n      <mat-expansion-panel class=\"mat-elevation-z0\">\r\n        <mat-form-field appearance=\"outline\" class=\"col-md-3 pl-0\">\r\n          <mat-label>Rango de fechas</mat-label>\r\n          <input\r\n            matInput\r\n            [satDatepicker]=\"picker\"\r\n            [value]=\"date\"\r\n            (dateChange)=\"selectedDate($event)\"\r\n            (dateInput)=\"selectedDate($event)\"\r\n            name=\"daterange\"\r\n            autocomplete=\"off\"\r\n            required\r\n          />\r\n          <sat-datepicker #picker [rangeMode]=\"true\"></sat-datepicker>\r\n          <sat-datepicker-toggle\r\n            matSuffix\r\n            [for]=\"picker\"\r\n          ></sat-datepicker-toggle>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 pl-0\" appearance=\"outline\">\r\n          <mat-label>Documento</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por documento\"\r\n            [(ngModel)]=\"filtro_codigo\"\r\n            (input)=\"filtros()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Beneficiario</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por beneficiario\"\r\n            [(ngModel)]=\"filtro_cliente\"\r\n            (input)=\"filtros()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 pl-0\" appearance=\"outline\">\r\n          <mat-label>Cheques</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por cheques\"\r\n            [(ngModel)]=\"filtro_cheque\"\r\n            (input)=\"filtros()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2 px-md-0\" appearance=\"outline\">\r\n          <mat-label>Estado</mat-label>\r\n          <mat-select [(ngModel)]=\"filtro_estado\" (selectionChange)=\"filtros()\">\r\n            <mat-option value=\"\">Todas</mat-option>\r\n            <mat-option value=\"Activo\">Activas</mat-option>\r\n            <mat-option value=\"Anulada\">Anuladas</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n    <table\r\n      class=\"table table-bordered table-striped table-responsible-sm table-sm\"\r\n      style=\"font-size: small\"\r\n      *ngIf=\"!Cargando && Comprobantes.length > 0; else notData\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th>Fecha</th>\r\n          <th>Documento</th>\r\n          <th>Beneficiario</th>\r\n          <th>Concepto</th>\r\n          <th>Cheques</th>\r\n          <th>Total Debito</th>\r\n          <th>Total Credito</th>\r\n          <th>Total Debito NIIF</th>\r\n          <th>Total Credito NIIF</th>\r\n          <th>Funcionario</th>\r\n          <th>Estado</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngIf=\"Comprobantes.length == 0\" class=\"text-center\">\r\n          <td colspan=\"12\" class=\"text-center\">\r\n            <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n            <h4>No existen comprobantes de egresos para mostrar.</h4>\r\n          </td>\r\n        </tr>\r\n        <tr\r\n          *ngFor=\"let comprobante of Comprobantes\"\r\n          [ngClass]=\"{ 'bg-danger': comprobante.Estado == 'Anulada' }\"\r\n        >\r\n          <td>{{ comprobante.Fecha }}</td>\r\n          <td>{{ comprobante.Codigo }}</td>\r\n          <td>{{ comprobante.Beneficiario }} - {{ comprobante.Tercero }}</td>\r\n          <td>{{ comprobante.Concepto }}</td>\r\n          <td>{{ comprobante.Cheques }}</td>\r\n          <td>{{ comprobante.Total_Debe_PCGA | currency }}</td>\r\n          <td>{{ comprobante.Total_Haber_PCGA | currency }}</td>\r\n          <td>{{ comprobante.Total_Debe_NIIF | currency }}</td>\r\n          <td>{{ comprobante.Total_Haber_NIIF | currency }}</td>\r\n          <td>{{ comprobante.Funcionario }}</td>\r\n          <td width=\"60\">\r\n            <span\r\n              *ngIf=\"comprobante.Estado != 'Anulada'\"\r\n              class=\"label label-success\"\r\n              >{{ comprobante.Estado }}</span\r\n            >\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn btn-primary btn-mini waves-effect waves-light\"\r\n                  type=\"button\"\r\n                >\r\n                  <i class=\"mdi mdi-chevron-down\"></i>\r\n                </button>\r\n                <div ngbDropdownMenu>\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      enviromen.ruta\r\n                    }}/php/comprobantes/egreso_descarga_pdf.php?id={{\r\n                      comprobante.Id_Documento_Contable\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-print\"></i> Ver PCGA</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      enviromen.ruta\r\n                    }}/php/comprobantes/egreso_descarga_pdf.php?id={{\r\n                      comprobante.Id_Documento_Contable\r\n                    }}&tipo=Niif\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-print\"></i> Ver NIIF</a\r\n                  >\r\n                  <a\r\n                    *ngIf=\"\r\n                      comprobante.Estado != 'Anulada' && perfilUsuario == '27'\r\n                    \"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones bg-danger\"\r\n                    href=\"javascript:;\"\r\n                    [swal]=\"confirmacionAnular\"\r\n                    (click)=\"IdDocumento = comprobante.Id_Documento_Contable\"\r\n                  >\r\n                    <i class=\"fa fa-close\"></i> Anular</a\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div id=\"paginacion-container\" *ngIf=\"Comprobantes.length > 0\">\r\n      <ngb-pagination\r\n        class=\"d-flex justify-content-center pagination-rounded pagination-sm\"\r\n        [collectionSize]=\"TotalItems\"\r\n        [(page)]=\"page\"\r\n        [maxSize]=\"maxSize\"\r\n        [pageSize]=\"pageSize\"\r\n        size=\"sm\"\r\n        (pageChange)=\"filtros(true)\"\r\n        [rotate]=\"true\"\r\n        [boundaryLinks]=\"true\"\r\n      ></ngb-pagination>\r\n      <p>\r\n        <b\r\n          >Mostrando del {{ InformacionPaginacion.desde }} al\r\n          {{ InformacionPaginacion.hasta }} de\r\n          {{ InformacionPaginacion.total }}</b\r\n        >\r\n      </p>\r\n      <!-- <div class=\"row\">\r\n                                    <div class=\"col\">\r\n                                    </div>\r\n                                </div> -->\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"Cargando\"></app-not-data>\r\n</ng-template>\r\n<ng-template #rt2 let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\"\r\n    ><strong>{{ r.NombreProveedor }}</strong>\r\n  </span>\r\n</ng-template>\r\n\r\n<swal #confirmacionAnular [swalOptions]=\"alertOption\"></swal>\r\n\r\n<swal #alertSwal title=\"\" html=\"\" type=\"\"></swal>\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n\r\n<ng-template #rtCuenta let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Codigo }} </span>\r\n</ng-template>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Globales } from '../../../globales';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-notascreditover',\r\n  templateUrl: './notascreditover.component.html',\r\n  styleUrls: ['./notascreditover.component.scss']\r\n})\r\nexport class NotascreditoverComponent implements OnInit {\r\n  enviromen:any;\r\n  public idNotaCredito = this.route.snapshot.params[\"id\"];\r\n  public Datos: any={\r\n    Factura:'',\r\n    Cliente:'',\r\n\r\n  };\r\n  public Lista_Productos:any[]=[];\r\n  public Total :any;\r\n  public TotalImpuesto :any;\r\n  public user: any;\r\n\r\n  public perfilUsuario = localStorage.getItem('miPerfil');\r\n  @ViewChild('confirmacionSwal') confirmacionSwal:any;\r\n\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Valor_Nota_Credito); \r\n  public reducerImpuesto = (accumulador,currentValue) => accumulador + parseFloat(currentValue.Total_Impuesto);\r\n\r\n  constructor(private route: ActivatedRoute,private http : HttpClient,public globales: Globales,private router:Router) { \r\n    this.http.get(environment.ruta+'php/notas_credito_nuevo/get_nota_credito.php',{ params: { id_nota_credito: this.idNotaCredito}}).subscribe((data:any)=>{\r\n      this.Datos=data.Nota_Credito;\r\n      this.Lista_Productos = data.Productos_Nota;\r\n\r\n      this.Total = this.Lista_Productos.reduce(this.reducer,0);\r\n      this.TotalImpuesto = this.Lista_Productos.reduce(this.reducerImpuesto,0);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.user = JSON.parse(localStorage.User);\r\n    this.enviromen = environment;\r\n  }\r\n\r\n}\r\n","<div class=\"page-body\">\r\n    <div class=\"row d-flex justify-content-center\">\r\n        <div class=\" col-10 \">\r\n            <form #FormNotaCredito=\"ngForm\">\r\n                <div class=\"card\">\r\n                    <div class=\"row invoice-contact\" style=\"align-items:flex-start !important;\">\r\n                        <div class=\"col-md-8\">\r\n                            <div class=\"invoice-box row\">\r\n                                <div class=\"col-sm-12\">\r\n                                    <table class=\"table table-responsive invoice-table table-borderless\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td style=\"width:100px;\">\r\n                                                    <img src=\"{{enviromen.urlLogoColor}}\" class=\"m-b-10 img-60\" alt=\"Pro-H Software\">\r\n                                                </td>\r\n                                                <td> {{enviromen.Nombre}}\r\n                                                    <br> {{enviromen.Nit}}\r\n                                                    <br> {{enviromen.Direccion}}\r\n                                                    <br> {{enviromen.Telefono}} </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-md-4\">\r\n                            <div class=\"row text-right\" style=\"margin:0;\">\r\n                                <div class=\"col-sm-12\">\r\n                                    <h5>Nota Crédito</h5>\r\n                                    <h4> {{ Datos.Codigo }} </h4>\r\n                                    <h6>{{ Datos.Fecha | date:'dd/MM/yy' }}</h6>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body\">\r\n                        <div class=\"row \">\r\n                            <div class=\"col-sm-12\">\r\n                                <div style=\"margin-bottom: 40px;\" *ngIf=\"perfilUsuario == '27'\">\r\n\r\n                                    <a class=\"btn btn-outline-primary btn-sm pull-right\" href=\"{{enviromen.ruta}}php/contabilidad/movimientoscontables/movimientos_nota_credito_global_pdf.php?id_registro={{Datos.Id_Nota_Credito_Global}}&id_funcionario_elabora={{user.Identificacion_Funcionario}}\"\r\n                                        target=\"_blank\">\r\n                                        <i class=\"fa fa-book\"></i> Ver contabilización\r\n                                    </a>\r\n                                </div>\r\n                                <table class=\"table invoice-detail-table tabla\">\r\n                                    <thead>\r\n                                        <tr class=\"thead-default\">\r\n                                            <th>Cliente</th>\r\n                                            <th>Factura</th>\r\n                                            <th>Fecha Factura</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td>\r\n                                                <p>\r\n                                                    {{Datos.Cliente.Nombre_Cliente}}\r\n                                                </p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <p>\r\n                                                    {{Datos.Factura.Codigo}}\r\n                                                </p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <p>\r\n                                                    {{Datos.Factura.Fecha_Documento | date:'dd/MM/yy'}}\r\n                                                </p>\r\n                                            </td>\r\n\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"row m-0\">\r\n                            <div class=\"col-md-12  ver\">\r\n                                <h6>Observaciones</h6>\r\n                                <p>{{Datos.Observaciones}}</p>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"row\" style=\"margin-top:30px;\">\r\n                            <div class=\"col-sm-12\">\r\n                                <div class=\"table-responsive\">\r\n                                    <table class=\"table  invoice-detail-table space\">\r\n                                        <thead>\r\n                                            <tr class=\"thead-default\">\r\n                                                <th style=\"width:40px;\">Producto</th>\r\n                                                <th style=\"width:20px;\">Motivo</th>\r\n                                                <th style=\"width:20px;\">Observaciones</th>\r\n                                                <th style=\"width:20px;\">Impuesto</th>\r\n                                                <th style=\"width:20px;\">T.Impuesto</th>\r\n                                                <th style=\"width:20px;\">Valor Nota Credito</th>\r\n\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody *ngIf=\"Lista_Productos.length > 0\">\r\n                                            <tr *ngFor=\"let item of Lista_Productos; let i = index\" id=\"fila{{i}}\">\r\n                                                <td class=\"text-left\">\r\n                                                    {{item.Nombre_Producto}}\r\n                                                </td>\r\n                                                <td class=\"text-center\">\r\n                                                    {{ item.Motivo }}\r\n                                                </td>\r\n                                                <td class=\"text-center\">\r\n                                                    {{ item.Observacion }}\r\n                                                </td>\r\n                                                <td class=\"text-right\">\r\n                                                    {{ item.Impuesto | currency }}\r\n                                                </td>\r\n                                                <td class=\"text-right\">\r\n                                                    {{ item.Total_Impuesto | currency }}\r\n                                                </td>\r\n\r\n                                                <td class=\"text-right\">\r\n                                                    {{ item.Valor_Nota_Credito | currency }}\r\n                                                </td>\r\n\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"col-sm-12\">\r\n                                <table class=\"table table-responsive invoice-table invoice-total space\">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td style=\"font-weight: bold; margin-bottom: 15px;\">(=) Total Impuesto :</td>\r\n                                            <td>{{ TotalImpuesto | currency }}</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td style=\"font-weight: bold;\">(=) Total :</td>\r\n                                            <td>{{ Total | currency }}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\">\r\n\r\n                            <div class=\"col-md-2\">\r\n                                <button href=\"\" [routerLink]=\"['/contabilidad/comprobantes/notas-credito']\" type=\"button\" class=\"btn btn-success btn-block btn-enviar\">\r\n                              Volver\r\n                            </button>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<!-- <swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n<swal #confirmacionGuardar [options]=\"alertOption\"></swal> -->","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class NotasContablesService {\r\n\r\n  constructor( private http: HttpClient ) { }\r\n  \r\n  getCenterCost(){\r\n    return this.http.get(`${environment.base_url}/center_cost`);\r\n  }\r\n\r\n  getThirdParties(){\r\n    return this.http.get(`${environment.base_url}/third-parties-list`);\r\n  }\r\n\r\n  public tabular(event, ele) {\r\n    if (event.keyCode == 13) {\r\n      setTimeout(() => {\r\n        (document.getElementById(ele) as HTMLInputElement).focus();\r\n\r\n      }, 200);      \r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport { SweetAlertOptions } from 'sweetalert2';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { Location } from '@angular/common';\r\nimport { SwalService } from '../../../ajustes/informacion-base/services/swal.service';\r\nimport swal from 'sweetalert2';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { NgForm } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { MatAccordion } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { DateAdapter } from 'saturn-datepicker';\r\n\r\n@Component({\r\n  selector: 'app-ingresos',\r\n  templateUrl: './ingresos.component.html',\r\n  styleUrls: ['./ingresos.component.scss'],\r\n})\r\nexport class IngresosComponent implements OnInit {\r\n  datePipe = new DatePipe('es-CO');\r\n  date: { year: number; month: number };\r\n  @ViewChild('modalNuevoComprobante') modalNuevoComprobante: any;\r\n  @ViewChild('modalVerComprobante') modalVerComprobante: any;\r\n  @ViewChild('alertSwal') alertSwal: any;\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  matPanel = false;\r\n  openClose() {\r\n    if (this.matPanel == false) {\r\n      this.accordion.openAll();\r\n      this.matPanel = true;\r\n    } else {\r\n      this.accordion.closeAll();\r\n      this.matPanel = false;\r\n    }\r\n  }\r\n  public Cargando: boolean = true;\r\n  envirom: any;\r\n  myDateRangePickerOptions: IMyDrpOptions = {\r\n    width: '180px',\r\n    height: '21px',\r\n    selectBeginDateTxt: 'Inicio',\r\n    selectEndDateTxt: 'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n\r\n  public Archivos: any[] = [];\r\n  public Clientes: any = [\r\n    { Id_Cliente: 1, Nombre_Cliente: 'Kendry Ortiz' },\r\n    { Id_Cliente: 2, Nombre_Cliente: 'Pedro Castillo' },\r\n    { Id_Cliente: 3, Nombre_Cliente: 'Franklin Guerra' },\r\n    { Id_Cliente: 4, Nombre_Cliente: 'Augusto Carrillo' },\r\n  ];\r\n\r\n  public Bancos: any = [];\r\n\r\n  public FormaPago: any = [];\r\n\r\n  public Comprobantes: any = [];\r\n\r\n  public CuentasContables: any = [\r\n    { id_Cuenta: 1, Nro_Cuenta: '12546328' },\r\n    { id_Cuenta: 2, Nro_Cuenta: '6591316' },\r\n    { id_Cuenta: 3, Nro_Cuenta: '516135468' },\r\n  ];\r\n\r\n  public ComprobanteModel: any = {\r\n    Codigo: '',\r\n    Concepto: '',\r\n    Fecha: '',\r\n    Cliente: '',\r\n    Forma_Pago: '',\r\n    Valor: '',\r\n    Banco: '',\r\n    Soporte: 'CuentasContables',\r\n  };\r\n  public Cliente = [];\r\n  public Cuenta = [];\r\n  public Cuenta_Pasivos = [];\r\n  public Id_Cliente = '';\r\n  public Nom_Cliente = '';\r\n  public Cuenta_Deb = '';\r\n  public Cuenta_Acred = '';\r\n  public Id_Cuenta_Acredita = '';\r\n  public Id_Cuenta_Debita = '';\r\n  public Tipo = 'Ingreso';\r\n  public boolVal: boolean = false;\r\n  public Funcionario = JSON.parse(localStorage.getItem('User'));\r\n  public perfilUsuario = localStorage.getItem('miPerfil');\r\n  public Comprobante: any = {};\r\n\r\n  public filtro_cod: string = '';\r\n  public filtro_cli: string = '';\r\n  public filtro_tipo: string = '';\r\n  public filtro_fecha: any = '';\r\n  public page = 1;\r\n  public maxSize = 10;\r\n  public TotalItems: number;\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n  Soporte: any;\r\n  IdDocumento: string = '';\r\n  // id_funcionario: any = JSON.parse(localStorage.getItem('User')).Identificacion_Funcionario;\r\n  alertOption: SweetAlertOptions;\r\n  public Id_Empresa: any = '';\r\n  public filtro: any = {\r\n    codigo: '',\r\n    fechas: '',\r\n    cliente: '',\r\n    estado: '',\r\n  };\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private route: ActivatedRoute,\r\n    private location: Location,\r\n    private swalService: SwalService,\r\n    private _user: UserService,\r\n    private dateAdapter: DateAdapter<any>\r\n  ) {\r\n    this.dateAdapter.setLocale('es');\r\n    this.ListarComprobantes();\r\n\r\n    this.alertOption = {\r\n      title: '¿Está Seguro?',\r\n      text: 'Se dispone a Anular este Documento',\r\n      showCancelButton: true,\r\n      cancelButtonText: 'No, Dejame Comprobar!',\r\n      confirmButtonText: 'Si, Anular',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      // type: 'warning',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          this.anularDocumento();\r\n        });\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading(),\r\n    };\r\n  }\r\n  search = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.Cliente.filter(\r\n              (v) => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 100)\r\n      )\r\n    );\r\n  formatter = (x: { Nombre: string }) => x.Nombre;\r\n  search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.Cuenta.filter(\r\n              (v) => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 100)\r\n      )\r\n    );\r\n  formatter1 = (x: { Codigo: string }) => x.Codigo;\r\n  search2 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) =>\r\n        term.length < 4\r\n          ? []\r\n          : this.Cuenta_Pasivos.filter(\r\n              (v) => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n            ).slice(0, 100)\r\n      )\r\n    );\r\n  formatter2 = (x: { Codigo: string }) => x.Codigo;\r\n  ngOnInit() {\r\n    this.envirom = environment;\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_cliente.php')\r\n      .subscribe((data: any) => {\r\n        this.Cliente = data;\r\n      });\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_cuentas.php', {\r\n        params: { company_id: this._user.user.person.company_worked.id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Cuenta = data.Activo;\r\n        this.Cuenta_Pasivos = data.Pasivo;\r\n      });\r\n\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_bancos.php')\r\n      .subscribe((data: any) => {\r\n        this.Bancos = data;\r\n      });\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/formas_pago.php')\r\n      .subscribe((data: any) => {\r\n        this.FormaPago = data;\r\n      });\r\n  }\r\n  ListarComprobantes() {\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/lista_comprobantes.php', {\r\n        params: {\r\n          tipo_comprobante: 'ingreso',\r\n          company_id: this._user.user.person.company_worked.id,\r\n        },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Comprobantes = data.Lista;\r\n        this.Cargando = false;\r\n        console.log(this.Comprobantes);\r\n        this.TotalItems = data.numReg;\r\n      });\r\n  }\r\n  dateRangeChanged(event) {\r\n    if (event.formatted != '') {\r\n      this.filtro.fechas = event.formatted;\r\n    } else {\r\n      this.filtro.fechas = '';\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.filtros();\r\n    }, 100);\r\n  }\r\n  selectedDate(fecha) {\r\n    this.filtro.fechas =\r\n      this.datePipe.transform(fecha.value.begin._d, 'yyyy-MM-dd') +\r\n      ' - ' +\r\n      this.datePipe.transform(fecha.value.end._d, 'yyyy-MM-dd');\r\n      this.filtros();\r\n  }\r\n\r\n  pagination() {\r\n    let queryString = this.getQueryString(true);\r\n\r\n    this.location.replaceState('/comprobante/ingresos', queryString);\r\n\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n          'php/comprobantes/lista_comprobantes.php' +\r\n          queryString\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.Comprobantes = data.Lista;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n  }\r\n  AbrirModalNuevoComprobante() {\r\n    this.modalNuevoComprobante.show();\r\n  }\r\n\r\n  filtros(pagination: boolean = false) {\r\n    this.Cargando = true;\r\n    let queryString = this.getQueryString(pagination);\r\n\r\n    this.location.replaceState('/comprobantes/ingresos', queryString);\r\n\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n          'php/comprobantes/lista_comprobantes.php' +\r\n          queryString\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.Comprobantes = data.Lista;\r\n        this.Cargando = false;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n  }\r\n  getQueryString(pagination: boolean = false) {\r\n    let params: any = {\r\n      tipo_comprobante: 'ingreso',\r\n    };\r\n    let queryString = '';\r\n\r\n    if (!pagination) {\r\n      this.page = 1;\r\n    }\r\n\r\n    params.pag = this.page;\r\n\r\n    if (this.filtro.cliente != '') {\r\n      params.cli = this.filtro.cliente;\r\n    }\r\n    if (this.filtro.fechas != '') {\r\n      params.fecha = this.filtro.fechas;\r\n    }\r\n    if (this.filtro.codigo != '') {\r\n      params.cod = this.filtro.codigo;\r\n    }\r\n    if (this.filtro.estado != '') {\r\n      params.est = this.filtro.estado;\r\n    }\r\n\r\n    queryString =\r\n      '?' +\r\n      Object.keys(params)\r\n        .map((key) => key + '=' + params[key])\r\n        .join('&');\r\n    return queryString;\r\n  }\r\n\r\n  Archivo(event) {\r\n    if (event.target.files.length === 1) {\r\n      this.Soporte = event.target.files[0];\r\n    }\r\n  }\r\n\r\n  GuardarComprobante(formulario: NgForm, modal: any) {\r\n    let datos = new FormData();\r\n    let info = this.normalize(JSON.stringify(formulario.value));\r\n    datos.append('Datos', info);\r\n    datos.append('Archivo', this.Soporte);\r\n    this.http\r\n      .post(\r\n        environment.ruta + 'php/comprobantes/guardar_comprobante.php',\r\n        datos\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.confirmacionSwal.title = 'Operación Exitosa';\r\n        this.confirmacionSwal.html = data.mensaje;\r\n        this.confirmacionSwal.type = data.tipo;\r\n        this.confirmacionSwal.show();\r\n        formulario.reset();\r\n\r\n        this.ListarComprobantes();\r\n      });\r\n  }\r\n\r\n  ShowSwal(tipo: string, titulo: string, msg: string) {\r\n    this.alertSwal.type = tipo;\r\n    this.alertSwal.title = titulo;\r\n    this.alertSwal.text = msg;\r\n    this.alertSwal.show();\r\n  }\r\n\r\n  normalize = (function () {\r\n    var from = 'ÃÀÁÄÂÈÉËÊÌÍÏÎÒÓÖÔÙÚÜÛãàáäâèéëêìíïîòóöôùúüûÑñÇç',\r\n      to = 'AAAAAEEEEIIIIOOOOUUUUaaaaaeeeeiiiioooouuuunncc',\r\n      mapping = {};\r\n\r\n    for (var i = 0, j = from.length; i < j; i++)\r\n      mapping[from.charAt(i)] = to.charAt(i);\r\n\r\n    return function (str) {\r\n      var ret = [];\r\n      for (var i = 0, j = str.length; i < j; i++) {\r\n        var c = str.charAt(i);\r\n        if (mapping.hasOwnProperty(str.charAt(i))) ret.push(mapping[c]);\r\n        else ret.push(c);\r\n      }\r\n      return ret.join('');\r\n    };\r\n  })();\r\n\r\n  ArmarComprobante(comprobanteObject: any) {\r\n    let comprobante = {\r\n      Codigo: comprobanteObject.Codigo,\r\n      Concepto: comprobanteObject.Concepto,\r\n      Fecha: comprobanteObject.Fecha,\r\n      Cliente: comprobanteObject.Cliente,\r\n      Forma_Pago: comprobanteObject.Forma_Pago,\r\n      Valor: comprobanteObject.Valor,\r\n      Banco: comprobanteObject.Banco,\r\n    };\r\n\r\n    return comprobante;\r\n  }\r\n\r\n  LimpiarModelo() {\r\n    this.ComprobanteModel = {\r\n      Codigo: '',\r\n      Concepto: '',\r\n      Fecha: '',\r\n      Cliente: '',\r\n      Forma_Pago: '',\r\n      Valor: '',\r\n      Banco: '',\r\n      Cuenta_Debita: '',\r\n      Cuenta_Acredita: '',\r\n    };\r\n  }\r\n\r\n  MostrarBanco() {\r\n    // console.log(this.ComprobanteModel.Forma_Pago);\r\n\r\n    if (\r\n      this.ComprobanteModel.Forma_Pago == '4' ||\r\n      this.ComprobanteModel.Forma_Pago == ''\r\n    ) {\r\n      this.boolVal = false;\r\n    } else {\r\n      this.boolVal = true;\r\n    }\r\n  }\r\n\r\n  CargaArchivo(event, i) {\r\n    if (event.target.files.length === 1) {\r\n      if (this.Archivos[i] !== 'undefined') {\r\n        this.Archivos[i] = event.target.files[0];\r\n      } else {\r\n        this.Archivos.push(event.target.files[0]);\r\n      }\r\n      // this.Soportes[i].NomArchivo = event.target.files[0].name;\r\n    }\r\n  }\r\n\r\n  BuscarDatosCliente(cliente) {\r\n    this.Id_Cliente = cliente.Id_Cliente;\r\n  }\r\n\r\n  BuscarCuenta(cuenta, tipo) {\r\n    switch (tipo) {\r\n      case 'Credita':\r\n        this.Id_Cuenta_Acredita = cuenta.Id_Plan_Cuentas;\r\n        break;\r\n      case 'Debita':\r\n        this.Id_Cuenta_Debita = cuenta.Id_Plan_Cuentas;\r\n        break;\r\n    }\r\n  }\r\n  VerComprobante(id) {\r\n    this.http\r\n      .get(environment.ruta + 'php/comprobantes/detalle_comprobante.php', {\r\n        params: { id: id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Comprobante = data;\r\n        this.modalVerComprobante.show();\r\n      });\r\n  }\r\n\r\n  anularDocumento() {\r\n    let datos: any = {\r\n      Id_Registro: this.IdDocumento,\r\n      Tipo: 'Recibos_Caja',\r\n      // Identificacion_Funcionario: this.id_funcionario\r\n    };\r\n\r\n    this.AnularDocumentoContable(datos).subscribe(\r\n      (data: any) => {\r\n        let swal = {\r\n          codigo: data.tipo,\r\n          titulo: data.titulo,\r\n          mensaje: data.mensaje,\r\n        };\r\n        this.swalService.ShowMessage(swal);\r\n\r\n        this.ListarComprobantes();\r\n      },\r\n      (error) => {\r\n        let swal = {\r\n          codigo: 'warning',\r\n          titulo: 'Oops!',\r\n          mensaje:\r\n            'Lamentablemente se ha perdido la conexión a internet. Por favor vuelve a intentarlo.',\r\n        };\r\n        this.swalService.ShowMessage(swal);\r\n      }\r\n    );\r\n  }\r\n\r\n  public AnularDocumentoContable(datos) {\r\n    let info = JSON.stringify(datos);\r\n\r\n    let data = new FormData();\r\n    data.append('datos', info);\r\n\r\n    return this.http.post(\r\n      environment.ruta + 'php/contabilidad/anular_documento.php',\r\n      data\r\n    );\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <div class=\"card-title d-flex justify-content-between\">\r\n      <h4 class=\"text-primary\">Comprobantes de Ingresos</h4>\r\n      <div class=\"btn-group rounded\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-primary btn-sm\"\r\n          style=\"float: right\"\r\n          [routerLink]=\"['/contabilidad/comprobantes/comprobanteingresocrear']\"\r\n        >\r\n          <i class=\"fa fa-plus\"></i>\r\n          Agregar\r\n        </button>\r\n        <button\r\n          class=\"btn btn-info btn-sm\"\r\n          style=\"float: right\"\r\n          (click)=\"openClose()\"\r\n        >\r\n          <i class=\"fas fa-sliders-h\"></i> Filtros\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <mat-accordion multi>\r\n      <mat-expansion-panel class=\"mat-elevation-z0\">\r\n        <mat-form-field appearance=\"outline\" class=\"col-md-3 pl-0\">\r\n          <mat-label>Rango de fechas</mat-label>\r\n          <input\r\n            matInput\r\n            [satDatepicker]=\"picker\"\r\n            [value]=\"date\"\r\n            (dateChange)=\"selectedDate($event)\"\r\n            (dateInput)=\"selectedDate($event)\"\r\n            name=\"daterange\"\r\n            autocomplete=\"off\"\r\n            required\r\n          />\r\n          <sat-datepicker #picker [rangeMode]=\"true\"></sat-datepicker>\r\n          <sat-datepicker-toggle\r\n            matSuffix\r\n            [for]=\"picker\"\r\n          ></sat-datepicker-toggle>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2\" appearance=\"outline\">\r\n          <mat-label>Código</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Buscar por código\"\r\n            [(ngModel)]=\"filtro.codigo\"\r\n            (input)=\"filtros()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3\" appearance=\"outline\">\r\n          <mat-label>Cliente</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Buscar por cliente\"\r\n            [(ngModel)]=\"filtro.cliente\"\r\n            (input)=\"filtros()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2\" appearance=\"outline\">\r\n          <mat-label>Estado</mat-label>\r\n          <mat-select [(ngModel)]=\"filtro.estado\" (selectionChange)=\"filtros()\">\r\n            <mat-option value=\"\">Todas</mat-option>\r\n            <mat-option value=\"Activa\">Activas</mat-option>\r\n            <mat-option value=\"Anulada\">Anuladas</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <!-- <div class=\"row\">\r\n                    <mat-form-field class=\"col-lg-2 col-md-3 col-sm-4\" appearance=\"outline\">\r\n                        <mat-label> </mat-label>\r\n                        <input matInput type=\"text\" placeholder=\"\">\r\n                    </mat-form-field>\r\n\r\n                </div> -->\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n\r\n    <table\r\n      class=\"table table-bordered table-striped table-responsive-sm table-sm\"\r\n      style=\"font-size: small\"\r\n      *ngIf=\"!Cargando && Comprobantes.length > 0; else notData\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th>Código</th>\r\n          <th>Concepto</th>\r\n          <th>Fecha</th>\r\n          <th>Cliente</th>\r\n          <th>Tipo Pago</th>\r\n          <th>Estado</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <!-- \r\n                          <tr *ngIf=\"Cargando\">\r\n                            <td  colspan=\"4\" class=\"text-center\">\r\n                              <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n                              <span class=\"sr-only\">Cargando...</span>\r\n                              <h4>Cargando Comprobantes de Egresos...</h4>\r\n                            </td>\r\n                          </tr> -->\r\n        <tr *ngIf=\"Comprobantes.length == 0\" class=\"text-center\">\r\n          <td colspan=\"7\" class=\"text-center\">\r\n            <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n            <h4>No Existen Comprobantes de Igresos para mostrar</h4>\r\n          </td>\r\n        </tr>\r\n        <tr\r\n          *ngFor=\"let comprobante of Comprobantes\"\r\n          [ngClass]=\"{ 'bg-danger': comprobante.Estado == 'Anulada' }\"\r\n        >\r\n          <td>{{ comprobante.Codigo }}</td>\r\n          <td>{{ comprobante.Concepto }}</td>\r\n          <td>{{ comprobante.Fecha_Comprobante | date: \"dd/MM/yyyy\" }}</td>\r\n          <td>{{ comprobante.Cliente }}</td>\r\n          <td>{{ comprobante.Forma_Pago }}</td>\r\n          <td width=\"60\">\r\n            <span\r\n              *ngIf=\"comprobante.Estado != 'Anulada'\"\r\n              class=\"label label-success\"\r\n              >{{ comprobante.Estado }}</span\r\n            >\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn btn-primary btn-mini waves-effect waves-light\"\r\n                  type=\"button\"\r\n                >\r\n                  Acciones\r\n                </button>\r\n                <div ngbDropdownMenu>\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      envirom.ruta\r\n                    }}php/comprobantes/comprobantes_pdf.php?id={{\r\n                      comprobante.Id_Comprobante\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-eye\"></i> Ver</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      envirom.ruta\r\n                    }}php/contabilidad/movimientoscontables/movimientos_comprobante_pdf.php?id_registro={{\r\n                      comprobante.Id_Comprobante\r\n                    }}&id_funcionario_elabora={{ 1 }}&tipo=Ingreso\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-book\"></i> Contab. PCGA</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      envirom.ruta\r\n                    }}php/contabilidad/movimientoscontables/movimientos_comprobante_pdf.php?id_registro={{\r\n                      comprobante.Id_Comprobante\r\n                    }}&id_funcionario_elabora={{\r\n                      1\r\n                    }}&tipo=Ingreso&tipo_valor=Niif\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-book\"></i> Contab. NIIF</a\r\n                  >\r\n                  <a\r\n                    *ngIf=\"\r\n                      comprobante.Estado != 'Anulada' && perfilUsuario == '27'\r\n                    \"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones bg-danger\"\r\n                    href=\"javascript:;\"\r\n                    [swal]=\"confirmacionAnular\"\r\n                    (click)=\"IdDocumento = comprobante.Id_Comprobante\"\r\n                  >\r\n                    <i class=\"fa fa-close\"></i> Anular</a\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <div class=\"text-center\" *ngIf=\"Comprobantes.length > 0\">\r\n      {{ page * 30 - 30 + 1 }} al\r\n      {{ page * 30 > TotalItems ? TotalItems : page * 30 }} de {{ TotalItems }}\r\n    </div>\r\n    <ngb-pagination\r\n      *ngIf=\"Comprobantes.length > 0\"\r\n      class=\"d-flex justify-content-center pagination-rounded pagination-sm\"\r\n      [rotate]=\"true\"\r\n      [collectionSize]=\"TotalItems\"\r\n      [(page)]=\"page\"\r\n      [maxSize]=\"maxSize\"\r\n      [pageSize]=\"30\"\r\n      [rotate]=\"true\"\r\n      size=\"sm\"\r\n      (pageChange)=\"filtros(true)\"\r\n      [boundaryLinks]=\"true\"\r\n    ></ngb-pagination>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"Cargando\"></app-not-data>\r\n</ng-template>\r\n<swal #alertSwal title=\"\" html=\"\" type=\"\"></swal>\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n<ng-template #rt1 let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Codigo }} </span>\r\n</ng-template>\r\n\r\n<swal #confirmacionSwal title=\"\" html=\"\" type=\"\"></swal>\r\n\r\n<swal #confirmacionAnular [swalOptions]=\"alertOption\"></swal>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { FormBuilder, FormGroup, FormArray, NgForm } from '@angular/forms';\r\nimport { NotasContablesService } from '../notas-contables.service';\r\nimport { OperatorFunction, Observable } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged, filter, map } from 'rxjs/operators';\r\nimport { SweetAlertOptions } from 'sweetalert2';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SwalService } from '../../../../ajustes/informacion-base/services/swal.service';\r\nimport swal from 'sweetalert2';\r\nimport { CierrecontableService } from '../../../cierres-contables/cierrecontable.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport Swal from 'sweetalert2';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\ntype centerCost = { value: number; text: string };\r\ntype third = { name: string };\r\n\r\n\r\n@Component({\r\n  selector: 'app-crear-nota-contable',\r\n  templateUrl: './crear-nota-contable.component.html',\r\n  styleUrls: ['./crear-nota-contable.component.scss']\r\n})\r\nexport class CrearNotaContableComponent implements OnInit {\r\n  public datosCabecera:any = {\r\n    Titulo: 'Nueva Nota Contable',\r\n    Fecha: new Date(),\r\n    Codigo: ''\r\n  }\r\n  public Tipo_Comprobante = 'Nota Contable';\r\n\r\n  public alertOption:SweetAlertOptions = {};\r\n  public Cargando:boolean = false;\r\n  public Mostrar_Facturas:boolean = false;\r\n  public Facturas:any = [];\r\n  public position_document:number;\r\n\r\n  @ViewChild('FormNotaContable') FormNotaContable: any;\r\n  @ViewChild('cuentasF') cuentasF: NgForm;\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n  public fecha=new Date();\r\n  public Fecha:any = '';\r\n  public display_Banco:string = 'none';\r\n  public Proveedores:any[]=[];\r\n  public Lista_Facturas:any[]=[{\r\n    RetencionesFactura:[]\r\n  }];\r\n\r\n  public Centro_Costo= '';\r\n  public Nom_Centro_Costo:any= '';\r\n  public Fecha_Nota_Contable=this.fechaHoy();\r\n  public Id_Proveedor: any = '';\r\n  public NombreProveedor: string = '';\r\n  public Nom_Cliente:any;\r\n  public Id_Cliente = '';\r\n  public Cliente = [];\r\n  public Funcionario=JSON.parse(localStorage.getItem(\"User\"));\r\n  public Cuenta=[];\r\n  public Cuentas: Array<any>;\r\n  public FormaPago:any = [ ];\r\n  public Rentenciones:any[]=[];\r\n  public RentencionesFactura:any[]=[];\r\n  public Cuentas_Contables:any[]=[{\r\n    Cuenta: '',\r\n    Nit: '',\r\n    Centro_Costo: '',\r\n    Documento: '',\r\n    Concepto: '',\r\n    Base: 0,\r\n    Debito: 0,\r\n    Credito: 0,\r\n    Deb_Niif: 0,\r\n    Cred_Niif: 0\r\n  }];\r\n  public Cuenta_Banco='';\r\n  public Costo_Ingreso = 0;\r\n  public Total_Debito:number = 0;\r\n  public Total_Credito:number = 0;\r\n\r\n  public Total_Debito_Niif:number = 0;\r\n  public Total_Credito_Niif:number = 0;\r\n\r\n  public Retenciones_Totales =0;\r\n  public Mostrar:boolean=false;\r\n  public Mostrar_Cliente:boolean=false;\r\n  public Impuesto = 0;\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal);\r\n  public reducer_deb = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Debito);\r\n  public reducer_cred = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Credito);\r\n\r\n  public reducer_deb_niif = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Deb_Niif);\r\n  public reducer_cred_niif = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Cred_Niif);\r\n\r\n\r\n  public reducer_valorp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.ValorIngresado);\r\n  public reducer_abono = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Abono);\r\n  public reducer3 = (accumulator, currentValue) => {\r\n    var acu_iva = 0;\r\n    currentValue.RetencionesFacturas.forEach((v, i)=>{\r\n\r\n      acu_iva += parseFloat(v.Valor);\r\n    });\r\n\r\n    return accumulator + acu_iva;\r\n  };\r\n  ListaRetenciones: any = [];\r\n  ListaFact:any = [];\r\n  Total_Facturas: number = 0;\r\n  Mostrar_Opciones: boolean = true;\r\n  Mostrar_Input_Cli: boolean = true;\r\n  Centros: any = [];\r\n  Tipo_Beneficiario: any;\r\n  Documento: string = '';\r\n  Concepto: string = '';\r\n  Archivo: any;\r\n  Facturas_Multiple: boolean = true;\r\n  public datosBorradores:any = {};\r\n  public idBorrador:any = '';\r\n  public Codigo:string = '';\r\n  public Total_Abono:number = 0;\r\n  public Datos_Invalidos:any = false;\r\n  Id_Empresa:any = '';\r\n  constructor(\r\n                private route: ActivatedRoute,\r\n                private http: HttpClient,\r\n                private router: Router,\r\n                private _notasContables: NotasContablesService,\r\n                private _general: CierrecontableService,\r\n                private _user: UserService\r\n              ) {\r\n\r\n    let queryParams = this.route.snapshot.queryParams;\r\n\r\n\r\n\r\n    if (queryParams.facturas != undefined && queryParams.cliente != undefined) {\r\n\r\n      this.Id_Cliente = queryParams.cliente;\r\n      this.Cargando = true;\r\n      this.Mostrar_Opciones = false;\r\n      this.Mostrar_Cliente = true;\r\n      this.http.get(environment.ruta + 'php/comprobantes/facturas_seleccionadas_cliente.php',{ params: queryParams }).subscribe((data: any) => {\r\n        this.Mostrar = false;\r\n        this.Cargando = false;\r\n        this.Mostrar_Input_Cli = false;\r\n\r\n        this.Lista_Facturas = data.Facturas;\r\n        this.Nom_Cliente = data.Cliente.Nombre;\r\n      });\r\n    }\r\n\r\n    this.alertOption = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a Guardar este Comprobante\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Guardar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'info',\r\n      input: 'select',\r\n      inputOptions: {\r\n        Pcga: 'Imprimir en PCGA',\r\n        Niif: 'Imprimir en NIIF'\r\n      },\r\n      preConfirm: (value) => {\r\n        return new Promise((resolve) => {\r\n          this.guardarNotaContable(this.FormNotaContable, value);\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n  }\r\n  search = (text$: Observable<string>) =>\r\n  text$.pipe(\r\n    debounceTime(200),\r\n    map(term => term.length < 4 ? []\r\n      : this.Cliente.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n  );\r\n    formatter = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 4 ? []\r\n        : this.Cuenta.filter(v => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n    formatter1 = (x: { Codigo: string }) => x.Codigo;\r\n\r\n    search2 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 2 ? []\r\n        : this.Centros.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n    formatter2 = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    ngOnInit() {\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascontables/nit_buscar.php').subscribe((data: any) => {\r\n        this.Cliente = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/cuentas.php', {params: { company_id: this._user.user.person.company_worked.id }}).subscribe((data: any) => {\r\n        this.Cuentas = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php', {params: { company_id: this._user.user.person.company_worked.id }}).subscribe((data: any) => {\r\n        this.Cuenta = data.Activo;\r\n      });\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascontables/centrocosto_buscar.php', {params: { company_id: this._user.user.person.company_worked.id }}).subscribe((data: any) => {\r\n        this.Centros = data;\r\n      });\r\n\r\n      this.getCodigoNuevaNota();\r\n\r\n      this.ListarRetenciones();\r\n      this.Id_Empresa = this._user.user.person.company_worked.id;\r\n    }\r\n  BuscarProveedor(modelo) {\r\n    this.NombreProveedor = modelo.Proveedores;\r\n    this.Id_Proveedor = modelo.Id_Proveedor;\r\n  }\r\n\r\n  BuscarDatosCliente(cliente, pos?) {\r\n\r\n    if (pos != null && pos != undefined) {\r\n      this.Cuentas_Contables[pos].Nit_Cuenta = cliente.ID;\r\n      this.Cuentas_Contables[pos].Tipo_Nit = cliente.Tipo;\r\n    } else {\r\n\r\n      this.Id_Cliente=cliente.ID;\r\n      this.Tipo_Beneficiario = cliente.Tipo;\r\n    }\r\n\r\n  }\r\n\r\n  getDatosTercero(nit) {\r\n    return this.Cliente.find(x => x.ID == nit);\r\n  }\r\n\r\n  BuscarDatosCentro(centro, pos?) {\r\n\r\n    if (pos != undefined && pos != null) {\r\n      if (centro == '') {\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = centro;\r\n      } else {\r\n\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = centro.Id_Centro_Costo;\r\n      }\r\n    } else {\r\n      this.Centro_Costo = centro.Id_Centro_Costo;\r\n    }\r\n\r\n  }\r\n\r\n\r\n  BuscarCuenta(cuenta, pos){\r\n   let pos2=pos+1;\r\n\r\n      // console.log(\"Model Cuenta --> \",cuenta);\r\n\r\n      if (cuenta.Centro_Costo == 'S') { // Validar si la cuenta es para Centro de costos o no.\r\n        this.Cuentas_Contables[pos].Centro_Costo = this.Nom_Centro_Costo;\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = this.Nom_Centro_Costo.Id_Centro_Costo;\r\n        (document.getElementById('Centro_Costo'+pos) as HTMLInputElement).style.display = 'block';\r\n      } else {\r\n        this.Cuentas_Contables[pos].Centro_Costo = '';\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = 0;\r\n        (document.getElementById('Centro_Costo'+pos) as HTMLInputElement).style.display = 'none';\r\n      }\r\n\r\n      this.Cuentas_Contables[pos].Id_Plan_Cuentas=cuenta.Id_Plan_Cuentas;\r\n      this.Cuentas_Contables[pos].Documento= this.Documento;\r\n      this.Cuentas_Contables[pos].Concepto= this.Concepto;\r\n\r\n      // Nit Beneficiario\r\n      this.Cuentas_Contables[pos].Nit = this.Nom_Cliente;\r\n      this.Cuentas_Contables[pos].Nit_Cuenta = this.Nom_Cliente.ID;\r\n      this.Cuentas_Contables[pos].Tipo_Nit = this.Nom_Cliente.Tipo;\r\n\r\n      let posicion = this.ListaRetenciones.findIndex(x => x.Id_Plan_Cuenta === cuenta.Id_Plan_Cuentas);\r\n\r\n      if (posicion >= 0) {\r\n        (document.getElementById('Base'+pos) as HTMLInputElement).readOnly = false;\r\n        this.Cuentas_Contables[pos].Porcentaje = this.ListaRetenciones[posicion].Porcentaje;\r\n      }\r\n\r\n      if(cuenta.Id_Plan_Cuentas){\r\n        if (this.Cuentas_Contables[pos2] == undefined){\r\n          this.Cuentas_Contables.push({\r\n            Cuenta: '',\r\n            Nit: '',\r\n            Centro_Costo: '',\r\n            Documento: '',\r\n            Concepto: '',\r\n            Base: 0,\r\n            Debito: 0,\r\n            Credito: 0,\r\n            Deb_Niif: 0,\r\n            Cred_Niif: 0\r\n          });\r\n        }\r\n      }\r\n\r\n  }\r\n\r\n\r\n\r\n  ActualizaValores(pos?,pcga=true) {\r\n\r\n    if (pos != null && pos != undefined && pcga) {\r\n\r\n      if ( this.Cuentas_Contables[pos].Debito  < 0 ) {\r\n        this.Cuentas_Contables[pos].Debito = 0;\r\n      }\r\n\r\n      if ( this.Cuentas_Contables[pos].Credito  < 0 ) {\r\n          this.Cuentas_Contables[pos].Credito = 0;\r\n      }\r\n\r\n      this.Cuentas_Contables[pos].Deb_Niif = this.Cuentas_Contables[pos].Debito ;\r\n      this.Cuentas_Contables[pos].Cred_Niif = this.Cuentas_Contables[pos].Credito;\r\n    }else if(pos != null && pos != undefined ) {\r\n\r\n      if ( this.Cuentas_Contables[pos].Deb_Niif  < 0 ) {\r\n        this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n      }\r\n      if ( this.Cuentas_Contables[pos].Cred_Niif  < 0 ) {\r\n        this.Cuentas_Contables[pos].Cred_Niif = 0;\r\n      }\r\n\r\n    }\r\n\r\n    this.Total_Credito = (this.Cuentas_Contables.reduce(this.reducer_cred, 0)).toString();\r\n    this.Total_Debito = (this.Cuentas_Contables.reduce(this.reducer_deb, 0)).toString();\r\n\r\n    this.Total_Credito_Niif = (this.Cuentas_Contables.reduce(this.reducer_cred_niif, 0)).toString();\r\n    this.Total_Debito_Niif = (this.Cuentas_Contables.reduce(this.reducer_deb_niif, 0)).toString();\r\n\r\n  }\r\n\r\n  EliminarCuenta(pos){\r\n\r\n    this.Cuentas_Contables.splice(pos,1);\r\n\r\n    this.Datos_Invalidos = this.Cuentas_Contables.find( data => data.Valido == false );\r\n    console.log(   this.Datos_Invalidos , 'INVALIDOS' );\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores();\r\n    }, 100);\r\n\r\n  }\r\n\r\n  guardarNotaContable(Formulario:NgForm, tipo) {\r\n\r\n    let info = JSON.stringify(Formulario.value);\r\n    console.log(info);\r\n    let datos = new FormData();\r\n\r\n    datos.append('Datos', info);\r\n    datos.append('Cuentas_Contables', JSON.stringify(this.Cuentas_Contables));\r\n\r\n    this.http.post(environment.ruta+'php/contabilidad/notascontables/guardar_nota.php', datos).subscribe((data:any)=>{\r\n\r\n      this.confirmacionSwal.title =data.titulo;\r\n      this.confirmacionSwal.text = data.mensaje;\r\n      this.confirmacionSwal.icon = data.tipo;\r\n      this.confirmacionSwal.fire();\r\n\r\n      if (data.tipo == 'success' && data.id != undefined) {\r\n        if (tipo == 'Pcga') {\r\n          window.open(environment.ruta+'php/contabilidad/notascontables/descarga_pdf.php?id='+data.id,'_blank'); // SE IMPRIME EN FORMATO PCGA\r\n        } else {\r\n          window.open(environment.ruta+'php/contabilidad/notascontables/descarga_pdf.php?id='+data.id+'&tipo=Niif','_blank'); // SE IMPRIME EN FORMATO NIIF\r\n        }\r\n        setTimeout(() => {\r\n\r\n          this.router.navigate(['/contabilidad/comprobantes/notas-contables']);\r\n        }, 1000);\r\n      }\r\n\r\n    }, error => {\r\n      this.confirmacionSwal.text = \"Ha ocurrido un error inesperado, la conexión a fallado.\";\r\n      this.confirmacionSwal.title = \"Oops!\";\r\n      this.confirmacionSwal.icon = \"error\";\r\n      this.confirmacionSwal.fire();\r\n    });\r\n\r\n  }\r\n\r\n  HomologoDebCred(tipo, pos) {\r\n\r\n    switch (tipo) {\r\n      case 'Debito':\r\n\r\n        this.Cuentas_Contables[pos].Deb_Niif = this.Cuentas_Contables[pos].Debito;\r\n        break;\r\n\r\n      case 'Credito':\r\n\r\n        this.Cuentas_Contables[pos].Cred_Niif = this.Cuentas_Contables[pos].Credito;\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  ListarRetenciones() {\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/lista_retenciones.php').subscribe((data:any)=>{\r\n      this.ListaRetenciones = data;\r\n    })\r\n\r\n  }\r\n\r\n  calcularBase(pos, valor) {\r\n\r\n    if (valor != '') {\r\n\r\n      this.Cuentas_Contables[pos].Credito = Math.round(parseFloat(valor) * (parseFloat(this.Cuentas_Contables[pos].Porcentaje)/100));\r\n      this.Cuentas_Contables[pos].Cred_Niif = Math.round(parseFloat(valor) * (parseFloat(this.Cuentas_Contables[pos].Porcentaje)/100));\r\n\r\n    } else {\r\n      this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n    }\r\n\r\n    this.ActualizaValores();\r\n\r\n  }\r\n\r\n  fechaHoy(){\r\n    let fecha:any = new Date();\r\n    fecha = (fecha.toISOString()).split('T')[0];\r\n\r\n    return fecha\r\n  }\r\n\r\n  getCodigoNuevaNota(fecha?:string) {\r\n    let datos:any = {};\r\n\r\n    if (fecha != undefined && fecha != null) {\r\n      datos.Fecha = fecha;\r\n    }\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/notascontables/get_codigo.php', {params: datos}).subscribe((data:any) => {\r\n      this.datosCabecera.Codigo = data.consecutivo;\r\n      this.Codigo = data.consecutivo;\r\n    })\r\n  }\r\n\r\n  validarDebCred(pos:number, campo:string) {\r\n    if (campo === 'Credito') {\r\n\r\n      if (this.Cuentas_Contables[pos].Cred_Niif.toString() == '' || this.Cuentas_Contables[pos].Credito == null ||\r\n       this.Cuentas_Contables[pos].Cred_Niif.toString() == '' || this.Cuentas_Contables[pos].Cred_Niif == null) {\r\n        this.Cuentas_Contables[pos].Credito = 0;\r\n        this.Cuentas_Contables[pos].Cred_Niif = 0;\r\n\r\n        this.ActualizaValores();\r\n      }\r\n    } else {\r\n      if (this.Cuentas_Contables[pos].Debito.toString() == '' || this.Cuentas_Contables[pos].Debito == null ||\r\n       this.Cuentas_Contables[pos].Deb_Niif.toString() == '' || this.Cuentas_Contables[pos].Deb_Niif == null) {\r\n        this.Cuentas_Contables[pos].Debito = 0;\r\n        this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n\r\n        this.ActualizaValores();\r\n      }\r\n    }\r\n  }\r\n\r\n  showFacturas(nit:any, pos) {\r\n    if (nit != undefined && nit != '' && nit != null) {\r\n      this.position_document = pos;\r\n      let p:any = {nit: nit, fecha:this.Fecha_Nota_Contable};\r\n      let id_plan_cuenta = this.Cuentas_Contables[pos].Id_Plan_Cuentas;\r\n\r\n      if (id_plan_cuenta != '') {\r\n        p.id_plan_cuenta = id_plan_cuenta;\r\n      }\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascontables/lista_facturas.php',{params: p}).subscribe((data: any) => {\r\n        this.Lista_Facturas = data.Facturas;\r\n        this.Mostrar_Facturas = true;\r\n\r\n        setTimeout(() => {\r\n          this.calcularTotalAbonoCartera();\r\n        }, 200);\r\n      });\r\n    }\r\n  }\r\n\r\n  addListInvoice(factura, pos) {\r\n    let existe = this.Facturas.findIndex(fact => fact.Factura === factura.Factura);\r\n\r\n    if (existe < 0) {\r\n      this.Lista_Facturas[pos].Abono = this.Lista_Facturas[pos].Valor_Saldo;\r\n      let factura = this.Lista_Facturas[pos];\r\n      this.Facturas.push(factura);\r\n    } else {\r\n      this.Lista_Facturas[pos].Abono = 0;\r\n      this.Facturas.splice(existe, 1);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.calcularTotalAbonoCartera();\r\n    }, 200);\r\n  }\r\n\r\n  addInvoicesToAccount() {\r\n    let nit = this.Cuentas_Contables[this.position_document].Nit_Cuenta;\r\n    this.Cuentas_Contables.splice(this.position_document, 1); // Eliminando una fila para introducir las nuevas cuentas.\r\n    let count = this.Cuentas_Contables.length; // Total de filas de las cuentas.\r\n\r\n    if (this.Cuentas_Contables[(count-1)] != undefined) {\r\n      if (this.Cuentas_Contables[(count-1)].Nit_Cuenta == undefined || this.Cuentas_Contables[(count-1)].Nit_Cuenta == '') {\r\n        this.Cuentas_Contables.splice((count-1), 1); // Eliminando ultima fila.\r\n\r\n      }\r\n    }\r\n\r\n    this.Facturas.forEach(f => {\r\n      // let plan_cuenta = this.obtenerPlanPorTipo(f.Tipo_Factura);\r\n      let object = {\r\n        Centro_Costo: this.Nom_Centro_Costo,\r\n        Id_Centro_Costo: this.Nom_Centro_Costo.Id_Centro_Costo,\r\n        Cuenta: this.obtenerPlanCuenta(f.Codigo),\r\n        Id_Plan_Cuentas: f.Id_Plan_Cuenta,\r\n        Nit: this.getDatosTercero(nit),\r\n        Nit_Cuenta: nit,\r\n        Tipo_Nit: this.getDatosTercero(nit).Tipo,\r\n        Documento: f.Factura,\r\n        Concepto: 'Pago o Abono Factura Nro. '+ f.Factura,\r\n        Base: 0,\r\n        Debito: this.validarDebeOHaber('D', f.Movimiento, f.Abono),\r\n        Credito: this.validarDebeOHaber('C', f.Movimiento, f.Abono),\r\n        Deb_Niif: this.validarDebeOHaber('D', f.Movimiento, f.Abono),\r\n        Cred_Niif: this.validarDebeOHaber('C', f.Movimiento, f.Abono)\r\n      };\r\n\r\n      this.Cuentas_Contables.push(object); // Agregando nueva(s) fila(s)\r\n    });\r\n\r\n    this.Cuentas_Contables.push({ // La ultima fila vacía.\r\n      Cuenta: '',\r\n      Nit: '',\r\n      Centro_Costo: '',\r\n      Documento: '',\r\n      Concepto: '',\r\n      Base: 0,\r\n      Debito: 0,\r\n      Credito: 0,\r\n      Deb_Niif: 0,\r\n      Cred_Niif: 0\r\n    });\r\n\r\n    this.Mostrar_Facturas = false;\r\n    this.Facturas = [];\r\n    this.Lista_Facturas = [];\r\n    this.Total_Abono = 0;\r\n\r\n    setTimeout(() => { // Para actualizar los totales\r\n      this.ActualizaValores();\r\n      this.armarDatosBorrador();\r\n    }, 200);\r\n\r\n  }\r\n\r\n  obtenerPlanPorTipo(tipo) {\r\n    let tipo_facturas = {\r\n      Factura_Venta: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Factura_Nopos: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Nota_Credito: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Debito'\r\n      },\r\n      Factura_Capita: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Factura_Acta: {\r\n        Cuenta: '133005',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Devolucion_Compra: {\r\n        Cuenta: '220501',\r\n        Naturaleza: 'Debito'\r\n      },\r\n      Factura_Proveedor_Mantis: {\r\n        Cuenta: '133005',\r\n        Naturaleza: 'Credito'\r\n      }\r\n    };\r\n\r\n    return tipo_facturas[tipo];\r\n  }\r\n\r\n  obtenerPlanCuenta(codigo:string) {\r\n    return this.Cuenta.find(x => x.Codigo_Cuenta === codigo);\r\n  }\r\n\r\n  validarDebeOHaber(campo:string, tipo:string, valor:number) { // Funcion que me permite validar si el valor que viene de la factura va al Debe o al Haber\r\n    if (campo === tipo) {\r\n      return Math.abs(valor);\r\n    }\r\n    return '0';\r\n  }\r\n\r\n  validarCampo(campo, event, tipo) { // Funcion que validará los campos de typeahead\r\n    if (typeof(campo) != 'object' && campo != '') {\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Incorrecto!',\r\n        text: `El valor ${tipo} no es valido.`\r\n      });\r\n      // this.swalService.ShowMessage(swal);\r\n    }\r\n  }\r\n\r\n  validarSaldoFactura(pos, event) {\r\n    let saldo = parseFloat(this.Lista_Facturas[pos].Valor_Saldo);\r\n    let abono = parseFloat(this.Lista_Facturas[pos].Abono);\r\n\r\n    if (abono > saldo) { // Validando que el abono no pueda ser mayor al saldo de una factura de cartera.\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      Swal.fire({\r\n        icon: 'error',\r\n        title: 'Incorrecto!',\r\n        text: `El valor del abono no puede ser mayor al saldo de la factura.`\r\n      });\r\n      // this.swalService.ShowMessage(swal);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.calcularTotalAbonoCartera()\r\n    }, 200);\r\n  }\r\n\r\n  tab(event,ele) {\r\n\r\n    this._notasContables.tabular(event, ele);\r\n\r\n  }\r\n\r\n  CargarArchivo(event){\r\n    if (event.target.files.length === 1) {\r\n        this.Archivo = event.target.files[0];\r\n        this.EnviarArchivo();\r\n    }\r\n  }\r\n  EnviarArchivo(){\r\n    this.Cargando=true;\r\n    let datos = new FormData();\r\n    datos.append('archivo', this.Archivo);\r\n    this.http.post(environment.ruta + 'php/contabilidad/notascontables/subir_facturas.php', datos).subscribe((data:any)=>{\r\n      this.Cuentas_Contables=data.Facturas;\r\n      this.Datos_Invalidos = this.Cuentas_Contables.some( data => data.Valido == false );\r\n      console.log(   this.Datos_Invalidos , 'INVALIDOS' );\r\n      this.Cargando=false;\r\n      this.Facturas_Multiple = false;\r\n\r\n      setTimeout(() => {\r\n        this.Cuentas_Contables.push({\r\n          Cuenta: '',\r\n          Nit: '',\r\n          Centro_Costo: '',\r\n          Documento: '',\r\n          Concepto: '',\r\n          Base: 0,\r\n          Debito: 0,\r\n          Credito: 0,\r\n          Deb_Niif: 0,\r\n          Cred_Niif: 0\r\n        });\r\n        this.ActualizaValores()\r\n      }, 300);\r\n    }, error => {\r\n      this.Cargando = false;\r\n      Swal.fire({\r\n        icon: 'warning',\r\n        title: 'Oops!',\r\n        text: \"Se perdió la conexión a internet. Por favor vuelve a intentarlo.\"\r\n      });\r\n      // this.swalService.ShowMessage(swal);\r\n    })\r\n  }\r\n\r\n  reloadData() {\r\n    this.http.get(environment.ruta + 'php/contabilidad/notascontables/nit_buscar.php').subscribe((data: any) => {\r\n      this.Cliente = data;\r\n    });\r\n    this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php').subscribe((data: any) => {\r\n      this.Cuenta = data.Activo;\r\n    });\r\n    this.http.get(environment.ruta + 'php/contabilidad/notascontables/centrocosto_buscar.php').subscribe((data: any) => {\r\n      this.Centros = data;\r\n    });\r\n\r\n  }\r\n\r\n  armarDatosBorrador() {\r\n    let datosCabecera = {\r\n      Fecha: this.Fecha_Nota_Contable,\r\n      Beneficiario: this.Nom_Cliente,\r\n      Id_Cliente: this.Id_Cliente,\r\n      Tipo_Beneficiario: this.Tipo_Beneficiario,\r\n      Nom_Centro_Costo: this.Nom_Centro_Costo,\r\n      Centro_Costo: this.Centro_Costo,\r\n      Documento: this.Documento,\r\n      Concepto: this.Concepto,\r\n    };\r\n\r\n    let Datos = {\r\n      Cabecera: datosCabecera,\r\n      Cuentas_Contables: this.Cuentas_Contables\r\n    };\r\n\r\n    setTimeout(() => {\r\n      let datosBorrador = {\r\n        Id_Borrador_Contabilidad: this.idBorrador,\r\n        Codigo: this.Codigo,\r\n        Tipo_Comprobante: 'Nota Contable',\r\n        // Identificacion_Funcionario: this.Funcionario.Identificacion_Funcionario,\r\n        Datos: Datos\r\n      }\r\n\r\n      let info = this._general.Utf8.encode(JSON.stringify(datosBorrador));\r\n\r\n      let datos = new FormData();\r\n      datos.append('datos', info);\r\n\r\n      this.http.post(environment.ruta+'php/contabilidad/guardar_borrador_contable.php', datos)\r\n      .subscribe((data:any) => {\r\n        if (data.status == 202) {\r\n          if (this.idBorrador == '')\r\n            this.idBorrador = data.Id_Borrador;\r\n        }\r\n      });\r\n\r\n    }, 300);\r\n  }\r\n\r\n  setDatosBorrador(data = null) {\r\n\r\n    if (data == 'clean') {\r\n      this.resetModel(); // Reinicilizar Campos.\r\n    } else {\r\n      let Datos = JSON.parse(data.Datos);\r\n      this.Fecha_Nota_Contable = Datos.Cabecera.Fecha;\r\n      this.Nom_Cliente = Datos.Cabecera.Beneficiario;\r\n      this.Id_Cliente = Datos.Cabecera.Id_Cliente;\r\n      this.Tipo_Beneficiario = Datos.Cabecera.Tipo_Beneficiario;\r\n      this.Nom_Centro_Costo = Datos.Cabecera.Nom_Centro_Costo;\r\n      this.Centro_Costo = Datos.Cabecera.Centro_Costo;\r\n      this.Documento = Datos.Cabecera.Documento;\r\n      this.Concepto = Datos.Cabecera.Concepto;\r\n      this.Cuentas_Contables = Datos.Cuentas_Contables;\r\n      this.datosCabecera.Codigo = data.Codigo;\r\n      this.idBorrador = data.ID;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores();\r\n    }, 200);\r\n  }\r\n\r\n  resetModel() {\r\n    this.Fecha_Nota_Contable = this.fechaHoy();\r\n      this.Nom_Cliente = '';\r\n      this.Id_Cliente = '';\r\n      this.Nom_Centro_Costo = '';\r\n      this.Centro_Costo = '';\r\n      this.Documento = '';\r\n      this.Concepto = '';\r\n\r\n      this.Cuentas_Contables = [{\r\n        Cuenta: '',\r\n        Nit: '',\r\n        Centro_Costo: '',\r\n        Documento: '',\r\n        Concepto: '',\r\n        Base: 0,\r\n        Debito: 0,\r\n        Credito: 0,\r\n        Deb_Niif: 0,\r\n        Cred_Niif: 0\r\n      }];\r\n\r\n      this.datosCabecera.Codigo = this.getCodigoNuevaNota();\r\n  }\r\n\r\n  calcularTotalAbonoCartera() {\r\n    this.Total_Abono = this.Lista_Facturas.reduce(this.reducer_abono,0);\r\n  }\r\n\r\n}\r\n","<div class=\"page-body\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12 col-md-12 col-md-offset-4\">\r\n\r\n            <div class=\"card\">\r\n\r\n                <app-cabecera [datosCabecera]=\"datosCabecera\"></app-cabecera>\r\n                <!-- Layout de Cabecera. -->\r\n\r\n                <div class=\"card-body\" style=\"padding-bottom: 0px;\">\r\n                    <form #FormNotaContable=\"ngForm\">\r\n                        <input type=\"hidden\" name=\"Id_Borrador\" [(ngModel)]=\"idBorrador\">\r\n                        <div class=\"row invoive-info\" style=\"margin-bottom: 0; padding-bottom: 0px;\">\r\n                        <input type=\"hidden\" name=\"Id_Empresa\" [(ngModel)]=\"Id_Empresa\">\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Fecha</label>\r\n                                    <input type=\"date\" name=\"Fecha_Documento\" id=\"Fecha_Nota_Contable\" [(ngModel)]=\"Fecha_Nota_Contable\" class=\"form-control form-control-sm tab\" (keyup)=\"tab($event,'Cliente')\" (change)=\"getCodigoNuevaNota($event.target.value)\" required>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class=\"col-md-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Beneficiario Documento</label>\r\n                                    <input [(ngModel)]=\"Nom_Cliente\" type=\"text\" name=\"Cliente\" id=\"Cliente\" class=\"form-control form-control-sm f-9 tab\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter\" (ngModelChange)=\"BuscarDatosCliente(Nom_Cliente)\" (keyup)=\"tab($event,'Centro_Costo')\"\r\n                                        (blur)=\"validarCampo(Nom_Cliente,$event,'Beneficiario')\" />\r\n                                    <input hidden [(ngModel)]=\"Id_Cliente\" name=\"Beneficiario\" id=\"Beneficiario\" class=\"form-control form-control-sm \" required>\r\n                                    <input hidden [(ngModel)]=\"Tipo_Beneficiario\" name=\"Tipo_Beneficiario\" id=\"Tipo_Beneficiario\" class=\"form-control form-control-sm \" required>\r\n                                    <!-- <input hidden [(ngModel)]=\"Funcionario.Identificacion_Funcionario\" name=\"Identificacion_Funcionario\" id=\"Id_Funcionario\" class=\"form-control form-control-sm \" required> -->\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-4\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"Centro_Costo\">Centro Costo</label>\r\n                                    <input [(ngModel)]=\"Nom_Centro_Costo\" type=\"text\" name=\"Nom_Centro_Costo\" id=\"Centro_Costo\" class=\"form-control form-control-sm f-9 tab\" [ngbTypeahead]=\"search2\" [resultTemplate]=\"rt2\" [inputFormatter]=\"formatter2\" (ngModelChange)=\"BuscarDatosCentro(Nom_Centro_Costo)\"\r\n                                        (keyup)=\"tab($event,'Documento')\" (blur)=\"validarCampo(Nom_Centro_Costo,$event,'Centro de Costo')\" />\r\n                                    <input type=\"hidden\" name=\"Id_Centro_Costo\" [(ngModel)]=\"Centro_Costo\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Documento</label>\r\n                                    <input type=\"text\" name=\"Documento\" id=\"Documento\" (keyup)=\"tab($event,'Concepto')\" [(ngModel)]=\"Documento\" class=\"form-control form-control-sm\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Concepto</label>\r\n                                    <textarea name=\"Concepto\" id=\"Concepto\" class=\"form-control\" (keyup)=\"tab($event,'Cuenta0')\" [(ngModel)]=\"Concepto\" rows=\"3\"></textarea>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <!-- Componente para listar los borradores de los comprobantes contables. -->\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"borrador\">Borradores</label>\r\n                                    <app-borradorcomprobantes [Tipo_Comprobante]=\"Tipo_Comprobante\" (Borrador)=\"setDatosBorrador($event)\"></app-borradorcomprobantes>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div *ngIf=\"Mostrar_Facturas\" class=\"row\">\r\n                        <div class=\"col-md-12 text-center\">\r\n                            <h6>Facturas</h6>\r\n                        </div>\r\n                        <div class=\"col-sm-12\">\r\n\r\n                            <table class=\"table  invoice-detail-table tabla\">\r\n                                <thead>\r\n                                    <tr class=\"thead-default\">\r\n                                        <th style=\"width:25px\"></th>\r\n                                        <th style=\"width:50px;\">Cuenta</th>\r\n                                        <th style=\"width:50px;\">Fecha</th>\r\n                                        <th style=\"width:60px;\">Documento</th>\r\n                                        <th style=\"width:80px; text-align: right\">Vlr. Factura </th>\r\n                                        <th style=\"width:80px; text-align: right\">Vlr. Abono </th>\r\n                                        <th style=\"width:80px; text-align: right\">Vlr. Saldo</th>\r\n                                        <th style=\"width:80px; text-align: right\">Abono</th>\r\n                                        <th style=\"width:20px;\">Nat</th>\r\n                                        <th style=\"width:60px; text-align: right\">Movimiento Debito</th>\r\n                                        <th style=\"width:60px; text-align: right\">Movimiento_Credito</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngIf=\"Lista_Facturas.length == 0 && !Cargando\">\r\n                                        <td colspan=\"11\">\r\n                                            <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n                                            <h4>No Existen Facturas para mostrar</h4>\r\n\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr *ngFor=\"let item of Lista_Facturas; let i = index\" id=\"fila{{i}}\">\r\n                                        <td style=\"width:25px\" class=\"text-center\">\r\n                                            <input type=\"checkbox\" name=\"Factura{{i}}\" id=\"Factura{{i}}\" (change)=\"addListInvoice(item, i)\">\r\n                                        </td>\r\n                                        <td style=\"width:50px;\">{{item.Codigo}}</td>\r\n                                        <td style=\"width:50px;\">{{item.Fecha }} </td>\r\n                                        <td style=\"width:60px;\">{{ item.Factura }} </td>\r\n                                        <td style=\"width:80px; text-align: right\">{{item.Valor_Factura |currency}} </td>\r\n                                        <td style=\"width:80px; text-align: right\">{{item.Valor_Abono |currency}} </td>\r\n                                        <td style=\"width:80px; text-align: right\">{{item.Valor_Saldo | currency }} </td>\r\n                                        <td style=\"width:80px; text-align: right\">\r\n                                            <input type=\"number\" name=\"abono{{i}}\" id=\"abono{{i}}\" [(ngModel)]=\"item.Abono\" (blur)=\"armarDatosBorrador();validarSaldoFactura(i,$event)\">\r\n                                        </td>\r\n                                        <td style=\"width:20px;\">{{item.Nat }} </td>\r\n                                        <td style=\"width:60px; text-align: right\">{{item.Movimiento_Debito |currency}} </td>\r\n                                        <td style=\"width:60px; text-align: right\">{{item.Movimiento_Credito |currency}} </td>\r\n                                    </tr>\r\n                                    <tr *ngIf=\"Lista_Facturas.length > 0\">\r\n                                        <td colspan=\"7\"></td>\r\n                                        <td style=\"width:80px; text-align: right\">\r\n                                            <b>Total: {{ Total_Abono | currency }}</b>\r\n                                        </td>\r\n                                        <td colspan=\"3\"></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                            <button class=\"btn btn-info btn-sm pull-left\" (click)=\"addInvoicesToAccount()\">Confirmar</button>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr>\r\n\r\n                    <div *ngIf=\"!Cargando\" class=\"row m-t-10\">\r\n                        <div class=\"col-md-12\">\r\n                            <button class=\"btn btn-link btn-sm pull-right\" title=\"Recargar datos iniciales (Terceros, PUC, Centros Costos)\" (click)=\"reloadData()\"><i class=\"fa fa-refresh\"></i> Recargar</button>\r\n                            <div style=\"display:inline-block;margin-top: 14px;\" class=\"pull-right\">\r\n                                <label style=\"cursor: pointer;\" for=\"Facturas_Masivas\" class=\"f-10\">\r\n                                    <span style=\"text-decoration: underline\"><i class=\"fa fa-upload\"></i> Cargar facturas</span>\r\n                                </label>\r\n\r\n                                <input type=\"file\" id=\"Facturas_Masivas\" ngModel accept=\"application/vnd.ms-excel\" data-max-size=\"2048\" name=\"Facturas_Masivas\" class=\"form-control form-control-sm\" (change)=\"CargarArchivo($event)\" style=\"display: none\">\r\n                            </div>\r\n                            <table class=\"table  invoice-detail-table tabla\">\r\n                                <thead>\r\n                                    <tr class=\"thead-default\">\r\n\r\n                                        <th style=\"width:200px\">Cuenta</th>\r\n                                        <th>Nit</th>\r\n                                        <th>Centro Costo</th>\r\n                                        <th>Documento</th>\r\n                                        <th>Concepto</th>\r\n                                        <th>Base</th>\r\n                                        <th>Debito</th>\r\n                                        <th>Credito</th>\r\n                                        <th>Deb Niif</th>\r\n                                        <th>Cred Niif</th>\r\n                                        <th></th>\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let item of Cuentas_Contables; let i = index\" id=\"fila{{i}}\" [ngClass]=\"{'bg-danger': item.Valido === false}\">\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" [(ngModel)]=\"item.Cuenta\" type=\"text\" name=\"Cuenta\" id=\"Cuenta{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt1\" [inputFormatter]=\"formatter1\"\r\n                                                (ngModelChange)=\"BuscarCuenta(item.Cuenta, i)\" (keyup)=\"tab($event,'Nit'+i)\" (blur)=\"armarDatosBorrador();validarCampo(item.Cuenta,$event,'Cuenta')\" [required]=\"(Cuentas_Contables.length-1) != i\" />\r\n\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Cuenta.Nombre }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td>\r\n                                            <input *ngIf=\"Facturas_Multiple\" [(ngModel)]=\"item.Nit\" type=\"text\" name=\"Nit{{i}}\" id=\"Nit{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter\" (keyup)=\"tab($event,'Centro_Costo'+i)\"\r\n                                                (ngModelChange)=\"BuscarDatosCliente(item.Nit, i)\" (blur)=\"armarDatosBorrador();validarCampo(item.Nit,$event,'Nit')\" />\r\n\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Nit.Nombre }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td>\r\n                                            <input *ngIf=\"Facturas_Multiple\" [(ngModel)]=\"item.Centro_Costo\" type=\"text\" name=\"Centro_Costo{{i}}\" id=\"Centro_Costo{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search2\" [resultTemplate]=\"rt2\" [inputFormatter]=\"formatter2\" (ngModelChange)=\"BuscarDatosCentro(item.Centro_Costo, i)\"\r\n                                                (keyup)=\"tab($event,'Documento'+i)\" (blur)=\"armarDatosBorrador();validarCampo(item.Centro_Costo,$event,'Centro de Costo')\" />\r\n\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\">{{ item.Centro_Costo.Nombre }}</span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td>\r\n                                            <input *ngIf=\"Facturas_Multiple\" name=\"Documento{{i}}\" id=\"Documento{{i}}\" (keyup)=\"tab($event,'Concepto'+i)\" [(ngModel)]=\"item.Documento\" (blur)=\"armarDatosBorrador()\" class=\"form-control form-control-sm text-right input-document\" type=\"text\">\r\n                                            <a *ngIf=\"Facturas_Multiple\" href=\"javascript:;\" (click)=\"showFacturas(item.Nit_Cuenta, i)\">\r\n                                                <i style=\"font-weight: bold\" class=\"fa fa-search\"></i>\r\n                                            </a>\r\n\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Documento }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" name=\"Concepto{{i}}\" id=\"Concepto{{i}}\" (keyup)=\"tab($event,'Base'+i)\" [(ngModel)]=\"item.Concepto\" (blur)=\"armarDatosBorrador()\" class=\"form-control form-control-sm\">\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\">{{ item.Concepto  }}</span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" name=\"Base{{i}}\" id=\"Base{{i}}\" (keyup)=\"tab($event,'Debito'+i)\" (change)=\"calcularBase(i, $event.target.value)\" (blur)=\"armarDatosBorrador()\" [(ngModel)]=\"item.Base\" class=\"form-control form-control-sm text-right\"\r\n                                                readonly>\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Base | currency }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" name=\"Debito{{i}}\" id=\"Debito{{i}}\" min=\"0\" (keyup)=\"tab($event,'Credito'+i)\" (change)=\"ActualizaValores(i);validarDebCred(i)\" (blur)=\"armarDatosBorrador()\" [(ngModel)]=\"item.Debito\"\r\n                                                class=\"form-control form-control-sm text-right\" type=\"number\">\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Debito | currency }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" name=\"Credito{{i}}\" id=\"Credito{{i}}\" min=\"0\" (keyup)=\"tab($event,'Deb_Niif'+i)\" (change)=\"ActualizaValores(i);validarDebCred(i)\" (blur)=\"armarDatosBorrador()\" [(ngModel)]=\"item.Credito\"\r\n                                                class=\"form-control form-control-sm text-right\" type=\"number\">\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Credito | currency }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" name=\"Deb_Niif{{i}}\" id=\"Deb_Niif{{i}}\" min=\"0\" (keyup)=\"tab($event,'Cred_Niif'+i)\" (change)=\"ActualizaValores(i,false);validarDebCred(i)\" (blur)=\"armarDatosBorrador()\" [(ngModel)]=\"item.Deb_Niif\"\r\n                                                class=\"form-control form-control-sm text-right\" type=\"number\">\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Deb_Niif | currency }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td><input *ngIf=\"Facturas_Multiple\" name=\"Cred_Niif{{i}}\" id=\"Cred_Niif{{i}}\" min=\"0\" (keyup)=\"tab($event,'Cuenta'+(i+1))\" (change)=\"ActualizaValores(i,false);validarDebCred(i)\" (blur)=\"armarDatosBorrador()\" [(ngModel)]=\"item.Cred_Niif\"\r\n                                                class=\"form-control form-control-sm text-right\" type=\"number\">\r\n\r\n                                            <span *ngIf=\"!Facturas_Multiple\"> {{ item.Cred_Niif | currency }} </span>\r\n                                            <!-- Solo se muestra cuando se suben datos desde la carga masiva de facturas -->\r\n                                        </td>\r\n                                        <td class=\"text-center\">\r\n                                            <a *ngIf=\"(Cuentas_Contables.length-1) != i\" href=\"javascript:;\" (click)=\"EliminarCuenta(i);armarDatosBorrador()\">\r\n                                                <span>\r\n                                    <i class=\"fa fa-trash-o\"  [ngClass]=\"{'text-white': item.Valido === false,  'text-danger': item.Valido != false  }\"></i>\r\n                                  </span>\r\n                                            </a>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"Cargando\" class=\"row\">\r\n                        <div class=\"col-md-12 text-center\">\r\n                            <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n                            <span class=\"sr-only\">Cargando...</span>\r\n                            <h4>Cargando Facturas...</h4>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <table class=\"table table-responsive invoice-table invoice-total\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th>Total Debito:</th>\r\n                                        <td>{{ Total_Debito | currency }}</td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th>Total Credito:</th>\r\n                                        <td>{{ Total_Credito | currency }}</td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th>Total Debito NIFF:</th>\r\n                                        <td>{{ Total_Debito_Niif | currency }}</td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th>Total Credito NIFF:</th>\r\n                                        <td>{{ Total_Credito_Niif | currency }}</td>\r\n                                    </tr>\r\n\r\n\r\n                                    <tr>\r\n                                        <th>Diferencia:</th>\r\n                                        <td>{{ (Total_Debito-Total_Credito) | currency }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Diferencia NIFF:</th>\r\n                                        <td>{{ (Total_Debito_Niif-Total_Credito_Niif) | currency }}</td>\r\n                                    </tr>\r\n                                    <!-- <tr>\r\n                                        <th>Datos_Invalidos</th>\r\n                                        <td>{{ Datos_Invalidos }} - {{( ( Total_Debito != Total_Credito ) || ( Total_Debito_Niif != Total_Credito_Niif ) || Datos_Invalidos )}}</td>\r\n\r\n                                    </tr> -->\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-8\"></div>\r\n                <div class=\"col-md-2 botonFlotante1\">\r\n                    <button [routerLink]=\"['/contabilidad/comprobantes/notas-contables']\" type=\"button\" class=\"btn btn-success btn-block btn-enviar \">\r\n                  Volver\r\n              </button>\r\n                </div>\r\n                <div class=\"col-md-2 botonFlotante\">\r\n                    <button type=\"button\" class=\"btn btn-success btn-block btn-enviar\" [swal]=\"confirmacionGuardar\">\r\n                  Guardar\r\n              </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\"><strong>{{ r.Nombre }}</strong>\r\n  </span>\r\n</ng-template>\r\n<swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n\r\n<swal #confirmacionGuardar [swalOptions]=\"alertOption\"></swal>\r\n\r\n\r\n<ng-template #rt1 let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\">{{ r.Codigo }} </span>\r\n</ng-template>\r\n\r\n<ng-template #rt2 let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport { SweetAlertOptions } from 'sweetalert2';\r\nimport swal from 'sweetalert2';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SwalService } from '../../../ajustes/informacion-base/services/swal.service';\r\nimport { Location } from '@angular/common';\r\nimport { environment } from 'src/environments/environment';\r\nimport { CentroCostosService } from '../../centro-costos/centro-costos.service';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\nimport { MatAccordion } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { DateAdapter } from 'saturn-datepicker';\r\n\r\n@Component({\r\n  selector: 'app-notas-contables',\r\n  templateUrl: './notas-contables.component.html',\r\n  styleUrls: ['./notas-contables.component.scss'],\r\n})\r\nexport class NotasContablesComponent implements OnInit {\r\n  datePipe = new DatePipe('es-CO');\r\n  date: { year: number; month: number };\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  matPanel = false;\r\n  openClose() {\r\n    if (this.matPanel == false) {\r\n      this.accordion.openAll();\r\n      this.matPanel = true;\r\n    } else {\r\n      this.accordion.closeAll();\r\n      this.matPanel = false;\r\n    }\r\n  }\r\n  public NotasContables: any = [];\r\n  public Cargando: boolean = true;\r\n  public maxSize = 20;\r\n  public TotalItems: number;\r\n  public page = 1;\r\n  public filtros = {\r\n    codigo: '',\r\n    fechas: '',\r\n    tercero: '',\r\n    estado: '',\r\n  };\r\n  public filtro_fecha: any = '';\r\n  public company_id: any = '';\r\n  myDateRangePickerOptions: IMyDrpOptions = {\r\n    width: '200px',\r\n    height: '21px',\r\n    selectBeginDateTxt: 'Inicio',\r\n    selectEndDateTxt: 'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n  IdDocumento: string = '';\r\n  envirom: any;\r\n  // id_funcionario: any = JSON.parse(localStorage.getItem('User')).Identificacion_Funcionario;\r\n  alertOption: SweetAlertOptions;\r\n  // perfilUsuario:any = localStorage.getItem('miPerfil');\r\n  companies: any[] = [];\r\n  constructor(\r\n    private http: HttpClient,\r\n    private route: ActivatedRoute,\r\n    private location: Location,\r\n    private swalService: SwalService,\r\n    private _company: CentroCostosService,\r\n    private _user: UserService,\r\n    private dateAdapter: DateAdapter<any>\r\n  ) {\r\n    this.dateAdapter.setLocale('es');\r\n    this.alertOption = {\r\n      title: '¿Está Seguro?',\r\n      text: 'Se dispone a Anular este Documento',\r\n      showCancelButton: true,\r\n      cancelButtonText: 'No, Dejame Comprobar!',\r\n      confirmButtonText: 'Si, Anular',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'warning',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          this.anularDocumento();\r\n        });\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading(),\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ListarNotasContables();\r\n    this.envirom = environment;\r\n    this.company_id = this._user.user.person.company_worked.id;\r\n  }\r\n\r\n  ListarNotasContables() {\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n          'php/contabilidad/notascontables/lista_notas_contables.php',\r\n        { params: { company_id: this._user.user.person.company_worked.id } }\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.NotasContables = data.Notas;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n  }\r\n\r\n  dateRangeChanged(event) {\r\n    if (event.formatted != '') {\r\n      this.filtros.fechas = event.formatted;\r\n    } else {\r\n      this.filtros.fechas = '';\r\n    }\r\n\r\n    this.filtrar();\r\n  }\r\n  selectedDate(fecha) {\r\n    this.filtros.fechas =\r\n      this.datePipe.transform(fecha.value.begin._d, 'yyyy-MM-dd') +\r\n      ' - ' +\r\n      this.datePipe.transform(fecha.value.end._d, 'yyyy-MM-dd');\r\n    this.filtrar();\r\n  }\r\n  getStrConditions(pagination = false) {\r\n    let params: any = {};\r\n\r\n    if (this.filtros.codigo != '') {\r\n      params.cod = this.filtros.codigo;\r\n    }\r\n    if (this.filtros.tercero != '') {\r\n      params.tercero = this.filtros.tercero;\r\n    }\r\n    if (this.filtros.fechas != '') {\r\n      params.fecha = this.filtros.fechas;\r\n    }\r\n    if (this.filtros.estado != '') {\r\n      params.est = this.filtros.estado;\r\n    }\r\n    if (pagination) {\r\n      params.pag = this.page;\r\n    } else {\r\n      this.page = 1;\r\n    }\r\n\r\n    let queryString = Object.keys(params)\r\n      .map((key) => key + '=' + params[key])\r\n      .join('&');\r\n\r\n    this.location.replaceState(\r\n      '/contabilidad/comprobantes/notas-contables',\r\n      queryString\r\n    );\r\n\r\n    return queryString;\r\n  }\r\n\r\n  filtrar(pagination = false) {\r\n    let queryString = this.getStrConditions(pagination);\r\n\r\n    this.Cargando = true;\r\n\r\n    this.http\r\n      .get(\r\n        environment.ruta +\r\n          'php/contabilidad/notascontables/lista_notas_contables.php?' +\r\n          queryString\r\n      )\r\n      .subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.NotasContables = data.Notas;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n  }\r\n\r\n  anularDocumento() {\r\n    let datos: any = {\r\n      Id_Registro: this.IdDocumento,\r\n      Tipo: 'Notas_Contables',\r\n      // Identificacion_Funcionario: this.id_funcionario\r\n    };\r\n\r\n    this.AnularDocumentoContable(datos).subscribe(\r\n      (data: any) => {\r\n        let swal = {\r\n          codigo: data.tipo,\r\n          titulo: data.titulo,\r\n          mensaje: data.mensaje,\r\n        };\r\n        this.swalService.ShowMessage(swal);\r\n\r\n        this.ListarNotasContables();\r\n      },\r\n      (error) => {\r\n        let swal = {\r\n          codigo: 'warning',\r\n          titulo: 'Oops!',\r\n          mensaje:\r\n            'Lamentablemente se ha perdido la conexión a internet. Por favor vuelve a intentarlo.',\r\n        };\r\n        this.swalService.ShowMessage(swal);\r\n      }\r\n    );\r\n  }\r\n\r\n  public AnularDocumentoContable(datos) {\r\n    let info = JSON.stringify(datos);\r\n\r\n    let data = new FormData();\r\n    data.append('datos', info);\r\n\r\n    return this.http.post(\r\n      environment.ruta + 'php/contabilidad/anular_documento.php',\r\n      data\r\n    );\r\n  }\r\n}\r\n","<div class=\"card\">\r\n  <div class=\"card-block card-body\">\r\n    <div class=\"card-title d-flex justify-content-between\">\r\n      <h4 class=\"text-primary\">Notas Contables</h4>\r\n      <div class=\"btn-group rounded\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-primary btn-sm\"\r\n          [routerLink]=\"['/contabilidad/comprobantes/crear-nota-contable']\"\r\n          style=\"float: right\"\r\n        >\r\n          <i class=\"fa fa-plus\"></i> Agregar\r\n        </button>\r\n        <button\r\n          class=\"btn btn-info btn-sm\"\r\n          style=\"float: right\"\r\n          (click)=\"openClose()\"\r\n        >\r\n          <i class=\"fas fa-sliders-h\"></i> Filtros\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <mat-accordion multi>\r\n      <mat-expansion-panel class=\"mat-elevation-z0\">\r\n        <mat-form-field appearance=\"outline\" class=\"col-md-3 pl-0\">\r\n          <mat-label>Rango de fechas</mat-label>\r\n          <input\r\n            matInput\r\n            [satDatepicker]=\"picker\"\r\n            [value]=\"date\"\r\n            (dateChange)=\"selectedDate($event)\"\r\n            (dateInput)=\"selectedDate($event)\"\r\n            name=\"daterange\"\r\n            autocomplete=\"off\"\r\n            required\r\n          />\r\n          <sat-datepicker #picker [rangeMode]=\"true\"></sat-datepicker>\r\n          <sat-datepicker-toggle\r\n            matSuffix\r\n            [for]=\"picker\"\r\n          ></sat-datepicker-toggle>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Documento</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por documento\"\r\n            [(ngModel)]=\"filtros.codigo\"\r\n            (input)=\"filtrar()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Beneficiario</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por beneficiario\"\r\n            [(ngModel)]=\"filtros.tercero\"\r\n            (input)=\"filtrar()\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-2\" appearance=\"outline\">\r\n          <mat-label>Estado</mat-label>\r\n          <mat-select\r\n            [(ngModel)]=\"filtros.estado\"\r\n            (selectionChange)=\"filtrar()\"\r\n          >\r\n            <mat-option value=\"\">Todas</mat-option>\r\n            <mat-option value=\"Activo\">Activo</mat-option>\r\n            <mat-option value=\"Anulada\">Anulada</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <!-- <th>\r\n                    <select (change)=\"filtrar()\" name=\"Id_Empresa\" id=\"Id_Empresa\" [(ngModel)]=\"filtros.Id_Empresa\"\r\n                        class=\"form-control input-sm\" placeholder=\"Filtro Empresa\" required>\r\n                        <option *ngFor=\"let item of companies\" [value]=\"item.value\">\r\n                            {{ item.text }}\r\n                        </option>\r\n                    </select>\r\n                </th> -->\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n    <table\r\n      class=\"table table-bordered table-striped table-responsive-sm table-sm\"\r\n      style=\"font-size: small\"\r\n      *ngIf=\"!Cargando && NotasContables.length > 0; else notData\"\r\n    >\r\n      <thead>\r\n        <tr>\r\n          <th>Fecha</th>\r\n          <!-- <th>Empresa</th> -->\r\n          <th>Documento</th>\r\n          <th>Beneficiario</th>\r\n          <th>Concepto</th>\r\n          <th>Total Debito</th>\r\n          <th>Total Credito</th>\r\n          <th>Total Debito NIIF</th>\r\n          <th>Total Credito NIIF</th>\r\n          <th>Funcionario</th>\r\n          <th>Estado</th>\r\n          <th class=\"text-center col-1\">Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          *ngFor=\"let item of NotasContables\"\r\n          [ngClass]=\"{ 'bg-danger': item.Estado == 'Anulada' }\"\r\n        >\r\n          <td>{{ item.Fecha }}</td>\r\n          <!-- <td> {{ item.Empresa }} </td> -->\r\n          <td>{{ item.Codigo }}</td>\r\n          <td>{{ item.Beneficiario }} - {{ item.Tercero }}</td>\r\n          <td>{{ item.Concepto }}</td>\r\n          <td>{{ item.Total_Debe_PCGA | currency }}</td>\r\n          <td>{{ item.Total_Haber_PCGA | currency }}</td>\r\n          <td>{{ item.Total_Debe_NIIF | currency }}</td>\r\n          <td>{{ item.Total_Haber_NIIF | currency }}</td>\r\n          <td>{{ item.Funcionario }}</td>\r\n          <td width=\"60\">\r\n            <span\r\n              *ngIf=\"item.Estado != 'Anulada'\"\r\n              class=\"label label-success\"\r\n              >{{ item.Estado }}</span\r\n            >\r\n          </td>\r\n          <td>\r\n            <div class=\"text-center\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn btn-primary btn-sm waves-effect waves-light\"\r\n                  type=\"button\"\r\n                >\r\n                  <i class=\"mdi mdi-chevron-down\"></i>\r\n                </button>\r\n                <div ngbDropdownMenu>\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      envirom.ruta\r\n                    }}php/contabilidad/notascontables/descarga_pdf.php?id={{\r\n                      item.Id_Documento_Contable\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-print\"></i> Ver PCGA</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      envirom.ruta\r\n                    }}php/contabilidad/notascontables/descarga_pdf.php?id={{\r\n                      item.Id_Documento_Contable\r\n                    }}&tipo=Niif\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-print\"></i> Ver NIIF</a\r\n                  >\r\n                  <a\r\n                    *ngIf=\"item.Estado != 'Anulada' && perfilUsuario == '27'\"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones bg-danger\"\r\n                    href=\"javascript:;\"\r\n                    [swal]=\"confirmacionAnular\"\r\n                    (click)=\"IdDocumento = item.Id_Documento_Contable\"\r\n                  >\r\n                    <i class=\"fa fa-close\"></i> Anular</a\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <small *ngIf=\"TotalItems != 0\" class=\"d-flex justify-content-center\">\r\n      {{ page * maxSize - maxSize + 1 }} al\r\n      {{ page * maxSize > TotalItems ? TotalItems : page * maxSize }} de\r\n      {{ TotalItems }}\r\n    </small>\r\n    <ngb-pagination\r\n      class=\"d-flex justify-content-center pagination-rounded pagination-sm\"\r\n      [(collectionSize)]=\"TotalItems\"\r\n      [(page)]=\"page\"\r\n      [maxSize]=\"10\"\r\n      [pageSize]=\"20\"\r\n      size=\"sm\"\r\n      (pageChange)=\"filtrar(true)\"\r\n      [rotate]=\"true\"\r\n      [boundaryLinks]=\"true\"\r\n    ></ngb-pagination>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"Cargando\"></app-not-data>\r\n</ng-template>\r\n<swal #confirmacionAnular [swalOptions]=\"alertOption\"></swal>\r\n","import { Component, OnInit, EventEmitter, Input, Output } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-borradorcomprobantes',\r\n  templateUrl: './borradorcomprobantes.component.html',\r\n  styleUrls: ['./borradorcomprobantes.component.scss']\r\n})\r\nexport class BorradorcomprobantesComponent implements OnInit {\r\n\r\n  @Input() Tipo_Comprobante:any = '';\r\n  @Output() Borrador: EventEmitter<any> = new EventEmitter();\r\n  // Identificacion_Funcionario: any = JSON.parse(localStorage.getItem('User')).Identificacion_Funcionario;\r\n  borradores:any = [];\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  ngOnInit() {\r\n    this.listaBorradores();\r\n  }\r\n\r\n  listaBorradores() {\r\n    let p:any = {\r\n      Tipo_Comprobante: this.Tipo_Comprobante,\r\n      // Identificacion_Funcionario: this.Identificacion_Funcionario\r\n    };\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/lista_borrador_contable.php',{params: p}).subscribe((data:any) => {\r\n      this.borradores = data;\r\n    })\r\n  }\r\n\r\n  sendDatosBorrador(id_borrador) {\r\n    if (id_borrador != '') {\r\n      this.http.get(environment.ruta+'php/contabilidad/detalles_borrador_contable.php',{params: {id: id_borrador}}).subscribe((data:any) => {\r\n        this.Borrador.emit(data);\r\n      });\r\n    } else {\r\n      this.Borrador.emit('clean');\r\n    }\r\n  }\r\n}\r\n","<select name=\"borrador\" id=\"borrador\" class=\"form-control form-control-sm\" (change)=\"sendDatosBorrador($event.target.value)\">\r\n    <option value=\"\">Ninguno</option>\r\n    <option *ngFor=\"let item of borradores\" [value]=\"item.ID\">{{ item.Title }}</option>\r\n</select>","<table class=\"table\" style=\"max-height:400px;\">\r\n    <thead>\r\n        <tr class=\"thead-default\">\r\n\r\n            <th> Factura</th>\r\n            <th>Total</th>\r\n            <th>Pagado</th>\r\n            <th>Gravado</th>\r\n            <th>Iva</th>\r\n            <th> Excenta</th>\r\n            <th> Por Pagar</th>\r\n            <th>Descuentos</th>\r\n            <th>Mayor a Pagar</th>\r\n            <th>Retenciones </th>\r\n            <th>Valor Recibido </th>\r\n        </tr>\r\n\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let F of Facturas; let i = index\" id=\"fila{{i}}\">\r\n            <td>{{F.Codigo}} </td>\r\n            <td class=\"text-rigth\">{{F.Total_Compra | currency}} </td>\r\n            <td class=\"text-rigth\">{{F.Pagado | currency}} </td>\r\n            <td class=\"text-rigth\">{{F.Gravada | currency}} </td>\r\n            <td class=\"text-rigth\">{{F.Iva | currency}} </td>\r\n            <td class=\"text-rigth\">{{F.Exenta | currency}} </td>\r\n            <td class=\"text-rigth\">{{F.Por_Pagar | currency}} </td>\r\n\r\n            <td>\r\n                <div *ngIf=\"F.DescuentosFactura.length>0\" class=\"row\">\r\n                    <div class=\"col-md-6\"> <label>Cuenta</label></div>\r\n                    <div class=\"col-md-6 text-right\"><label>Valor</label></div>\r\n                </div>\r\n                <div *ngFor=\"let item of F.DescuentosFactura\" class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n\r\n                        {{item.Cuenta}}\r\n\r\n                    </div>\r\n                    <div class=\"col-md-6 text-right\">\r\n\r\n                        {{item.ValorDescuento | currency}}\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td>\r\n                <div class=\"row\" *ngIf=\"F.Cuenta_Mayor_Pagar!=''\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form group\">\r\n                            <label>Cuenta</label> <br> {{F.Cuenta_Mayor_Pagar}}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\">\r\n                            <label>Valor</label> <br> {{F.ValorMayorPagar | currency}}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n                <div *ngIf=\"F.Cuenta_Mayor_Pagar==''\" class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <div class=\"form-group\">\r\n                            <label>Valor</label> <br> {{F.ValorMayorPagar | currency}}\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n            </td>\r\n            <td>\r\n                <div *ngIf=\"F.RetencionesFacturas.length>0\" class=\"row\">\r\n                    <div class=\"col-md-6\"> <label>Cuenta</label></div>\r\n                    <div class=\"col-md-6 text-right\"><label>Valor</label></div>\r\n                </div>\r\n                <div *ngFor=\"let item of F.RetencionesFacturas\" class=\"row\">\r\n                    <div class=\"col-md-6 \">\r\n\r\n                        {{item.Cuenta}}\r\n\r\n                    </div>\r\n                    <div class=\"col-md-6 text-right\">\r\n                        {{item.Valor | currency}}\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td class=\"text-right\">\r\n                {{F.ValorIngresado | currency}}\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n</table>","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-tablafacturascargadas',\r\n  templateUrl: './tablafacturascargadas.component.html',\r\n  styleUrls: ['./tablafacturascargadas.component.scss']\r\n})\r\nexport class TablafacturascargadasComponent implements OnInit {\r\n  @Input() Facturas;\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NotasContablesComponent } from './notas-contables/notas-contables.component';\r\nimport {\r\n  NgbDropdownModule,\r\n  NgbPaginationModule,\r\n  NgbTypeaheadModule,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { CrearNotaContableComponent } from './notas-contables/crear-nota-contable/crear-nota-contable.component';\r\nimport { ComprobantesRoutingModule } from './comprobantes-routing.module';\r\nimport { MyDateRangePickerModule } from 'mydaterangepicker';\r\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\r\nimport { BorradorcomprobantesComponent } from './borradorcomprobantes/borradorcomprobantes.component';\r\nimport { EgresosComponent } from './egresos/egresos.component';\r\nimport { ComprobanteegresovarioscrearComponent } from './egresos/comprobanteegresovarioscrear/comprobanteegresovarioscrear.component';\r\nimport { IngresosComponent } from './ingresos/ingresos.component';\r\nimport { ComprobanteingresocrearComponent } from './ingresos/comprobanteingresocrear/comprobanteingresocrear.component';\r\nimport { TablafacturafaltanteComponent } from './ingresos/comprobanteingresocrear/tablafacturafaltante/tablafacturafaltante.component';\r\nimport { TablafacturascargadasComponent } from './ingresos/comprobanteingresocrear/tablafacturascargadas/tablafacturascargadas.component';\r\nimport { NotasCarterasComponent } from './notas-carteras/notas-carteras.component';\r\nimport { NotascarteracrearComponent } from './notas-carteras/notascarteracrear/notascarteracrear.component';\r\nimport { NotascreditoComponent } from './notascredito/notascredito.component';\r\nimport { NotascreditocrearComponent } from './notascredito/notascreditocrear/notascreditocrear.component';\r\nimport { NotascreditoverComponent } from './notascredito/notascreditover/notascreditover.component';\r\nimport { Globales } from '../globales';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { SatDatepickerModule, SatNativeDateModule } from 'saturn-datepicker';\r\nimport {\r\n  DateAdapter,\r\n  MAT_DATE_FORMATS,\r\n  MAT_DATE_LOCALE,\r\n} from 'saturn-datepicker';\r\nimport {\r\n  MAT_MOMENT_DATE_FORMATS,\r\n  MomentDateAdapter,\r\n} from '@angular/material-moment-adapter';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nexport const MY_FORMATS = {\r\n  parse: {\r\n    dateInput: 'DD/MM/YYYY'\r\n  },\r\n  display: {\r\n    dateInput: 'DD/MM/YYYY',\r\n    monthYearLabel: 'MMM YYYY',\r\n    dateA11yLabel: 'LL',\r\n    monthYearA11yLabel: 'MMMM YYYY'\r\n  }\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NotasContablesComponent,\r\n    CrearNotaContableComponent,\r\n    BorradorcomprobantesComponent,\r\n    EgresosComponent,\r\n    ComprobanteegresovarioscrearComponent,\r\n    IngresosComponent,\r\n    ComprobanteingresocrearComponent,\r\n    TablafacturafaltanteComponent,\r\n    TablafacturascargadasComponent,\r\n    IngresosComponent,\r\n    NotasCarterasComponent,\r\n    NotascarteracrearComponent,\r\n    NotascreditoComponent,\r\n    NotascreditocrearComponent,\r\n    NotascreditoverComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    NgbDropdownModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    NgbPaginationModule,\r\n    NgSelectModule,\r\n    ComponentsModule,\r\n    ComprobantesRoutingModule,\r\n    NgbTypeaheadModule,\r\n    MyDateRangePickerModule,\r\n    MatExpansionModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatDatepickerModule,\r\n    MatNativeDateModule,\r\n    SatDatepickerModule,\r\n    SatNativeDateModule,\r\n    SweetAlert2Module.forRoot(),\r\n  ],\r\n  providers: [\r\n    Globales,\r\n    {\r\n      provide: DateAdapter,\r\n      useClass: MomentDateAdapter,\r\n      deps: [MAT_DATE_LOCALE],\r\n    },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ],\r\n})\r\nexport class ComprobantesModule {}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\nimport swal from 'sweetalert2';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SwalService } from '../../../../ajustes/informacion-base/services/swal.service';\r\nimport { SweetAlertOptions } from 'sweetalert2';\r\nimport { environment } from '../../../../../../environments/environment.prod';\r\nimport { NotasCarterasService } from '../notas-carteras.service';\r\nimport { PlanCuentasService } from '../../../plan-cuentas/plan-cuentas.service';\r\n\r\n@Component({\r\n  selector: 'app-notascarteracrear',\r\n  templateUrl: './notascarteracrear.component.html',\r\n  styleUrls: ['./notascarteracrear.component.scss']\r\n})\r\nexport class NotascarteracrearComponent implements OnInit {\r\n\r\n  public datosCabecera:any = {\r\n    Titulo: 'Nueva Nota Cartera',\r\n    Fecha: new Date(),\r\n    Codigo: ''\r\n  }\r\n  \r\n  public Tipo_Comprobante = 'Nota Cartera';\r\n  public alertOption:SweetAlertOptions = {};\r\n  public Cargando:boolean = false;\r\n  public Mostrar_Facturas:boolean = false;\r\n  public Facturas:any = [];\r\n  public position_document:number;\r\n  public Tipo_Documento:string = '';\r\n\r\n  @ViewChild('FormNotaContable') FormNotaContable: any;\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n  public fecha=new Date();\r\n  public Fecha:any = '';\r\n  public display_Banco:string = 'none';\r\n  public Proveedores:any[]=[];\r\n  public Lista_Facturas:any[]=[{\r\n    RetencionesFactura:[]\r\n  }];\r\n\r\n  public Centro_Costo= '';\r\n  public Nom_Centro_Costo:any= '';\r\n  public Fecha_Nota_Contable=this.fechaHoy();\r\n  public Id_Proveedor: any = '';\r\n  public NombreProveedor: string = '';\r\n  public Nom_Cliente:any;\r\n  public Id_Cliente = '';\r\n  public Cliente = [];\r\n  // public Funcionario=JSON.parse(localStorage.getItem(\"User\"));\r\n  public Cuenta=[];\r\n  public Cuentas: Array<any>;\r\n  public FormaPago:any = [ ];\r\n  public Rentenciones:any[]=[];\r\n  public RentencionesFactura:any[]=[];\r\n  public Cuentas_Contables:any[]=[{\r\n    Cuenta: '',\r\n    Nit: '',\r\n    Centro_Costo: '',\r\n    Documento: '',\r\n    Concepto: '',\r\n    Base: 0,\r\n    Debito: 0,\r\n    Credito: 0,\r\n    Deb_Niif: 0,\r\n    Cred_Niif: 0\r\n  }];\r\n  public Cuenta_Banco='';\r\n  public Costo_Ingreso = 0;\r\n  public Total_Debito:number = 0;\r\n  public Total_Credito:number = 0;\r\n  public Retenciones_Totales =0;\r\n  public Mostrar:boolean=false;\r\n  public Mostrar_Cliente:boolean=false;\r\n  public Impuesto = 0;\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal);\r\n  public reducer_deb = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Debito);\r\n  public reducer_cred = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Credito);\r\n  public reducer_valorp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.ValorIngresado);\r\n  public reducer_abono = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Abono);\r\n  public reducer3 = (accumulator, currentValue) => {\r\n    var acu_iva = 0;\r\n    currentValue.RetencionesFacturas.forEach((v, i)=>{\r\n      \r\n      acu_iva += parseFloat(v.Valor);\r\n    });\r\n    \r\n    return accumulator + acu_iva;\r\n  };\r\n  ListaRetenciones: any = [];\r\n  ListaFact:any = [];\r\n  Total_Facturas: number = 0;\r\n  Mostrar_Opciones: boolean = true;\r\n  Mostrar_Input_Cli: boolean = true;\r\n  Centros: any = [];\r\n  Tipo_Beneficiario: any;\r\n  Documento: string = '';\r\n  Concepto: string = '';\r\n  idBorrador: any = '';\r\n  Codigo: string = '';\r\n  public Total_Abono:number = 0;\r\n  Id_Empresa:any = '';\r\n  companies:any[] = [];\r\n  constructor( \r\n                private route: ActivatedRoute, \r\n                private http: HttpClient, \r\n                private router: Router, \r\n                private swalService: SwalService,\r\n                private _notas: NotasCarterasService,\r\n                private _companies: PlanCuentasService\r\n              ) {\r\n    \r\n    let queryParams = this.route.snapshot.queryParams;\r\n\r\n    \r\n\r\n    if (queryParams.facturas != undefined && queryParams.cliente != undefined) {\r\n      \r\n      this.Id_Cliente = queryParams.cliente;\r\n      this.Cargando = true;\r\n      this.Mostrar_Opciones = false;\r\n      this.Mostrar_Cliente = true;\r\n      this.http.get(environment.ruta + 'php/comprobantes/facturas_seleccionadas_cliente.php',{ params: queryParams }).subscribe((data: any) => {\r\n        this.Mostrar = false;\r\n        this.Cargando = false;\r\n        this.Mostrar_Input_Cli = false;\r\n        \r\n        this.Lista_Facturas = data.Facturas;\r\n        this.Nom_Cliente = data.Cliente.Nombre;\r\n      });\r\n    }\r\n    \r\n    this.http.get(environment.ruta + 'php/contabilidad/proveedor_buscar.php').subscribe((data: any) => {\r\n      this.Proveedores = data;\r\n    });\r\n    this.alertOption = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a Guardar este Comprobante\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Guardar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      icon: 'info',\r\n      input: 'select',\r\n      inputOptions: {\r\n        Pcga: 'Imprimir en PCGA',\r\n        Niif: 'Imprimir en NIIF'\r\n      }, \r\n      preConfirm: (value) => {\r\n        return new Promise((resolve) => {\r\n          this.guardarNotaCartera(this.FormNotaContable, value);\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n  }\r\n  search = (text$: Observable<string>) =>\r\n  text$.pipe(\r\n    debounceTime(200),\r\n    map(term => term.length < 4 ? []\r\n      : this.Cliente.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n  );\r\n    formatter = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 4 ? []\r\n        : this.Cuenta.filter(v => v.Codigo.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n    formatter1 = (x: { Codigo: string }) => x.Codigo;\r\n    \r\n    search2 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 2 ? []\r\n        : this.Centros.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n    formatter2 = (x: { Nombre: string }) => x.Nombre;\r\n\r\n    ngOnInit() {\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascarteras/nit_buscar.php').subscribe((data: any) => {\r\n        this.Cliente = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/cuentas.php').subscribe((data: any) => {\r\n        this.Cuentas = data;\r\n      });\r\n      this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php').subscribe((data: any) => {\r\n        this.Cuenta = data.Activo;        \r\n      });\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascarteras/centrocosto_buscar.php').subscribe((data: any) => {\r\n        this.Centros = data;\r\n      });\r\n\r\n      // this.getCodigoNuevaNota();\r\n\r\n      this.ListarRetenciones();\r\n\r\n    }\r\n  BuscarProveedor(modelo) {\r\n    this.NombreProveedor = modelo.Proveedores;\r\n    this.Id_Proveedor = modelo.Id_Proveedor;\r\n  }\r\n\r\n  BuscarDatosCliente(cliente, pos?) {\r\n\r\n    if (pos != null && pos != undefined) {\r\n      this.Cuentas_Contables[pos].Nit_Cuenta = cliente.ID;\r\n      this.Cuentas_Contables[pos].Tipo_Nit = cliente.Tipo;\r\n    } else {\r\n\r\n      this.Id_Cliente=cliente.ID;\r\n      this.Tipo_Beneficiario = cliente.Tipo;\r\n    }\r\n    \r\n  }\r\n\r\n  getDatosTercero(nit) {\r\n    return this.Cliente.find(x => x.ID == nit);\r\n  }\r\n\r\n  ListasEmpresas(){\r\n    this._companies.getCompanies().subscribe((data:any) => {\r\n      this.companies = data.data;\r\n    })\r\n  }\r\n  \r\n  BuscarDatosCentro(centro, pos?) {\r\n\r\n    if (pos != undefined && pos != null) {\r\n      if (centro == '') {\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = centro;\r\n      } else {\r\n\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = centro.Id_Centro_Costo;\r\n      }\r\n    } else {\r\n      this.Centro_Costo = centro.Id_Centro_Costo;\r\n    }\r\n    \r\n  }\r\n \r\n\r\n  BuscarCuenta(cuenta, pos){\r\n   let pos2=pos+1;\r\n\r\n      if (cuenta.Centro_Costo == 'S') { // Validar si la cuenta es para Centro de costos o no.\r\n        this.Cuentas_Contables[pos].Centro_Costo = this.Nom_Centro_Costo;\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = this.Nom_Centro_Costo.Id_Centro_Costo;\r\n        (document.getElementById('Centro_Costo'+pos) as HTMLInputElement).style.display = 'block';\r\n      } else {\r\n        this.Cuentas_Contables[pos].Centro_Costo = '';\r\n        this.Cuentas_Contables[pos].Id_Centro_Costo = 0;\r\n        (document.getElementById('Centro_Costo'+pos) as HTMLInputElement).style.display = 'none';\r\n      }\r\n\r\n      this.Cuentas_Contables[pos].Id_Plan_Cuentas=cuenta.Id_Plan_Cuentas;\r\n      this.Cuentas_Contables[pos].Documento= this.Documento;\r\n      this.Cuentas_Contables[pos].Concepto= this.Concepto;\r\n\r\n      // Nit Beneficiario\r\n      this.Cuentas_Contables[pos].Nit = this.Nom_Cliente;\r\n      this.Cuentas_Contables[pos].Nit_Cuenta = this.Nom_Cliente.ID;\r\n      this.Cuentas_Contables[pos].Tipo_Nit = this.Nom_Cliente.Tipo;\r\n\r\n      let posicion = this.ListaRetenciones.findIndex(x => x.Id_Plan_Cuenta === cuenta.Id_Plan_Cuentas);\r\n\r\n      if (posicion >= 0) {\r\n        (document.getElementById('Base'+pos) as HTMLInputElement).readOnly = false;\r\n        this.Cuentas_Contables[pos].Porcentaje = this.ListaRetenciones[posicion].Porcentaje;\r\n      }\r\n      \r\n      if(cuenta.Id_Plan_Cuentas){\r\n        if (this.Cuentas_Contables[pos2] == undefined){\r\n          this.Cuentas_Contables.push({\r\n            Cuenta: '',\r\n            Nit: '',\r\n            Centro_Costo: '',\r\n            Documento: '',\r\n            Concepto: '',\r\n            Base: 0,\r\n            Debito: 0,\r\n            Credito: 0,\r\n            Deb_Niif: 0,\r\n            Cred_Niif: 0\r\n          });\r\n        }\r\n      }\r\n  \r\n  }\r\n\r\n \r\n\r\n  ActualizaValores(pos?) {\r\n\r\n    if (pos != null && pos != undefined) {\r\n      this.Cuentas_Contables[pos].Deb_Niif = this.Cuentas_Contables[pos].Debito;\r\n      this.Cuentas_Contables[pos].Cred_Niif = this.Cuentas_Contables[pos].Credito;\r\n    }\r\n    \r\n    this.Total_Credito = this.Cuentas_Contables.reduce(this.reducer_cred, 0);\r\n    this.Total_Debito = this.Cuentas_Contables.reduce(this.reducer_deb, 0);\r\n  }\r\n\r\n  EliminarCuenta(pos){\r\n\r\n    this.Cuentas_Contables.splice(pos,1);\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores();\r\n    }, 100);\r\n    \r\n  }\r\n\r\n  guardarNotaCartera(Formulario:NgForm, tipo) {\r\n\r\n    let info = JSON.stringify(Formulario.value);\r\n\r\n    let datos = new FormData(); \r\n\r\n    datos.append('Datos', info);\r\n    datos.append('Cuentas_Contables', JSON.stringify(this.Cuentas_Contables));\r\n\r\n    this.http.post(environment.ruta+'php/contabilidad/notascarteras/guardar_nota.php', datos).subscribe((data:any)=>{\r\n\r\n      this.confirmacionSwal.title =data.titulo;\r\n      this.confirmacionSwal.text = data.mensaje;\r\n      this.confirmacionSwal.type = data.tipo;\r\n      this.confirmacionSwal.show();\r\n\r\n      if (data.tipo == 'success' && data.id != undefined) {\r\n        localStorage.removeItem('borradorContable');\r\n        if (tipo == 'Pcga') { \r\n          window.open(environment.ruta+'php/contabilidad/notascarteras/descarga_pdf.php?id='+data.id,'_blank'); // SE IMPRIME EN FORMATO PCGA\r\n        } else {\r\n          window.open(environment.ruta+'php/contabilidad/notascarteras/descarga_pdf.php?id='+data.id+'&tipo=Niif','_blank'); // SE IMPRIME EN FORMATO NIIF\r\n        }\r\n        setTimeout(() => {\r\n        \r\n          this.router.navigate(['/comprobante/notascartera']);\r\n        }, 1000);\r\n      }\r\n      \r\n    }, error => {\r\n      this.confirmacionSwal.text = \"Ha ocurrido un error inesperado, la conexión a fallado.\";\r\n      this.confirmacionSwal.title = \"Oops!\";\r\n      this.confirmacionSwal.type = \"error\";\r\n      this.confirmacionSwal.show();\r\n    });\r\n    \r\n  }\r\n\r\n  HomologoDebCred(tipo, pos) {\r\n\r\n    switch (tipo) {\r\n      case 'Debito':\r\n        \r\n        this.Cuentas_Contables[pos].Deb_Niif = this.Cuentas_Contables[pos].Debito;\r\n        break;\r\n    \r\n      case 'Credito':\r\n\r\n        this.Cuentas_Contables[pos].Cred_Niif = this.Cuentas_Contables[pos].Credito;\r\n        break;\r\n    }\r\n    \r\n  }\r\n\r\n  ListarRetenciones() {\r\n\r\n    this.http.get(environment.ruta+'php/contabilidad/lista_retenciones.php').subscribe((data:any)=>{\r\n      this.ListaRetenciones = data;\r\n    })\r\n    \r\n  }\r\n\r\n  calcularBase(pos, valor) {\r\n\r\n    if (valor != '') {\r\n      \r\n      this.Cuentas_Contables[pos].Credito = Math.round(parseFloat(valor) * (parseFloat(this.Cuentas_Contables[pos].Porcentaje)/100));\r\n      this.Cuentas_Contables[pos].Cred_Niif = Math.round(parseFloat(valor) * (parseFloat(this.Cuentas_Contables[pos].Porcentaje)/100));\r\n      \r\n    } else {\r\n      this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n    }\r\n\r\n    this.ActualizaValores();\r\n    \r\n  }\r\n\r\n  fechaHoy(){\r\n    let fecha:any = new Date();\r\n    fecha = (fecha.toISOString()).split('T')[0];\r\n\r\n    return fecha\r\n  }\r\n\r\n  getCodigoNuevaNota(fecha?:string) {\r\n    let datos:any = {};\r\n\r\n    if (fecha != undefined && fecha != null) {\r\n      datos.Fecha = fecha;\r\n    } else {\r\n      datos.Fecha = this.fechaHoy();\r\n    }\r\n\r\n    if (this.Tipo_Documento != '') {\r\n      datos.Tipo = this.Tipo_Documento;\r\n\r\n      this.http.get(environment.ruta+'php/contabilidad/notascarteras/get_codigo.php', {params: datos}).subscribe((data:any) => {\r\n        this.datosCabecera.Codigo = data.consecutivo;\r\n        this.Codigo = data.consecutivo;\r\n      })\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  validarDebCred(pos:number, campo:string) {\r\n    if (campo === 'Credito') {\r\n      if (this.Cuentas_Contables[pos].Credito == '' || this.Cuentas_Contables[pos].Credito == null || this.Cuentas_Contables[pos].Cred_Niif == '' || this.Cuentas_Contables[pos].Cred_Niif == null) {\r\n        this.Cuentas_Contables[pos].Credito = 0;\r\n        this.Cuentas_Contables[pos].Cred_Niif = 0;\r\n\r\n        this.ActualizaValores();\r\n      }\r\n    } else {\r\n      if (this.Cuentas_Contables[pos].Debito == '' || this.Cuentas_Contables[pos].Debito == null || this.Cuentas_Contables[pos].Deb_Niif == '' || this.Cuentas_Contables[pos].Deb_Niif == null) {\r\n        this.Cuentas_Contables[pos].Debito = 0;\r\n        this.Cuentas_Contables[pos].Deb_Niif = 0;\r\n\r\n        this.ActualizaValores();\r\n      }\r\n    }\r\n  }\r\n\r\n  showFacturas(nit:any, pos) {\r\n    if (nit != undefined && nit != '' && nit != null) {\r\n      this.position_document = pos;\r\n      let p:any = {nit: nit};\r\n      let id_plan_cuenta = this.Cuentas_Contables[pos].Id_Plan_Cuentas;\r\n\r\n      if (id_plan_cuenta != '') {\r\n        p.id_plan_cuenta = id_plan_cuenta;\r\n      }\r\n      this.http.get(environment.ruta + 'php/contabilidad/notascarteras/lista_facturas.php',{ params: p}).subscribe((data: any) => {\r\n        this.Lista_Facturas = data.Facturas;\r\n        this.Mostrar_Facturas = true;\r\n\r\n        setTimeout(() => {\r\n          this.calcularTotalAbonoCartera();\r\n        }, 200);\r\n      });\r\n    }\r\n  }\r\n\r\n  addListInvoice(factura, pos) {\r\n    let existe = this.Facturas.findIndex(fact => fact.Factura === factura.Factura);\r\n\r\n    if (existe < 0) {\r\n      this.Lista_Facturas[pos].Abono = this.Lista_Facturas[pos].Valor_Saldo;\r\n      let factura = this.Lista_Facturas[pos];\r\n      this.Facturas.push(factura);\r\n    } else {\r\n      this.Lista_Facturas[pos].Abono = 0;\r\n      this.Facturas.splice(existe, 1);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.calcularTotalAbonoCartera();\r\n    }, 200);\r\n  }\r\n\r\n  addInvoicesToAccount() {\r\n    let nit = this.Cuentas_Contables[this.position_document].Nit_Cuenta;\r\n    this.Cuentas_Contables.splice(this.position_document, 1); // Eliminando una fila para introducir las nuevas cuentas.\r\n    let count = this.Cuentas_Contables.length; // Total de filas de las cuentas.\r\n    \r\n    if (this.Cuentas_Contables[(count-1)] != undefined) {\r\n      if (this.Cuentas_Contables[(count-1)].Nit_Cuenta == undefined || this.Cuentas_Contables[(count-1)].Nit_Cuenta == '') {\r\n        this.Cuentas_Contables.splice((count-1), 1); // Eliminando ultima fila.\r\n        \r\n      }\r\n    }\r\n\r\n    this.Facturas.forEach(f => {\r\n      // let plan_cuenta = this.obtenerPlanPorTipo(f.Tipo_Factura);\r\n      let object = {\r\n        Centro_Costo: this.Nom_Centro_Costo,\r\n        Id_Centro_Costo: this.Nom_Centro_Costo.Id_Centro_Costo,\r\n        Cuenta: this.obtenerPlanCuenta(f.Codigo),\r\n        Id_Plan_Cuentas: f.Id_Plan_Cuenta,\r\n        Nit: this.getDatosTercero(nit),\r\n        Nit_Cuenta: nit,\r\n        Tipo_Nit: this.getDatosTercero(nit).Tipo,\r\n        Documento: f.Factura,\r\n        Concepto: 'Pago o Abono Factura Nro. '+ f.Factura,\r\n        Base: 0,\r\n        Debito: this.validarDebeOHaber('D', f.Movimiento, f.Abono),\r\n        Credito: this.validarDebeOHaber('C', f.Movimiento, f.Abono),\r\n        Deb_Niif: this.validarDebeOHaber('D', f.Movimiento, f.Abono),\r\n        Cred_Niif: this.validarDebeOHaber('C', f.Movimiento, f.Abono)\r\n      };\r\n\r\n      this.Cuentas_Contables.push(object); // Agregando nueva(s) fila(s)\r\n    });\r\n\r\n    this.Cuentas_Contables.push({ // La ultima fila vacía.\r\n      Cuenta: '',\r\n      Nit: '',\r\n      Centro_Costo: '',\r\n      Documento: '',\r\n      Concepto: '',\r\n      Base: 0,\r\n      Debito: 0,\r\n      Credito: 0,\r\n      Deb_Niif: 0,\r\n      Cred_Niif: 0\r\n    });\r\n\r\n    this.Mostrar_Facturas = false;\r\n    this.Facturas = [];\r\n    this.Lista_Facturas = [];\r\n    this.Total_Abono = 0;\r\n\r\n    setTimeout(() => { // Para actualizar los totales\r\n      this.ActualizaValores();\r\n      this.armarDatosBorrador();\r\n    }, 200);\r\n\r\n  }\r\n  \r\n  obtenerPlanPorTipo(tipo) {\r\n    let tipo_facturas = {\r\n      Factura_Venta: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Factura_Nopos: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Nota_Credito: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Debito'\r\n      },\r\n      Factura_Capita: {\r\n        Cuenta: '130505',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Factura_Acta: {\r\n        Cuenta: '133005',\r\n        Naturaleza: 'Credito'\r\n      },\r\n      Devolucion_Compra: {\r\n        Cuenta: '220501',\r\n        Naturaleza: 'Debito'\r\n      },\r\n      Factura_Proveedor_Mantis: {\r\n        Cuenta: '133005',\r\n        Naturaleza: 'Credito'\r\n      }\r\n    };\r\n\r\n    return tipo_facturas[tipo];\r\n  }\r\n\r\n  obtenerPlanCuenta(codigo:string) {\r\n    return this.Cuenta.find(x => x.Codigo_Cuenta === codigo);\r\n  }\r\n\r\n  validarDebeOHaber(campo:string, tipo:string, valor:number) { // Funcion que me permite validar si el valor que viene de la factura va al Debe o al Haber\r\n    if (campo === tipo) {\r\n      return Math.abs(valor);\r\n    }\r\n    return '0';\r\n  }\r\n\r\n  validarCampo(campo, event, tipo) { // Funcion que validará los campos de typeahead\r\n    if (typeof(campo) != 'object' && campo != '') {\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      let swal = {\r\n        codigo: 'error',\r\n        titulo: 'Incorrecto!',\r\n        mensaje: `El valor ${tipo} no es valido.`\r\n      };\r\n      this.swalService.ShowMessage(swal);\r\n    }\r\n  }\r\n\r\n  validarSaldoFactura(pos, event) {\r\n    let saldo = parseFloat(this.Lista_Facturas[pos].Valor_Saldo);\r\n    let abono = parseFloat(this.Lista_Facturas[pos].Abono);\r\n\r\n    if (abono > saldo) { // Validando que el abono no pueda ser mayor al saldo de una factura de cartera.\r\n      let id = event.target.id;\r\n      (document.getElementById(id) as HTMLInputElement).focus();\r\n      let swal = {\r\n        codigo: 'error',\r\n        titulo: 'Incorrecto!',\r\n        mensaje: `El valor del abono no puede ser mayor al saldo de la factura.`\r\n      };\r\n      this.swalService.ShowMessage(swal);\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.calcularTotalAbonoCartera()\r\n    }, 200);\r\n  }\r\n\r\n  tab(event,ele) {\r\n\r\n    this._notas.tabular(event, ele);\r\n\r\n  }\r\n\r\n  reloadData() {\r\n    this.http.get(environment.ruta + 'php/contabilidad/notascontables/nit_buscar.php').subscribe((data: any) => {\r\n      this.Cliente = data;\r\n    });\r\n    this.http.get(environment.ruta + 'php/comprobantes/lista_cuentas.php').subscribe((data: any) => {\r\n      this.Cuenta = data.Activo;        \r\n    });\r\n    this.http.get(environment.ruta + 'php/contabilidad/notascontables/centrocosto_buscar.php').subscribe((data: any) => {\r\n      this.Centros = data;\r\n    });\r\n\r\n  }\r\n\r\n  armarDatosBorrador() {\r\n    let datosCabecera = {\r\n      Fecha: this.Fecha_Nota_Contable,\r\n      Beneficiario: this.Nom_Cliente,\r\n      Id_Cliente: this.Id_Cliente,\r\n      Tipo_Beneficiario: this.Tipo_Beneficiario,\r\n      Nom_Centro_Costo: this.Nom_Centro_Costo,\r\n      Centro_Costo: this.Centro_Costo,\r\n      Documento: this.Documento,\r\n      Concepto: this.Concepto,\r\n    };\r\n\r\n    let Datos = {\r\n      Cabecera: datosCabecera,\r\n      Cuentas_Contables: this.Cuentas_Contables\r\n    };\r\n\r\n    setTimeout(() => {\r\n      let datosBorrador = {\r\n        Id_Borrador_Contabilidad: this.idBorrador,\r\n        Codigo: this.Codigo,\r\n        Tipo_Comprobante: 'Nota Cartera',\r\n        // Identificacion_Funcionario: this.Funcionario.Identificacion_Funcionario,\r\n        Datos: Datos\r\n      }\r\n  \r\n      let info = this._notas.Utf8.encode(JSON.stringify(datosBorrador));\r\n  \r\n      let datos = new FormData();\r\n      datos.append('datos', info);\r\n      this.http.post(environment.ruta+'php/contabilidad/guardar_borrador_contable.php', datos)\r\n      .subscribe((data:any) => {\r\n        if (data.status == 202) {\r\n          if (this.idBorrador == '')\r\n            this.idBorrador = data.Id_Borrador;\r\n        }\r\n      })\r\n    }, 300);\r\n  }\r\n\r\n  setDatosBorrador(data = null) {\r\n\r\n    if (data == 'clean') {\r\n      this.resetModel(); // Reinicilizar Campos.\r\n    } else {\r\n      let Datos = JSON.parse(data.Datos);\r\n      this.Fecha_Nota_Contable = Datos.Cabecera.Fecha;\r\n      this.Nom_Cliente = Datos.Cabecera.Beneficiario;\r\n      this.Id_Cliente = Datos.Cabecera.Id_Cliente;\r\n      this.Tipo_Beneficiario = Datos.Cabecera.Tipo_Beneficiario;\r\n      this.Nom_Centro_Costo = Datos.Cabecera.Nom_Centro_Costo;\r\n      this.Centro_Costo = Datos.Cabecera.Centro_Costo;\r\n      this.Documento = Datos.Cabecera.Documento;\r\n      this.Concepto = Datos.Cabecera.Concepto;\r\n      this.Cuentas_Contables = Datos.Cuentas_Contables;\r\n      this.datosCabecera.Codigo = data.Codigo;\r\n      this.idBorrador = data.ID;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.ActualizaValores();\r\n    }, 200);\r\n  }\r\n\r\n  resetModel() {\r\n    this.Fecha_Nota_Contable = this.fechaHoy();\r\n      this.Nom_Cliente = '';\r\n      this.Id_Cliente = '';\r\n      this.Nom_Centro_Costo = '';\r\n      this.Centro_Costo = '';\r\n      this.Documento = '';\r\n      this.Concepto = '';\r\n      \r\n      this.Cuentas_Contables = [{\r\n        Cuenta: '',\r\n        Nit: '',\r\n        Centro_Costo: '',\r\n        Documento: '',\r\n        Concepto: '',\r\n        Base: 0,\r\n        Debito: 0,\r\n        Credito: 0,\r\n        Deb_Niif: 0,\r\n        Cred_Niif: 0\r\n      }];\r\n\r\n      this.datosCabecera.Codigo = this.getCodigoNuevaNota();\r\n\r\n  }\r\n\r\n  calcularTotalAbonoCartera() {\r\n    this.Total_Abono = this.Lista_Facturas.reduce(this.reducer_abono,0);\r\n  }\r\n\r\n}\r\n","<div class=\"page-body\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12 col-md-12 col-md-offset-4\">\r\n\r\n            <div class=\"card\">\r\n\r\n                <app-cabecera [datosCabecera]=\"datosCabecera\"></app-cabecera>\r\n                <!-- Layout de Cabecera. -->\r\n\r\n                <div class=\"card-body\" style=\"padding-bottom: 0px;\">\r\n                    <form #FormNotaContable=\"ngForm\">\r\n                        <input type=\"hidden\" name=\"Id_Borrador\" [(ngModel)]=\"idBorrador\">\r\n                        <div class=\"row invoive-info\" style=\"margin-bottom: 0; padding-bottom: 0px;\">\r\n                            <div class=\" col-md-2  \">\r\n                                <div class=\"form-group\">\r\n                                    <label>Tipo Doc.</label>\r\n                                    <select name=\"Tipo_Doc\" id=\"Tipo_Doc\" class=\"form-control form-control-sm\" [(ngModel)]=\"Tipo_Documento\" (change)=\"getCodigoNuevaNota()\">\r\n                    <option value=\"\">Seleccione</option>\r\n                    <option value=\"Debito-Cliente\">Debito Cliente</option>\r\n                    <option value=\"Credito-Cliente\">Credito Cliente</option>\r\n                    <option value=\"Debito-Proveedor\">Debito Proveedor y/o Acreedor</option>\r\n                    <option value=\"Credito-Proveedor\">Credito Proveedor y/o Acreedor</option>\r\n                  </select>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Fecha</label>\r\n                                    <input type=\"date\" name=\"Fecha_Documento\" id=\"Fecha_Nota_Contable\" [(ngModel)]=\"Fecha_Nota_Contable\" class=\"form-control form-control-sm tab\" (keyup)=\"tab($event,'Cliente')\" (change)=\"getCodigoNuevaNota($event.target.value)\" required>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Empresa</label>\r\n                                    <select [(ngModel)]=\"Id_Empresa\" name=\"company_id\" id=\"company_id\" class=\"form-control form-control-sm\" required>\r\n                                        <option *ngFor=\"let item of companies\" [value]=\"item.value\">\r\n                                            {{ item.text }}\r\n                                        </option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-2\">\r\n\r\n                                <div class=\"form-group\">\r\n                                    <label>Beneficiario Documento</label>\r\n                                    <input [(ngModel)]=\"Nom_Cliente\" type=\"text\" name=\"Cliente\" id=\"Cliente\" class=\"form-control form-control-sm f-9 tab\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter\" (keyup)=\"tab($event,'Centro_Costo')\" (ngModelChange)=\"BuscarDatosCliente(Nom_Cliente)\"\r\n                                        (blur)=\"validarCampo(Nom_Cliente,$event,'Beneficiario')\" />\r\n                                    <input hidden [(ngModel)]=\"Id_Cliente\" name=\"Beneficiario\" id=\"Beneficiario\" class=\"form-control form-control-sm \" required>\r\n                                    <input hidden [(ngModel)]=\"Tipo_Beneficiario\" name=\"Tipo_Beneficiario\" id=\"Tipo_Beneficiario\" class=\"form-control form-control-sm \" required>\r\n                                    <!-- <input hidden [(ngModel)]=\"Funcionario.Identificacion_Funcionario\" name=\"Identificacion_Funcionario\" id=\"Id_Funcionario\" class=\"form-control form-control-sm \" required> -->\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"Centro_Costo\">Centro Costo</label>\r\n                                    <input [(ngModel)]=\"Nom_Centro_Costo\" type=\"text\" name=\"Nom_Centro_Costo\" id=\"Centro_Costo\" class=\"form-control form-control-sm f-9 tab\" [ngbTypeahead]=\"search2\" [resultTemplate]=\"rt2\" [inputFormatter]=\"formatter2\" (keyup)=\"tab($event,'Documento')\" (ngModelChange)=\"BuscarDatosCentro(Nom_Centro_Costo)\"\r\n                                        (blur)=\"validarCampo(Nom_Centro_Costo,$event,'Centro de Costo')\" />\r\n                                    <input type=\"hidden\" name=\"Id_Centro_Costo\" [(ngModel)]=\"Centro_Costo\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-2\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"\">Documento</label>\r\n                                    <input type=\"text\" name=\"Documento\" id=\"Documento\" (keyup)=\"tab($event,'Concepto')\" [(ngModel)]=\"Documento\" class=\"form-control form-control-sm\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col-md-6\">\r\n                                <div class=\"form-group\">\r\n                                    <label>Concepto</label>\r\n                                    <textarea name=\"Concepto\" id=\"Concepto\" class=\"form-control\" (keyup)=\"tab($event,'Cuenta0')\" [(ngModel)]=\"Concepto\" rows=\"3\"></textarea>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-md-6\"></div>\r\n\r\n                            <!-- Componente para listar los borradores de los comprobantes contables. -->\r\n                            <div class=\"col-md-3\">\r\n                                <div class=\"form-group\">\r\n                                    <label for=\"borrador\">Borradores</label>\r\n                                    <app-borradorcomprobantes [Tipo_Comprobante]=\"Tipo_Comprobante\" (Borrador)=\"setDatosBorrador($event)\"></app-borradorcomprobantes>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </form>\r\n\r\n                    <div *ngIf=\"Mostrar_Facturas\" class=\"row\">\r\n                        <div class=\"col-md-12 text-center\">\r\n                            <h6>Facturas</h6>\r\n                        </div>\r\n                        <div class=\"col-sm-12\">\r\n\r\n                            <table class=\"table  invoice-detail-table tabla\">\r\n                                <thead>\r\n                                    <tr class=\"thead-default\">\r\n                                        <th style=\"width:25px\"></th>\r\n                                        <th style=\"width:50px;\">Cuenta</th>\r\n                                        <th style=\"width:50px;\">Fecha</th>\r\n                                        <th style=\"width:60px;\">Documento</th>\r\n                                        <th style=\"width:80px; text-align: right\">Vlr. Factura </th>\r\n                                        <th style=\"width:80px; text-align: right\">Vlr. Abono </th>\r\n                                        <th style=\"width:80px; text-align: right\">Vlr. Saldo</th>\r\n                                        <th style=\"width:80px; text-align: right\">Abono</th>\r\n                                        <th style=\"width:20px;\">Nat</th>\r\n                                        <th style=\"width:60px; text-align: right\">Movimiento Debito</th>\r\n                                        <th style=\"width:60px; text-align: right\">Movimiento_Credito</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngIf=\"Lista_Facturas.length == 0 && !Cargando\">\r\n                                        <td colspan=\"11\">\r\n                                            <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n                                            <h4>No Existen Facturas para mostrar</h4>\r\n\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tr *ngFor=\"let item of Lista_Facturas; let i = index\" id=\"fila{{i}}\">\r\n                                        <td style=\"width:25px\" class=\"text-center\">\r\n                                            <input type=\"checkbox\" name=\"Factura{{i}}\" id=\"Factura{{i}}\" (change)=\"addListInvoice(item, i)\">\r\n                                        </td>\r\n                                        <td style=\"width:50px;\">{{item.Codigo}}</td>\r\n                                        <td style=\"width:50px;\">{{item.Fecha }} </td>\r\n                                        <td style=\"width:60px;\">{{ item.Factura }} </td>\r\n                                        <td style=\"width:80px; text-align: right\">{{item.Valor_Factura |currency}} </td>\r\n                                        <td style=\"width:80px; text-align: right\">{{item.Valor_Abono |currency}} </td>\r\n                                        <td style=\"width:80px; text-align: right\">{{item.Valor_Saldo | currency }} </td>\r\n                                        <td style=\"width:80px; text-align: right\">\r\n                                            <input type=\"number\" name=\"abono{{i}}\" id=\"abono{{i}}\" [(ngModel)]=\"item.Abono\" (blur)=\"validarSaldoFactura(i,$event)\">\r\n                                        </td>\r\n                                        <td style=\"width:20px;\">{{item.Nat }} </td>\r\n                                        <td style=\"width:60px; text-align: right\">{{item.Movimiento_Debito |currency}} </td>\r\n                                        <td style=\"width:60px; text-align: right\">{{item.Movimiento_Credito |currency}} </td>\r\n                                    </tr>\r\n                                    <tr *ngIf=\"Lista_Facturas.length > 0\">\r\n                                        <td colspan=\"7\"></td>\r\n                                        <td style=\"width:80px; text-align: right\">\r\n                                            <b>Total: {{ Total_Abono | currency }}</b>\r\n                                        </td>\r\n                                        <td colspan=\"3\"></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                            <button class=\"btn btn-info btn-sm pull-left\" (click)=\"addInvoicesToAccount()\">Confirmar</button>\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-12\">\r\n                            <button class=\"btn btn-link btn-sm pull-right\" title=\"Recargar datos iniciales (Terceros, PUC, Centro Costos)\" (click)=\"reloadData()\"><i class=\"fa fa-refresh\"></i> Recargar</button>\r\n                            <table class=\"table  invoice-detail-table tabla\">\r\n                                <thead>\r\n                                    <tr class=\"thead-default\">\r\n\r\n                                        <th style=\"width:200px\">Cuenta</th>\r\n                                        <th>Nit</th>\r\n                                        <th>Centro Costo</th>\r\n                                        <th>Documento</th>\r\n                                        <th>Concepto</th>\r\n                                        <th>Base</th>\r\n                                        <th>Debito</th>\r\n                                        <th>Credito</th>\r\n                                        <th>Deb Niif</th>\r\n                                        <th>Cred Niif</th>\r\n                                        <th></th>\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let item of Cuentas_Contables; let i = index\" id=\"fila{{i}}\">\r\n                                        <td><input [(ngModel)]=\"item.Cuenta\" type=\"text\" name=\"Cuenta\" id=\"Cuenta{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt1\" [inputFormatter]=\"formatter1\" (ngModelChange)=\"BuscarCuenta(item.Cuenta, i)\"\r\n                                                (keyup)=\"tab($event,'Nit'+i)\" (blur)=\"armarDatosBorrador();validarCampo(item.Cuenta,$event,'Cuenta')\" [required]=\"(Cuentas_Contables.length-1) != i\" />\r\n                                        </td>\r\n                                        <td>\r\n                                            <input [(ngModel)]=\"item.Nit\" type=\"text\" name=\"Nit{{i}}\" id=\"Nit{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter\" (keyup)=\"tab($event,'Centro_Costo'+i)\" (ngModelChange)=\"BuscarDatosCliente(item.Nit, i)\"\r\n                                                (blur)=\"armarDatosBorrador();validarCampo(item.Nit,$event,'Nit')\" />\r\n                                        </td>\r\n                                        <td>\r\n                                            <input [(ngModel)]=\"item.Centro_Costo\" type=\"text\" name=\"Centro_Costo{{i}}\" id=\"Centro_Costo{{i}}\" class=\"form-control form-control-sm f-9\" [ngbTypeahead]=\"search2\" [resultTemplate]=\"rt2\" [inputFormatter]=\"formatter2\" (ngModelChange)=\"BuscarDatosCentro(item.Centro_Costo, i)\"\r\n                                                (keyup)=\"tab($event,'Documento'+i)\" (blur)=\"armarDatosBorrador();validarCampo(item.Centro_Costo,$event,'Centro de Costo')\" />\r\n                                        </td>\r\n                                        <td>\r\n                                            <input name=\"Documento{{i}}\" id=\"Documento{{i}}\" (keyup)=\"tab($event,'Concepto'+i)\" [(ngModel)]=\"item.Documento\" class=\"form-control form-control-sm text-right input-document\" (blur)=\"armarDatosBorrador()\" type=\"text\">\r\n                                            <a href=\"javascript:;\" (click)=\"showFacturas(item.Nit_Cuenta, i)\">\r\n                                                <i style=\"font-weight: bold\" class=\"fa fa-search\"></i>\r\n                                            </a>\r\n                                        </td>\r\n                                        <td><input name=\"Concepto{{i}}\" id=\"Concepto{{i}}\" (blur)=\"armarDatosBorrador()\" (keyup)=\"tab($event,'Base'+i)\" [(ngModel)]=\"item.Concepto\" class=\"form-control form-control-sm\"></td>\r\n\r\n                                        <td><input name=\"Base{{i}}\" id=\"Base{{i}}\" (blur)=\"armarDatosBorrador()\" (keyup)=\"tab($event,'Debito'+i)\" (change)=\"calcularBase(i, $event.target.value)\" [(ngModel)]=\"item.Base\" class=\"form-control form-control-sm text-right\"\r\n                                                readonly></td>\r\n                                        <td><input name=\"Debito{{i}}\" id=\"Debito{{i}}\" (blur)=\"armarDatosBorrador()\" (keyup)=\"tab($event,'Credito'+i)\" (change)=\"ActualizaValores(i);validarDebCred(i, 'Debito')\" [(ngModel)]=\"item.Debito\" class=\"form-control form-control-sm text-right\"\r\n                                                type=\"number\"></td>\r\n                                        <td><input name=\"Credito{{i}}\" id=\"Credito{{i}}\" (blur)=\"armarDatosBorrador()\" (keyup)=\"tab($event,'Deb_Niif'+i)\" (change)=\"ActualizaValores(i);validarDebCred(i, 'Credito')\" [(ngModel)]=\"item.Credito\" class=\"form-control form-control-sm text-right\"\r\n                                                type=\"number\"></td>\r\n                                        <td><input name=\"Deb_Niif{{i}}\" id=\"Deb_Niif{{i}}\" (blur)=\"armarDatosBorrador()\" (keyup)=\"tab($event,'Cred_Niif'+i)\" (change)=\"validarDebCred(i, 'Debito')\" [(ngModel)]=\"item.Deb_Niif\" class=\"form-control form-control-sm text-right\"\r\n                                                type=\"number\"></td>\r\n                                        <td><input name=\"Cred_Niif{{i}}\" id=\"Cred_Niif{{i}}\" (blur)=\"armarDatosBorrador()\" (keyup)=\"tab($event,'Cuenta'+(i+1))\" (change)=\"validarDebCred(i, 'Credito')\" [(ngModel)]=\"item.Cred_Niif\" class=\"form-control form-control-sm text-right\"\r\n                                                type=\"number\"></td>\r\n                                        <td class=\"text-center\">\r\n                                            <a *ngIf=\"(Cuentas_Contables.length-1) != i\" href=\"javascript:;\" (click)=\"EliminarCuenta(i);armarDatosBorrador()\">\r\n                                                <span>\r\n                          <i class=\"fa fa-trash-o text-danger\"></i>\r\n                        </span>\r\n                                            </a>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <table class=\"table table-responsive invoice-table invoice-total\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th>Total Debito:</th>\r\n                                        <td>{{ Total_Debito | currency }}</td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th>Total Credito:</th>\r\n                                        <td>{{ Total_Credito | currency }}</td>\r\n                                    </tr>\r\n\r\n                                    <tr>\r\n                                        <th>Diferencia:</th>\r\n                                        <td>{{ (Total_Debito-Total_Credito) | currency }}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-8\"></div>\r\n                <div class=\"col-md-2 botonFlotante1\">\r\n                    <button href=\"\" [routerLink]=\"['/contabilidad/comprobantes/notas-cartera']\" type=\"button\" class=\"btn btn-success btn-block btn-enviar \">\r\n                    Volver\r\n                </button>\r\n                </div>\r\n                <div class=\"col-md-2 botonFlotante\">\r\n                    <button type=\"button\" class=\"btn btn-success  btn-block btn-enviar\" [disabled]=\"Total_Debito != Total_Credito\">\r\n                    Guardar\r\n                </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\"><strong>{{ r.Nombre }}</strong>\r\n    </span>\r\n</ng-template>\r\n<!-- <swal #confirmacionSwal title=\"\" text=\"\" type=\"\"></swal>\r\n  \r\n  <swal #confirmacionGuardar [options]=\"alertOption\"></swal> -->\r\n\r\n\r\n<ng-template #rt1 let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\">{{ r.Codigo }} </span>\r\n</ng-template>\r\n\r\n<ng-template #rt2 let-r=\"result\" let-t=\"term\">\r\n    <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { NotasContablesComponent } from './notas-contables/notas-contables.component';\r\nimport { CrearNotaContableComponent } from './notas-contables/crear-nota-contable/crear-nota-contable.component';\r\nimport { EgresosComponent } from './egresos/egresos.component';\r\nimport { ComprobanteegresovarioscrearComponent } from './egresos/comprobanteegresovarioscrear/comprobanteegresovarioscrear.component';\r\nimport { ComprobanteingresocrearComponent } from './ingresos/comprobanteingresocrear/comprobanteingresocrear.component';\r\nimport { IngresosComponent } from './ingresos/ingresos.component';\r\nimport { NotasCarterasComponent } from './notas-carteras/notas-carteras.component';\r\nimport { NotascarteracrearComponent } from './notas-carteras/notascarteracrear/notascarteracrear.component';\r\nimport { NotascreditoComponent } from './notascredito/notascredito.component';\r\nimport { NotascreditocrearComponent } from './notascredito/notascreditocrear/notascreditocrear.component';\r\nimport { NotascreditoverComponent } from './notascredito/notascreditover/notascreditover.component';\r\n\r\nconst routes: Routes = [\r\n    { path: 'notas-contables', component: NotasContablesComponent },\r\n    { path: 'crear-nota-contable', component: CrearNotaContableComponent },\r\n    { path: 'egresos', component: EgresosComponent },\r\n    { path: 'comprobanteegresovarioscrear', component: ComprobanteegresovarioscrearComponent },\r\n    { path: 'ingresos', component: IngresosComponent },\r\n    { path: 'comprobanteingresocrear', component: ComprobanteingresocrearComponent },\r\n    { path: 'notas-cartera', component: NotasCarterasComponent },\r\n    { path: 'notas-cartera-crear', component: NotascarteracrearComponent },\r\n    { path: 'notas-credito', component: NotascreditoComponent },\r\n    { path: 'notas-credito/crear', component: NotascreditocrearComponent },\r\n    { path: 'notas-credito/ver/:id', component: NotascreditoverComponent },\r\n\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ComprobantesRoutingModule {}\r\n"],"sourceRoot":"webpack:///"}