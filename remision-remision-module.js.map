{"version":3,"sources":["./src/app/core/utils/confirmMessage.ts","./src/app/services/eps.service.ts","./src/app/services/remisionnuevo.service.ts","./src/app/pages/inventario/remision/modalcambiarproductossimilarnuevo/modalcambiarproductossimilarnuevo.component.ts","./src/app/pages/inventario/remision/modalcambiarproductossimilarnuevo/modalcambiarproductossimilarnuevo.component.html","./node_modules/ng2-truncate/__ivy_ngcc__/dist/truncate-characters.pipe.js","./src/app/pages/inventario/remision/ProductoCargarRemision.ts","./src/app/pages/inventario/remision/remisiones.component.ts","./src/app/pages/inventario/remision/remisiones.component.html","./src/app/pages/inventario/remision/remision.routing.ts","./src/app/services/producto.service.ts","./src/app/services/dispensacion.service.ts","./src/app/pages/inventario/remision/remisioncrearnuevo/remisioncrearnuevo.component.ts","./src/app/pages/inventario/remision/remisioncrearnuevo/remisioncrearnuevo.component.html","./src/app/services/remision.service.ts","./node_modules/ng2-truncate/__ivy_ngcc__/dist/truncate.module.js","./src/app/pages/inventario/remision/remision.module.ts","./src/app/pages/inventario/remision/RemisonModelNuevo.ts","./node_modules/ng2-truncate/__ivy_ngcc__/dist/index.js","./src/app/pages/inventario/remision/modalproductoremisionnuevo/modalproductoremisionnuevo.component.ts","./src/app/pages/inventario/remision/modalproductoremisionnuevo/modalproductoremisionnuevo.component.html","./node_modules/ng2-truncate/__ivy_ngcc__/dist/truncate-words.pipe.js","./src/app/pages/inventario/remision/remision/remision.component.ts","./src/app/pages/inventario/remision/remision/remision.component.html","./src/app/pages/inventario/remision/remisioncrearnuevo/productosremisionnuevo/productosremisionnuevo.component.ts","./src/app/pages/inventario/remision/remisioncrearnuevo/productosremisionnuevo/productosremisionnuevo.component.html","./src/app/pages/inventario/remision/remisioneditar/remisioneditar.component.ts","./src/app/pages/inventario/remision/remisioneditar/remisioneditar.component.html"],"names":[],"mappings":"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","file":"remision-remision-module.js","sourcesContent":["import Swal from 'sweetalert2';\r\n\r\nexport async function showConfirm<T>(status: any, model: string) {\r\n    return Swal.fire({\r\n        title: '¿Estas seguro?',\r\n        text: (status === 'Inactivo' ? `La ${model} se Inactivará!` : `La ${model} se activará`),\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'Cancelar',\r\n        confirmButtonText: (status === 'Inactivo' ? 'Si, Inhabilitar' : 'Si, activar')\r\n    })\r\n}\r\n\r\nexport async function showConfirmCancel<T>(status: any, model: string) {\r\n    const SwalMsje = Swal.mixin({\r\n        customClass: {\r\n            confirmButton: 'btn btn-success mx-2',\r\n            cancelButton: 'btn btn-danger'\r\n        },\r\n        buttonsStyling: false\r\n    })\r\n\r\n    return SwalMsje.fire({\r\n        title: '¿está seguro?',\r\n        text: \"Se dispone a Cancelar una \".concat(model),\r\n        icon: 'warning',\r\n        input: 'text',\r\n        inputAttributes: {\r\n            maxlength: \"50\",\r\n            autocapitalize: 'off',\r\n            autocorrect: 'off'\r\n        },\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Si, ¡Cita Cancelar '.concat(model),\r\n        cancelButtonText: 'No, ¡déjeme comprobar!',\r\n        reverseButtons: true\r\n    })\r\n}\r\n\r\nexport async function showConfirmCancelWhitoutMessage<T>(status: any, model: string) {\r\n    return Swal.fire({\r\n        title: '¿Estas seguro?',\r\n        text: `Estas a un paso de ${status} esta  ${model} !`,\r\n        icon: 'warning',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        cancelButtonText: 'Cancelar',\r\n        confirmButtonText: 'Si, ' + status\r\n    })\r\n}\r\n\r\nexport function successMessage<T>(\r\n    status: any = 'Operación exitosa',\r\n    message: string = 'Felicidades, Operacíón realizada correctamente.',\r\n    model: string = ''\r\n) {\r\n    Swal.fire({\r\n        title: status,\r\n        text: message,\r\n        icon: 'success',\r\n        allowOutsideClick: false,\r\n        allowEscapeKey: false\r\n    })\r\n}\r\n\r\nexport function errorMessage<T>(\r\n    status: any = 'Ooops',\r\n    model: string = ''\r\n) {\r\n    Swal.fire({\r\n        title: status,\r\n        text: 'Se han registrado errores operación no realizada',\r\n        icon: 'error',\r\n        allowOutsideClick: false,\r\n        allowEscapeKey: false\r\n    })\r\n}\r\n\r\nexport function WarningMessage<T>(\r\n    status: any = 'Ooops',\r\n    text: any = 'Verifique los datos',\r\n    model: string = ''\r\n) {\r\n    Swal.fire({\r\n        title: status,\r\n        text: text,\r\n        icon: 'error',\r\n        allowOutsideClick: false,\r\n        allowEscapeKey: false\r\n    })\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n// import { Globales } from '../../../shared/globales/globales';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class EpsService {\r\n\r\n  private _rutaBase: string = environment.ruta + 'php/GENERALES/eps/';\r\n\r\n  constructor(private client: HttpClient,\r\n    // private globales: Globales\r\n  ) { }\r\n\r\n  public GetEntidadesSalud(): Observable<any> {\r\n    return this.client.get(this._rutaBase + 'get_entidades_salud_select.php');\r\n  }\r\n\r\n  // Metodos de lista precio eps\r\n  public GetProductosEvento(p: any): Observable<any> {\r\n    return this.client.get(environment.ruta + 'php/listaprecioeps/get_productos_evento.php', { params: p });\r\n  }\r\n  public ValidarCum(p: any): Observable<any> {\r\n    return this.client.get(environment.ruta + 'php/listaprecioeps/validar_cum.php', { params: p });\r\n  }\r\n  SaveProducto(data: FormData): Observable<any> {\r\n    return this.client.post(environment.ruta + 'php/listaprecioeps/save_producto.php', data);\r\n  }\r\n\r\n}\r\n","\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RemisionnuevoService {\r\n\r\n  private _rutaProductosRemision: string = environment.ruta + 'php/remision_nuevo';\r\n\r\n\r\n  constructor(private client: HttpClient) { }\r\n\r\n  // public GetDatosIniciales(p: any): Observable<any> {\r\n  //   return this.client.get(\r\n  //     // environment.ruta +\r\n  //     'php/remision_nuevo/get_datos_iniciales.php'\r\n  //     , { params: p }\r\n  //   );\r\n  // }\r\n\r\n  // public GetDatosInicialesDispensacion(p: any): Observable<any> {\r\n  //   let data = new FormData();\r\n  //   data.append('id', p)\r\n  //   return this.client.post(environment.ruta + 'php/dispensacion_despacho/detailDispensacion.php', data);\r\n  // }\r\n\r\n  // public GetCategoriaPorBodega(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/categoria_nueva/get_categorias_por_bodega.php', { params: p });\r\n  // }\r\n\r\n  // public GetGruposPorBodega(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/grupo_estiba/get_grupos_bodega.php', { params: p });\r\n  // }\r\n\r\n  // public GetListaProductosRemision(p: any): Observable<any> {\r\n  //   return this.client.get(this._rutaProductosRemision + 'get_productos_inventario.php', { params: p });\r\n  // }\r\n\r\n  // public GetListaProductosDispensacion(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/dispensacion_despacho/getListaProductos.php', { params: p });\r\n  // }\r\n\r\n\r\n  // public GuardarLotesSeleccionados(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/seleccionar_lotes_inventario.php', data);\r\n  // }\r\n\r\n\r\n  // public EliminarLotesSeleccionados(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/eliminar_lote_seleccionado.php', data);\r\n  // }\r\n\r\n\r\n  // public ComprobarCantidades(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision_nuevo/comprobar_cantidades.php', { params: p });\r\n  // }\r\n\r\n  // public GetProductosPendientes(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision_nuevo/get_pendientes.php', { params: p });\r\n  // }\r\n\r\n  // public EliminarLotesMasivos(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/eliminar_lotes_masivos.php', data);\r\n  // }\r\n\r\n  // //---------\r\n\r\n\r\n  // public GetImpuestos(): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/lista_generales.php', { params: { modulo: 'Impuesto' } });\r\n  // }\r\n\r\n  // public GetBorrador(codigo: string): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision_nuevo/get_borrador.php', { params: { codigo: codigo } });\r\n  // }\r\n\r\n  // public GetRotativo(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision_nuevo/get_rotativo.php', { params: p });\r\n  // }\r\n\r\n  // public GetRotativoNoPos(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision_nuevo/get_rotativo_no_pos.php', { params: p });\r\n  // }\r\n\r\n\r\n\r\n\r\n  // public GuardarBorrador(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/guardar_borrador.php', data);\r\n  // }\r\n\r\n  // public RealizarCambioProducto(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/guardar_cambio_producto.php', data);\r\n  // }\r\n\r\n\r\n\r\n  // public GuardarRemision(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/save_remision.php', data);\r\n  // }\r\n\r\n  // public GuardarRemisionDevolucion(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision_nuevo/save_remision_devolucion.php', data);\r\n  // }\r\n\r\n\r\n\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit, ViewChild, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { SwalComponent } from '@sweetalert2/ngx-sweetalert2';\r\nimport { Observable } from 'rxjs';\r\nimport { SwalService } from 'src/app/pages/ajustes/informacion-base/services/swal.service';\r\nimport { RemisionnuevoService } from 'src/app/services/remisionnuevo.service';\r\nimport { environment } from 'src/environments/environment';\r\n// import { GeneralService } from '../../services/general/general.service';\r\n// import { SwalService } from '../../services/swal/swal.service';\r\n// import { ToastService } from '../../services/toasty/toast.service';\r\n// import { RemisionnuevoService } from '../../services/remisionnuevo/remisionnuevo.service';\r\nimport swal, { SweetAlertOptions } from 'sweetalert2';\r\n// import { SwalComponent } from '@toverux/ngx-sweetalert2';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-modalcambiarproductossimilarnuevo',\r\n  templateUrl: './modalcambiarproductossimilarnuevo.component.html',\r\n  styleUrls: ['./modalcambiarproductossimilarnuevo.component.scss']\r\n})\r\nexport class ModalcambiarproductossimilarnuevoComponent implements OnInit {\r\n\r\n  @ViewChild('ModalCambiarProductoSimilar') ModalCambiarProductoSimilar: any;\r\n  @ViewChild('confirmacionCambio') public confirmacionCambio: SwalComponent;\r\n\r\n  @Input() AbrirModal: Observable<any> = new Observable();\r\n  @Output() AgregarProductos: EventEmitter<any> = new EventEmitter();\r\n\r\n  public ListaProductos: Array<any> = [];\r\n  public ListaAgregados: Array<any> = [];\r\n  public ProductoCambiar: any = null;\r\n  public ProductoAgregar: any = null;\r\n  private _posicionLista: string = '';\r\n  private _rotativoModel: any = null;\r\n  private _Mes: any = null;\r\n  private _Grupo: any = null;\r\n\r\n  public Cargando: boolean = false;\r\n  public openSubscription: any;\r\n  public alertOption: SweetAlertOptions = {\r\n    title: \"¿Está totalemente Seguro?\",\r\n    text: \"Se dispone a cambiar este producto por uno de sus asociados, esta acción es irreversible!\",\r\n    showCancelButton: true,\r\n    cancelButtonText: \"No, Comprobar!\",\r\n    confirmButtonText: 'Si, Cambiar',\r\n    showLoaderOnConfirm: true,\r\n    focusCancel: true,\r\n    // type: 'info',\r\n    preConfirm: () => {\r\n      return new Promise((resolve) => {\r\n        this.RegistrarCambioEnBaseDeDatos();\r\n      })\r\n    },\r\n    allowOutsideClick: () => !swal.isLoading()\r\n  };\r\n\r\n  constructor(\r\n    // public generalService: GeneralService,\r\n    private _swalService: SwalService,\r\n    // private _toastService: ToastService,\r\n    private http: HttpClient,\r\n    private _remisionService: RemisionnuevoService) { }\r\n\r\n  ngOnInit() {\r\n    this.openSubscription = this.AbrirModal.subscribe((data: any) => {\r\n      console.log(data);\r\n\r\n      //this.ListaAgregados = data.agregados;\r\n      this.Cargando = true;\r\n      this.ListaProductos = data.producto.Similares;\r\n      this._posicionLista = data.pos;\r\n      this._rotativoModel = data.rotativo_model;\r\n      this.ProductoCambiar = data.producto;\r\n      this._Mes = data.mes;\r\n      this._Grupo = data.grupo;\r\n      this.ModalCambiarProductoSimilar.show();\r\n      this.Cargando = false;\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.openSubscription != undefined) {\r\n      this.openSubscription.unsubscribe();\r\n    }\r\n\r\n    this.CerrarModal();\r\n  }\r\n\r\n  LimpiarModelo() {\r\n    this.ListaProductos = [];\r\n    this.ProductoAgregar = null;\r\n    this.ProductoCambiar = null;\r\n    this._rotativoModel = null;\r\n    this._posicionLista = '';\r\n    this._Mes = '';\r\n    this._Grupo = '';\r\n  }\r\n\r\n  CerrarModal() {\r\n    this.ModalCambiarProductoSimilar.hide();\r\n    this.LimpiarModelo();\r\n  }\r\n\r\n  SeleccionarProducto(seleccionado: any, idProducto: any, producto: any) {\r\n\r\n    if (seleccionado == '0') {\r\n      if (!this.VerificarSeleccionado()) {\r\n        this._swalService.ShowMessage(['warning', 'Alerta', 'No se puede seleccionar mas de 1 producto a la vez!']);\r\n      } else {\r\n        this.ProductoAgregar = producto;\r\n        let ind = this.ListaProductos.findIndex(x => x.Id_Producto == idProducto);\r\n\r\n        if (ind > -1) {\r\n          this.ListaProductos[ind].Seleccionado = '1';\r\n        }\r\n      }\r\n    } else {\r\n      this.ProductoAgregar = null;\r\n      let ind = this.ListaProductos.findIndex(x => x.Id_Producto == idProducto);\r\n\r\n      if (ind > -1) {\r\n        this.ListaProductos[ind].Seleccionado = '0';\r\n      }\r\n    }\r\n  }\r\n\r\n  public CambiarProducto(data: any) {\r\n    let datos = { pos: this._posicionLista, producto: data.producto, id_cambio: data.id_cambio };\r\n    this.AgregarProductos.emit(datos);\r\n    this.CerrarModal();\r\n    this.confirmacionCambio.close;\r\n  }\r\n\r\n  private VerificarSeleccionado(): boolean {\r\n    if (this.ProductoAgregar != null) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public RegistrarCambioEnBaseDeDatos() {\r\n    if (!this.ValidateBeforeSubmit()) {\r\n      return;\r\n    } else {\r\n      let data = new FormData();\r\n      let cantidad = 0;\r\n\r\n      if (parseInt(this.ProductoCambiar.Cantidad_Requerida) > parseInt(this.ProductoAgregar.Cantidad_Disponible)) {\r\n        cantidad = this.ProductoAgregar.Cantidad_Disponible;\r\n      } else {\r\n        cantidad = this.ProductoCambiar.Cantidad_Requerida;\r\n      }\r\n\r\n      let model: any = {\r\n        id_destino: this._rotativoModel.Id_Destino,\r\n        id_origen: this._rotativoModel.Id_Origen,\r\n        fini: this._rotativoModel.Fecha_Inicio,\r\n        ffin: this._rotativoModel.Fecha_Fin,\r\n        Id_Producto_Viejo: this.ProductoCambiar.Id_Producto,\r\n        Id_Producto_Nuevo: this.ProductoAgregar.Id_Producto,\r\n        Cantidad: cantidad,\r\n        funcionario: environment.id_funcionario\r\n      }\r\n\r\n      if (this._rotativoModel.Id_Eps != '') {\r\n        model.eps = this._rotativoModel.Id_Eps;\r\n      }\r\n      let grupo: any = [];\r\n      if (this._Grupo.Id_Grupo) {\r\n        grupo = JSON.stringify(this._Grupo);\r\n      }\r\n      let mes = this._Mes;\r\n\r\n      data.append(\"modelo\", JSON.stringify(model));\r\n      data.append(\"mes\", mes);\r\n      data.append(\"grupo\", grupo);\r\n      this.http.post('php/remision_nuevo/guardar_cambio_producto.php', { params: data }).subscribe((data: any) => {\r\n        console.log(data);\r\n        this.alertOption.text = data.mensaje;\r\n        this.CambiarProducto(data);\r\n      });\r\n    }\r\n  }\r\n\r\n  private ValidateBeforeSubmit() {\r\n    if (this.ProductoAgregar == null) {\r\n      this._swalService.ShowMessage(['warning', 'Alerta', 'Debe escoger el producto a cambiar!']);\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private VerificarAgregados(idProducto: string): boolean {\r\n    let exist = this.ListaAgregados.filter(x => x == idProducto);\r\n\r\n    if (exist.length > 0) {\r\n      this._swalService.ShowMessage(['warning', 'Alerta', 'Ya este producto ha sido agregado a la lista!']);\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n\r\n","<app-modal-basic [dialogClass]=\"'modal-lg'\" #ModalCambiarProductoSimilar>\r\n  <div class=\"app-modal-header\">\r\n    <h4 class=\"modal-title\">Cambiar Producto</h4>\r\n    <button type=\"button\" class=\"close basic-close\" (click)=\"CerrarModal()\">\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"app-modal-body\">\r\n    <div class=\"form-row\">\r\n      <div class=\"col-md-12\">\r\n        <table class=\"table table-product table-striped\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width:70%;\">Nombre</th>\r\n              <th style=\"width:30%;\">Cantidad Disponible</th>\r\n            </tr>\r\n            <!-- <tr *ngIf=\"Cargando\">\r\n              <td colspan=\"5\" class=\"text-center\">\r\n                <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n                <span class=\"sr-only\">Cargando...</span>\r\n                <h4>Cargando productos...</h4>\r\n              </td>\r\n            </tr>\r\n            <tr *ngIf=\"ListaProductos.length == 0 && !Cargando\">\r\n              <td colspan=\"5\" class=\"text-center\">\r\n                  <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n                  <h4>No hay datos para mostrar</h4>\r\n              </td>\r\n            </tr> -->\r\n          </thead>\r\n          <tbody *ngIf=\"!Cargando\">\r\n            <tr *ngFor=\"let p of ListaProductos; let i=index\"\r\n              (click)=\"SeleccionarProducto(p.Seleccionado, p.Id_Producto, p)\"\r\n              [ngClass]=\"{'bg-selected': p.Seleccionado == 1}\"\r\n              style=\"cursor:pointer;\">\r\n              <td>\r\n                <strong>{{p.Nombre_Comercial}}</strong><p class=\"text-muted\" style=\"font-size:9px;\">{{p.Nombre}}</p>\r\n              </td>\r\n              <td>\r\n                {{ p.Cantidad_Disponible }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"app-modal-footer\">\r\n    <div class=\"text-right\">\r\n      <button type=\"button\" class=\"btn btn-outline-danger btn-round btn-sm\" (click)=\"CerrarModal()\">Cerrar</button>\r\n      <button type=\"button\" class=\"btn btn-outline-primary btn-round btn-sm\" [disabled]=\"ProductoAgregar == null\"\r\n      (click)=\"confirmacionCambio.show()\">\r\n        Cambiar Producto\r\n      </button>\r\n    </div>\r\n  </div>\r\n</app-modal-basic>\r\n\r\n<swal #confirmacionCambio [swalOptions]=\"alertOption\"></swal>","import { Pipe } from '@angular/core';\nimport * as ɵngcc0 from '@angular/core';\nvar TruncateCharactersPipe = (function () {\n    function TruncateCharactersPipe() {\n    }\n    TruncateCharactersPipe.prototype.transform = function (value, limit, trail) {\n        if (limit === void 0) { limit = 40; }\n        if (trail === void 0) { trail = '…'; }\n        if (!value) {\n            value = '';\n        }\n        if (limit < 0) {\n            limit *= -1;\n            return value.length > limit ? trail + value.substring(value.length - limit, value.length) : value;\n        }\n        else {\n            return value.length > limit ? value.substring(0, limit) + trail : value;\n        }\n    };\n    /** @nocollapse */\n    TruncateCharactersPipe.ctorParameters = function () { return []; };\nTruncateCharactersPipe.ɵfac = function TruncateCharactersPipe_Factory(t) { return new (t || TruncateCharactersPipe)(); };\nTruncateCharactersPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"truncate\", type: TruncateCharactersPipe, pure: true });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TruncateCharactersPipe, [{\n        type: Pipe,\n        args: [{\n                name: 'truncate'\n            }]\n    }], function () { return []; }, null); })();\n    return TruncateCharactersPipe;\n}());\nexport { TruncateCharactersPipe };\n\n//# sourceMappingURL=truncate-characters.pipe.js.map","export class ProductoCargarRemision{\r\n    public Id_Producto:number = 0;\r\n    public Cantidad_Disponible:number = 0;\r\n    public Cantidad_Presentacion:number = 0;\r\n    public Cantidad_Pendiente:number = 0;\r\n    public Cantidad_Requerida:number = null;\r\n    public Cantidad:number = null;\r\n    public Costo:number = 0;\r\n    public Rotativo:string = '0/0';\r\n    public Categoria:string = '';\r\n    public Id_Categoria:number = 0;\r\n    public Id_Subcategoria:number = 0;\r\n    public Codigo_Cum:string = '';\r\n    public Embalaje:string = '';\r\n    public Laboratorio_Comercial:string = '';\r\n    public Laboratorio_Generico:string = '';\r\n    public Nombre:string = '';\r\n    public Nombre_Comercial:string = '';\r\n    public Precio:string = '';\r\n    public Precio_Regulado:number = 0;\r\n    public Impuesto:number = 0;\r\n    public Descuento:number = 0;\r\n    public Subtotal:number = 0;\r\n    public Total_Descuento:number = 0;\r\n    public Total_Impuesto:number = 0;\r\n    public Seleccionado:string = \"0\";\r\n    public Regulado:string = \"Si\";\r\n    public Lotes:Array<any> = [];\r\n    public Lotes_Visuales:Array<string> = [];\r\n    public Lotes_Seleccionados:Array<any> = [];\r\n    public Similares:Array<any> = [];\r\n}\r\n","import { Component, ElementRef, OnInit, ViewChild, ViewEncapsulation, TemplateRef } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport '../../../../assets/charts/amchart/amcharts';\r\nimport '../../../../assets/charts/amchart/gauge';\r\nimport '../../../../assets/charts/amchart/pie';\r\nimport '../../../../assets/charts/amchart/serial';\r\nimport '../../../../assets/charts/amchart/light';\r\nimport '../../../../assets/charts/amchart/ammap';\r\nimport '../../../../assets/charts/amchart/worldLow';\r\nimport '../../../../assets/charts/amchart/continentsLow';\r\nimport { Location } from \"@angular/common\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { IMyDrpOptions } from 'mydaterangepicker';\r\nimport swal, { SweetAlertOptions } from 'sweetalert2';\r\nimport { environment } from 'src/environments/environment';\r\nimport { functionsUtils } from 'src/app/core/utils/functionsUtils';\r\nimport { MatAccordion } from '@angular/material';\r\nimport { DatePipe } from '@angular/common';\r\nimport { DateAdapter } from 'saturn-datepicker';\r\n\r\n@Component({\r\n  selector: 'app-remisiones',\r\n  templateUrl: './remisiones.component.html',\r\n  styleUrls: ['./remisiones.component.scss']\r\n})\r\nexport class RemisionesComponent implements OnInit {\r\n  datePipe = new DatePipe('es-CO');\r\n  public Mes = [];\r\n  public Datos: any = [];\r\n  public Remisiones = [];\r\n  public Nofacturadas: any = [];\r\n  public Facturadas: any = [];\r\n  public Noconforme: any = [];\r\n  public Borrador: any = [];\r\n  public Anulada: any = [];\r\n  public Indicador: boolean = true;\r\n  public Anuladas: any = {};\r\n  public studentChartOption: any;\r\n  public Cargando: boolean = true;\r\n  @ViewChild('studentChart') studentChart: ElementRef;\r\n  @ViewChild('deleteSwal') deleteSwal: any;\r\n  @ViewChild('confirmaSwal') confirmaSwal: any;\r\n  @ViewChild('anularSwal') anularSwal: any;\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  matPanel = false;\r\n  openClose(){\r\n    if (this.matPanel == false){\r\n      this.accordion.openAll()\r\n      this.matPanel = true;\r\n    } else {\r\n      this.accordion.closeAll()\r\n      this.matPanel = false;\r\n    }    \r\n  }\r\n  public facturacionChartTag: CanvasRenderingContext2D;\r\n  rowsFilter = [];\r\n  tempFilter = [];\r\n  columns = [];\r\n  loadingIndicator = true;\r\n  timeout: any;\r\n  public user: any;\r\n  Lista_Remisiones: any = [];\r\n  public maxSize = 15;\r\n  public TotalItems: number;\r\n  public page = 1;\r\n  public filtro_fecha: any = '';\r\n  public filtro_cod: string = '';\r\n  public filtro_tipo: string = '';\r\n  public filtro_origen: string = '';\r\n  public filtro_grupo: string = '';\r\n  public filtro_destino: string = '';\r\n  public filtro_est: string = '';\r\n  public filtro_fase: string = '';\r\n\r\n  public punto_informe = 0;\r\n  public punto_informe2 = 0;\r\n  public fecha_informe = '';\r\n  public fecha_informe2 = '';\r\n  public Id_Remision: any = '';\r\n  public Id_Contrato: any = '';\r\n\r\n  public Puntos = [];\r\n  public Clientes = [];\r\n  myDateRangePickerOptions: IMyDrpOptions = {\r\n    width: '100px',\r\n    height: '21px',\r\n    selectBeginDateTxt: 'Inicio',\r\n    selectEndDateTxt: 'Fin',\r\n    selectionTxtFontSize: '10px',\r\n    dateFormat: 'yyyy-mm-dd',\r\n  };\r\n\r\n  @ViewChild('PlantillaBotones') PlantillaBotones: TemplateRef<any>;\r\n  @ViewChild('PlantillaEstado') PlantillaEstado: TemplateRef<any>;\r\n  @ViewChild('PlantillaTipo') PlantillaTipo: TemplateRef<any>;\r\n  @ViewChild('EstadoRemision') EstadoRemision: TemplateRef<any>;\r\n  public studentChartData: any;\r\n  public alertInputOption: SweetAlertOptions = {};\r\n  public env = environment;\r\n  date: { year: number; month: number };\r\n  constructor(private http: HttpClient, private location: Location, private route: ActivatedRoute, private dateAdapter: DateAdapter<any>) {\r\n    this.ListarRemisiones();\r\n    this.dateAdapter.setLocale('es');\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.clear();\r\n    this.user = JSON.parse(localStorage.getItem(\"User\"));\r\n    this.http.get(environment.ruta + 'php/remision/grafica_remisiones.php').subscribe((data: any) => {\r\n\r\n      data.forEach(element => {\r\n        this.Mes.push(element.date);\r\n        this.Remisiones.push(element.Remisiones);\r\n      });\r\n\r\n    });\r\n\r\n    this.http.get(environment.ruta + 'php/remision/detalle_tipo.php').subscribe((data: any) => {\r\n      this.Datos = data.Tipo;\r\n      this.Anuladas = data.Anuladas;\r\n      this.Facturadas = data.Tipo_Facturacion[0].Facturadas;\r\n      this.Nofacturadas = data.Tipo_Facturacion[0].No_Facturadas;\r\n      this.Noconforme = data.No_Conforme;\r\n      //// console.log(data);\r\n\r\n    });\r\n    this.ListarBorradores();\r\n\r\n    this.alertInputOption = {\r\n      title: \"Observacion \",\r\n      text: \"Ingrese una Observacion o motivo de anulacion\",\r\n      input: 'text',\r\n      showCancelButton: true,\r\n      cancelButtonText: \"Cancelar\",\r\n      confirmButtonText: 'Anular',\r\n      focusCancel: true,\r\n      inputValidator: (value) => {\r\n        return new Promise((resolve) => {\r\n          if (!value) {\r\n            resolve('Valor no puede estar vacio');\r\n          } else if (value.length < 10) {\r\n            resolve('la observacion debe tener como minimo 10 caracteres!');\r\n          } else {\r\n            //Metodo de Anular\r\n            this.AnularRemision(value);\r\n            resolve('');\r\n          }\r\n        })\r\n      },\r\n      // type: 'info'\r\n    }\r\n  }\r\n  ListarBorradores() {\r\n    this.http.get(environment.ruta + 'php/remision/borradores_remision.php?func=' + environment.id_funcionario).subscribe((data: any) => {\r\n      this.Borrador = data;\r\n    });\r\n  }\r\n\r\n  ListarRemisiones() {\r\n    let params = this.route.snapshot.queryParams;\r\n    let queryString = '';\r\n\r\n    if (Object.keys(params).length > 0) { // Si existe parametros o filtros\r\n      // actualizando la variables con los valores de los paremetros.\r\n      this.page = params.pag ? params.pag : 1;\r\n      this.filtro_fecha = params.fecha ? params.fecha : '';\r\n      this.filtro_cod = params.cod ? params.cod : '';\r\n      this.filtro_tipo = params.tipo ? params.tipo : '';\r\n      this.filtro_origen = params.origen ? params.origen : '';\r\n      this.filtro_grupo = params.grupo ? params.grupo : '';\r\n      this.filtro_destino = params.destino ? params.destino : '';\r\n      this.filtro_est = params.est ? params.est : '';\r\n      this.filtro_fase = params.fase ? params.fase : '';\r\n\r\n      queryString = '?' + Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n    }\r\n    this.http.get(environment.ruta + '/php/remision_nuevo/remisiones.php' + queryString).subscribe((data: any) => {\r\n      console.log(data);\r\n\r\n      this.Cargando = false;\r\n      this.Lista_Remisiones = data.remisiones;\r\n      this.TotalItems = data.numReg;\r\n    });\r\n\r\n    this.http.get(environment.ruta + 'php/remision/detalle_tipo.php').subscribe((data: any) => {\r\n      this.Datos = data.Tipo;\r\n      this.Anuladas = data.Anuladas;\r\n      this.Facturadas = data.Tipo_Facturacion[0].Facturadas;\r\n      this.Nofacturadas = data.Tipo_Facturacion[0].No_Facturadas;\r\n      //// console.log(data);\r\n\r\n    });\r\n  }\r\n  EliminarBorrador(id) {\r\n    let datos = new FormData();\r\n    datos.append(\"Id_Borrador\", id);\r\n    this.http.post(environment.ruta + 'php/remision/elimina_borrador.php', datos).subscribe((data: any) => {\r\n      this.confirmaSwal.show();\r\n      this.ListarBorradores();\r\n    });\r\n  }\r\n\r\n  paginacion() {\r\n    let params: any = {\r\n      pag: this.page\r\n    };\r\n    if (this.filtro_fecha != \"\" && this.filtro_fecha != null) {\r\n      params.fecha = this.filtro_fecha;\r\n    }\r\n    if (this.filtro_cod != \"\") {\r\n      params.cod = this.filtro_cod;\r\n    }\r\n    if (this.filtro_tipo != \"\") {\r\n      params.tipo = this.filtro_tipo;\r\n    }\r\n    if (this.filtro_origen != \"\") {\r\n      params.origen = this.filtro_origen;\r\n    }\r\n    if (this.filtro_grupo != \"\") {\r\n      params.grupo = this.filtro_grupo;\r\n    }\r\n    if (this.filtro_destino != \"\") {\r\n      params.destino = this.filtro_destino;\r\n    }\r\n    if (this.filtro_fase != \"\") {\r\n      params.fase = this.filtro_fase;\r\n    }\r\n    if (this.filtro_est != \"\") {\r\n      params.est = this.filtro_est;\r\n    }\r\n\r\n    let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n    this.location.replaceState('/remisionesnuevo', queryString);\r\n\r\n    this.Cargando = true;\r\n\r\n    this.http.get(environment.ruta + '/php/remision_nuevo/remisiones.php?' + queryString).subscribe((data: any) => {\r\n      this.Cargando = false;\r\n      this.Lista_Remisiones = data.remisiones;\r\n      this.TotalItems = data.numReg;\r\n    });\r\n  }\r\n\r\n  dateRangeChanged(event) {\r\n\r\n    if (event.formatted != \"\") {\r\n      this.filtro_fecha = event;\r\n    } else {\r\n      this.filtro_fecha = '';\r\n    }\r\n\r\n    this.filtros();\r\n  }\r\n  selectedDate(fecha) {\r\n    this.filtro_fecha =\r\n      this.datePipe.transform(fecha.value.begin._d, 'yyyy-MM-dd') +\r\n      ' - ' +\r\n      this.datePipe.transform(fecha.value.end._d, 'yyyy-MM-dd');\r\n  }\r\n  dateRangeChanged2(event, tipo) {\r\n    // console.log(event);\r\n    if (event.formatted != \"\") {\r\n      if (tipo == 'remision') {\r\n        this.fecha_informe = event.formatted;\r\n      } else {\r\n        this.fecha_informe2 = event.formatted;\r\n      }\r\n\r\n    } else {\r\n      if (tipo == 'remision') {\r\n        this.fecha_informe = '';\r\n      } else {\r\n        this.fecha_informe2 = '';\r\n      }\r\n    }\r\n  }\r\n\r\n  filtros() {\r\n    let params: any = {};\r\n    if (this.filtro_fecha != \"\" || this.filtro_cod != \"\" || this.filtro_tipo != \"\" || this.filtro_origen != \"\" || this.filtro_grupo != \"\" || this.filtro_destino != \"\" || this.filtro_est || this.filtro_fase) {\r\n      this.page = 1;\r\n      params.pag = this.page;\r\n\r\n      if (this.filtro_fecha != \"\" && this.filtro_fecha != null) {\r\n        params.fecha = this.filtro_fecha;\r\n      }\r\n      if (this.filtro_cod != \"\") {\r\n        params.cod = this.filtro_cod;\r\n      }\r\n      if (this.filtro_tipo != \"\") {\r\n        params.tipo = this.filtro_tipo;\r\n      }\r\n      if (this.filtro_origen != \"\") {\r\n        params.origen = this.filtro_origen;\r\n      }\r\n      if (this.filtro_grupo != \"\") {\r\n        params.grupo = this.filtro_grupo;\r\n      }\r\n      if (this.filtro_destino != \"\") {\r\n        params.destino = this.filtro_destino;\r\n      }\r\n      if (this.filtro_est != \"\") {\r\n        params.est = this.filtro_est;\r\n      }\r\n      if (this.filtro_fase != \"\") {\r\n        params.fase = this.filtro_fase;\r\n      }\r\n\r\n      let queryString = Object.keys(params).map(key => key + '=' + params[key]).join('&');\r\n\r\n      this.location.replaceState('/remisionesnuevo', queryString);\r\n\r\n      this.Cargando = true;\r\n\r\n      this.http.get(environment.ruta + '/php/remision_nuevo/remisiones.php?' + queryString).subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.Lista_Remisiones = data.remisiones;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n    } else {\r\n      this.location.replaceState('/remisionesnuevo', '');\r\n\r\n      this.page = 1;\r\n      this.filtro_cod = '';\r\n      this.filtro_destino = '';\r\n      this.filtro_est = '';\r\n      this.filtro_fecha = '';\r\n      this.filtro_tipo = '';\r\n      this.filtro_origen = '';\r\n      this.filtro_grupo = '';\r\n      this.filtro_fase = '';\r\n\r\n      this.Cargando = true;\r\n      this.http.get(environment.ruta + '/php/remision_nuevo/remisiones.php').subscribe((data: any) => {\r\n        this.Cargando = false;\r\n        this.Lista_Remisiones = data.remisiones;\r\n        this.TotalItems = data.numReg;\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  SuspenderRemision(id, idc) {\r\n    this.Id_Remision = id;\r\n    this.Id_Contrato = idc;\r\n    this.anularSwal.show();\r\n  }\r\n\r\n  AnularRemision(value) {\r\n\r\n    let datos = new FormData();\r\n    datos.append(\"modulo\", 'Remision');\r\n    datos.append(\"id\", this.Id_Remision);\r\n    datos.append(\"idc\", this.Id_Contrato);\r\n    datos.append(\"funcionario\", this.user.Identificacion_Funcionario);\r\n    datos.append(\"observacion\", functionsUtils.utf8_encode(value))\r\n    this.http.post(environment.ruta + 'php/remision_nuevo/anular_remision_dev.php', datos).subscribe((data: any) => {\r\n      this.deleteSwal.title = data.title;\r\n      this.deleteSwal.type = data.type;\r\n      this.deleteSwal.text = data.message;\r\n      this.deleteSwal.show();\r\n      this.ListarRemisiones();\r\n\r\n      this.Id_Remision = '';\r\n    });\r\n  }\r\n\r\n\r\n  perfilAdministrador() {\r\n    let miPerfil = localStorage.getItem('miPerfil');\r\n\r\n    if (miPerfil == '16') {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n}\r\n","<!-- <div class=\"col-md-12 \"> -->\r\n<div class=\"card\">\r\n  <div class=\"card-body\">\r\n    <div class=\"card-title d-flex justify-content-between\">\r\n      <h4 class=\"text-primary\">Remisiones</h4>\r\n      <div class=\"btn-group rounded\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-primary btn-sm\"\r\n          [routerLink]=\"['remisioncrearnuevo']\"\r\n        >\r\n          <i class=\"fa fa-plus\"></i>\r\n          Agregar\r\n        </button>\r\n        <button\r\n          class=\"btn btn-info btn-sm\"\r\n          style=\"float: right\"\r\n          (click)=\"openClose()\"\r\n        >\r\n          <i class=\"fas fa-sliders-h\"></i> Filtros\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr class=\"line\" />\r\n    <mat-accordion multi>\r\n      <mat-expansion-panel class=\"mat-elevation-z0\">\r\n        <mat-form-field appearance=\"outline\" class=\"col-md-3 pl-0\">\r\n          <mat-label>Fecha</mat-label>\r\n          <input\r\n            matInput\r\n            [satDatepicker]=\"picker\"\r\n            [value]=\"date\"\r\n            (dateChange)=\"selectedDate($event)\"\r\n            (dateInput)=\"selectedDate($event)\"\r\n            name=\"daterange\"\r\n            autocomplete=\"off\"\r\n            required\r\n          />\r\n          <sat-datepicker #picker [rangeMode]=\"true\"></sat-datepicker>\r\n          <sat-datepicker-toggle\r\n            matSuffix\r\n            [for]=\"picker\"\r\n          ></sat-datepicker-toggle>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Código</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por código\"\r\n            [(ngModel)]=\"filtro_cod\"\r\n            (input)=\"filtros()\"\r\n            autocomplete=\"off\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Tipo</mat-label>\r\n          <mat-select [(ngModel)]=\"filtro_tipo\" (selectionChange)=\"filtros()\">\r\n            <mat-option value=\"\">Todos</mat-option>\r\n            <mat-option value=\"Cliente\">Cliente</mat-option>\r\n            <mat-option value=\"Interna\">Interna</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Origen</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por origen\"\r\n            [(ngModel)]=\"filtro_origen\"\r\n            (input)=\"filtros()\"\r\n            autocomplete=\"off\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Grupo</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por grupo\"\r\n            [(ngModel)]=\"filtro_grupo\"\r\n            (input)=\"filtros()\"\r\n            autocomplete=\"off\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Destino</mat-label>\r\n          <input\r\n            matInput\r\n            type=\"text\"\r\n            placeholder=\"Busca por destino\"\r\n            [(ngModel)]=\"filtro_destino\"\r\n            (input)=\"filtros()\"\r\n            autocomplete=\"off\"\r\n          />\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Estado</mat-label>\r\n          <mat-select [(ngModel)]=\"filtro_est\" (selectionChange)=\"filtros()\">\r\n            <mat-option value=\"\">Todos</mat-option>\r\n            <mat-option value=\"Pendiente\">Pendiente</mat-option>\r\n            <mat-option value=\"Alistada\">Alistada</mat-option>\r\n            <mat-option value=\"Enviada\">Enviada</mat-option>\r\n            <mat-option value=\"Recibida\">Recibida</mat-option>\r\n            <mat-option value=\"No conforme\">No conforme</mat-option>\r\n            <mat-option value=\"Anulada\">Anulada</mat-option>\r\n            <mat-option value=\"Facturada\">Facturada</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-3 pl-0\" appearance=\"outline\">\r\n          <mat-label>Estado</mat-label>\r\n          <mat-select [(ngModel)]=\"filtro_fase\" (selectionChange)=\"filtros()\">\r\n            <mat-option value=\"\">Todas</mat-option>\r\n            <mat-option value=\"0\">Fase 1</mat-option>\r\n            <mat-option value=\"1\">Fase 2</mat-option>\r\n            <mat-option value=\"2\">Listo</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </mat-expansion-panel>\r\n    </mat-accordion>\r\n    <table\r\n      class=\"table table-bordered table-striped table-sm table-responsive-sm\"\r\n      style=\"font-size: small\"\r\n      *ngIf=\"!Cargando && Lista_Remisiones.length > 0; else notData\"\r\n    >\r\n      <thead>\r\n        <tr class=\"text-center text-uppercase\">\r\n          <th>Fecha</th>\r\n          <th>Código</th>\r\n          <th>Tipo</th>\r\n          <th>Origen</th>\r\n          <th>Grupo</th>\r\n          <th>Destino</th>\r\n          <th>Observaciones</th>\r\n          <th>Items</th>\r\n          <th>Estado</th>\r\n          <th>Fase</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr\r\n          *ngFor=\"let remision of Lista_Remisiones; let i = index\"\r\n          class=\"{{\r\n            remision.Estado == 'Anulada' ? 'text-danger' : ''\r\n          }} text-center\"\r\n        >\r\n          <td class=\"align-middle\">\r\n            {{ remision.Fecha_Remision | date: \"longDate\" }}\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            {{ remision.Codigo }}\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            <span\r\n              class=\"label {{\r\n                remision.Tipo == 'Cliente' ? 'label-success' : 'label-primary'\r\n              }}\"\r\n              >{{ remision.Tipo }}\r\n            </span>\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            {{ remision.Punto_Origen }}\r\n            <!--  <i *ngIf=\"remision.Tipo_Bodega=='MEDICAMENTOS'\" class=\"fa fa-medkit\"></i>\r\n                                      <i *ngIf=\"remision.Tipo_Bodega=='MATERIALES'\" class=\"fa fa-archive\"></i>\r\n                                      <i *ngIf=\"remision.Tipo_Bodega=='REFRIGERADOS'\" class=\"fa fa-asterisk\"></i> -->\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            {{ remision.Grupo }}\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            {{ remision.Punto_Destino }}\r\n          </td>\r\n          <td class=\"col-md-2\">\r\n            <p\r\n              class=\"align-middle text-info mt-1 mb-0\"\r\n              data-toggle=\"collapse\"\r\n              [attr.data-target]=\"'#collapseExample' + i\"\r\n              role=\"button\"\r\n              aria-expanded=\"false\"\r\n              [attr.aria-controls]=\"'collapseExample' + i\"\r\n            >\r\n              <i class=\"fa fa-info-circle\"></i> Observaciones\r\n          </p>\r\n            <div class=\"collapse mt-1\" [id]=\"'collapseExample' + i\">\r\n              <p>\r\n                {{\r\n                  remision.Observaciones == \"\"\r\n                    ? \"No tiene Observaciones!\"\r\n                    : remision.Observaciones\r\n                }}\r\n              </p>\r\n            </div>\r\n            <!--  <span class=\"mytooltip tooltip-effect-2\"\r\n              ><span class=\"tooltip-item2\">\r\n                <p><i class=\"fa fa-info-circle\"></i> Observaciones</p> </span\r\n              ><span class=\"tooltip-content4 clearfix\"\r\n                ><span class=\"tooltip-text2\">{{\r\n                  remision.Observaciones == \"\"\r\n                    ? \"No tiene Observaciones!\"\r\n                    : remision.Observaciones\r\n                }}</span></span\r\n              >\r\n            </span> -->\r\n          </td>\r\n          <td class=\"align-middle\">{{ remision.Items }}</td>\r\n          <td class=\"align-middle\">\r\n            <div class=\"text-center\">\r\n              <span\r\n                *ngIf=\"remision.Estado != 'Facturada'\"\r\n                [ngClass]=\"{\r\n                  'badge-secondary': remision.Estado == 'Alistada',\r\n                  'badge-danger': remision.Estado == 'Pendiente',\r\n                  'badge-info': remision.Estado == 'Enviada',\r\n                  'badge-success': remision.Estado == 'Recibida'\r\n                }\"\r\n                class=\"badge\"\r\n              >\r\n                {{ remision.Estado }}\r\n              </span>\r\n\r\n              <a\r\n                *ngIf=\"remision.Estado == 'Facturada'\"\r\n                class=\"label label-success\"\r\n                [routerLink]=\"['/facturasventasver', remision.Id_Factura]\"\r\n                >Facturada</a\r\n              >\r\n            </div>\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            <strong>{{ remision.Fase }}</strong>\r\n          </td>\r\n          <td class=\"align-middle\">\r\n            <div class=\"text-center\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn btn-primary btn-sm waves-effect waves-light\"\r\n                  type=\"button\"\r\n                >\r\n                  <i class=\"mdi mdi-chevron-down\"></i>\r\n                </button>\r\n                <div ngbDropdownMenu>\r\n                  <!--<a *ngIf=\"perfilAdministrador() && remision.Estado!='Anulada' && remision.Estado_Alistamiento==0 &&remision.Fase_1==0\" class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                            href=\"\" [routerLink]=\"['/remisioneditar',remision.Id_Remision]\">\r\n                            <i class=\"ti-pencil\"></i> Editar</a>-->\r\n                  <a\r\n                    class=\"text-info dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"\"\r\n                    [routerLink]=\"[\r\n                      '/inventario/remisiones/remision',\r\n                      remision.Id_Remision\r\n                    ]\"\r\n                  >\r\n                    <i class=\"fas fa-eye\"></i> Ver</a\r\n                  >\r\n\r\n                  <a\r\n                    *ngIf=\"remision.Estado != 'Anulada'\"\r\n                    class=\"text-success dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      env.ruta\r\n                    }}/php/archivos/descarga_pdf.php?tipo=Remision&id={{\r\n                      remision.Id_Remision\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fas fa-file\"></i> Archivo</a\r\n                  >\r\n                  <a\r\n                    *ngIf=\"\r\n                      remision.Estado != 'Anulada' && remision.Tipo == 'Cliente'\r\n                    \"\r\n                    class=\"text-success dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      env.ruta\r\n                    }}/php/archivos/descarga_pdf_price.php?tipo=Remision&id={{\r\n                      remision.Id_Remision\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fas fa-file-invoice-dollar\"></i> Archivo con costos</a\r\n                  >\r\n\r\n                  <a\r\n                    *ngIf=\"remision.Estado != 'Anulada'\"\r\n                    class=\"text-success dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{ env.ruta }}/php/archivos/descarga_zebra.php?id={{\r\n                      remision.Id_Remision\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fas fa-print\"></i> Imprimir etiqueta</a\r\n                  >\r\n\r\n                  <a\r\n                    *ngIf=\"remision.Estado != 'Anulada'\"\r\n                    class=\"text-success dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{ env.ruta }}/php/archivos/descarga_excel.php?id={{\r\n                      remision.Id_Remision\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fas fa-file-download\"></i> Descargar plano</a\r\n                  >\r\n\r\n                  <!--   <a *ngIf=\"!perfilAdministrador() && remision.Estado!='Anulada' && remision.Estado_Alistamiento==0 && remision.Fase_1==0\" class=\"dropdown-item waves-light waves-effect caja-botones\" (click)=\"SuspenderRemision(remision.Id_Remision)\">\r\n                                                      <i class=\"fa fa-times\"></i> Anular</a> -->\r\n\r\n                  <a\r\n                    *ngIf=\"\r\n                      perfilAdministrador() &&\r\n                      remision.Estado != 'Anulada' &&\r\n                      remision.Estado != 'Recibida' &&\r\n                      remision.Estado != 'Facturada' &&\r\n                      remision.Estado != 'Enviada'\r\n                    \"\r\n                    class=\"text-danger dropdown-item waves-light waves-effect caja-botones\"\r\n                    (click)=\"\r\n                      SuspenderRemision(\r\n                        remision.Id_Remision,\r\n                        remision.Id_Contrato\r\n                      )\r\n                    \"\r\n                  >\r\n                    <i class=\"fa fa-times\"></i> Anular</a\r\n                  >\r\n\r\n                  <a\r\n                    *ngIf=\"\r\n                      perfilAdministrador() &&\r\n                      remision.Estado != 'Anulada' &&\r\n                      remision.Estado != 'Recibida' &&\r\n                      remision.Estado != 'Enviada'\r\n                    \"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"\"\r\n                    [routerLink]=\"['/cambiarlote', remision.Id_Remision]\"\r\n                  >\r\n                    <i class=\"fa fa-times\"></i> Cambiar Lote</a\r\n                  >\r\n\r\n                  <a\r\n                    *ngIf=\"\r\n                      remision.Estado != 'Anulada' &&\r\n                      remision.Entrega_Pendientes == 'Si'\r\n                    \"\r\n                    class=\"dropdown-item waves-light waves-effect caja-botones\"\r\n                    href=\"{{\r\n                      env.ruta\r\n                    }}/php/remision/entrega_pendientes_pdf.php?id={{\r\n                      remision.Id_Remision\r\n                    }}\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    <i class=\"fa fa-print\"></i> Documento Disp.</a\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- {{ page * maxSize - maxSize + 1 }} al\r\n    {{ page * maxSize > TotalItems ? TotalItems : page * maxSize }} de\r\n    {{ TotalItems }} -->\r\n    <ngb-pagination\r\n      class=\"d-flex justify-content-center pagination-rounded pagination-sm\"\r\n      [(collectionSize)]=\"TotalItems\"\r\n      [(page)]=\"page\"\r\n      [maxSize]=\"10\"\r\n      [pageSize]=\"maxSize\"\r\n      size=\"sm\"\r\n      (pageChange)=\"paginacion()\"\r\n      [rotate]=\"true\"\r\n      [boundaryLinks]=\"true\"\r\n    >\r\n    </ngb-pagination>\r\n  </div>\r\n</div>\r\n<!-- </div> -->\r\n\r\n<ng-template #test>\r\n  <span>prueba</span>\r\n</ng-template>\r\n\r\n<swal\r\n  #confirmaSwal\r\n  title=\"Borrador Eliminado\"\r\n  text=\"Su Borrador Fue Eliminado de Manera Correcta, Los productos seleccionados, liberaron sus cantidades\"\r\n  type=\"success\"\r\n>\r\n</swal>\r\n\r\n<swal #deleteSwal title=\"\" text=\"\" type=\"\"> </swal>\r\n<swal #anularSwal [swalOptions]=\"alertInputOption\"></swal>\r\n<ng-template #notData>\r\n  <app-not-data [loading]=\"Cargando\"></app-not-data>\r\n</ng-template>\r\n","import { Routes, RouterModule } from '@angular/router';\r\nimport { NgModule } from '@angular/core';\r\nimport { RemisionesComponent } from './remisiones.component';\r\nimport { RemisioncrearnuevoComponent } from './remisioncrearnuevo/remisioncrearnuevo.component';\r\nimport { RemisioneditarComponent } from './remisioneditar/remisioneditar.component';\r\nimport { RemisionComponent } from './remision/remision.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', component: RemisionesComponent\r\n  },\r\n  {\r\n    path: 'remisioncrearnuevo', component: RemisioncrearnuevoComponent\r\n  },\r\n  {\r\n    path: 'remision/:id', component: RemisionComponent\r\n  },\r\n  {\r\n    path: 'remisioneditar/:id', component: RemisioneditarComponent\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class RemisionRoutes { };\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n// import { Globales } from '../../../shared/globales/globales';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class ProductoService {\r\n\r\n  private _rutaBase: string = environment.ruta + 'php/GENERALES/productos/';\r\n  private _rutaProductos: string = environment.ruta + 'php/productos/productosasociados/';\r\n  private _rutaProductosControl: string = environment.ruta + 'php/productos/productoscontrolados/';\r\n  private _rutaProductosRemision: string = environment.ruta + 'php/remision/';\r\n\r\n  constructor(private client: HttpClient,\r\n    // private globales:Globales\r\n  ) { }\r\n\r\n  getListaProductos(p: any): Observable<any> {\r\n    return this.client.get(this._rutaBase + 'get_lista_productos.php', { params: p });\r\n  }\r\n\r\n  GetProductosFiltrar(): Observable<any> {\r\n    return this.client.get(this._rutaProductos + 'get_productos_filtrar.php');\r\n  }\r\n\r\n  public GetDetalleAsociado(idAsociado: string): Observable<any> {\r\n    let p = { id_producto_asociado: idAsociado };\r\n    return this.client.get(this._rutaProductos + 'get_detalle_productos_asociados.php', { params: p });\r\n  }\r\n\r\n  public GetDetalleControlado(idControlado: string): Observable<any> {\r\n    let p = { id_producto_controlado: idControlado };\r\n    return this.client.get(this._rutaProductosControl + 'get_detalle_producto_controlado.php', { params: p });\r\n  }\r\n\r\n  GetListaProductosAsociados(p: any): Observable<any> {\r\n    return this.client.get(this._rutaProductos + 'get_lista_productos_asociados.php', { params: p });\r\n  }\r\n\r\n  GetListaProductosControlados(p: any): Observable<any> {\r\n    return this.client.get(this._rutaProductosControl + 'get_lista_productos_controlados.php', { params: p });\r\n  }\r\n\r\n  public GuardarProductosAsociados(data: FormData): Observable<any> {\r\n    return this.client.post(this._rutaProductos + 'guardar_productos_asociados.php', data);\r\n  }\r\n\r\n  public GuardarProductosControlado(data: FormData): Observable<any> {\r\n    return this.client.post(this._rutaProductosControl + 'guardar_producto_controlado.php', data);\r\n  }\r\n\r\n  public ActualizarProductosAsociados(data: FormData): Observable<any> {\r\n    return this.client.post(this._rutaProductos + 'editar_productos_asociados.php', data);\r\n  }\r\n\r\n  public ActualizarProductoControlado(data: FormData): Observable<any> {\r\n    return this.client.post(this._rutaProductosControl + 'actualizar_producto_controlado.php', data);\r\n  }\r\n\r\n  public EliminarControl(data: FormData): Observable<any> {\r\n    return this.client.post(this._rutaProductosControl + 'eliminar_producto_controlado.php', data);\r\n  }\r\n\r\n  public GetListaProductosRemision(p: any): Observable<any> {\r\n    return this.client.get(this._rutaProductosRemision + 'get_productos_inventario.php', { params: p });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class DispensacionService {\r\n\r\n  constructor(private client: HttpClient) { }\r\n\r\n\r\n  // public GetDataPositiva(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_datos_positiva.php', { params: p });\r\n  // }\r\n\r\n  // public GetServicios(punto: string): Observable<any> {\r\n  //   let p = { punto: punto };\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_servicios.php', { params: p });\r\n  // }\r\n  // public GetTipoServicios(serv: string, id_punto:string): Observable<any> {\r\n  //   let p = { serv: serv, id_punto:id_punto };\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_tipo_servicios.php', { params: p });\r\n  // }\r\n\r\n  // public GetSoportes(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_tipos_soporte.php', { params: p });\r\n  // }\r\n  // public GetNumeroPrescripcion(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_numero_prescripcion.php', { params: p });\r\n  // }\r\n  // public GetIdDireccionamineto(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_id_direccionamiento.php', { params: p });\r\n  // }\r\n  // public GetProductosNumeroPrescripcion(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_productos_numero_prescripcion.php', { params: p });\r\n  // }\r\n  // public GetProductosIdDireccionamiento(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_productos_id_direccionamiento.php', { params: p });\r\n  // }\r\n\r\n  // public GetCamposDinamicosDispensacion(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_campos_dispensacion.php', { params: p });\r\n  // }\r\n\r\n  // public GetInformacionTipoServicio(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_info_tipo_servicio.php', { params: p });\r\n  // }\r\n\r\n  // public GetCamposDinamicosProductosDispensacion(p:any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_campos_productos_dispensacion.php', { params: p });\r\n  // }\r\n\r\n  // public GetPaciente(idPaciente: string, idPunto: string): Observable<any> {\r\n  //   let p = { id_paciente: idPaciente, id_punto: idPunto };\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_paciente.php', { params: p });\r\n  // }\r\n  // public GetTipoDocumento(): Observable<any> {\r\n\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_tipo_documento.php');\r\n  // }\r\n\r\n  // public GetNombreCodigoCie(idCie: string): Observable<any> {\r\n  //   let p = { id: idCie };\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_cie.php', { params: p });\r\n  // }\r\n\r\n  // public GetTablero(id: string): Observable<any> {\r\n  //   let p = { id: id };\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_tablero_funcionario.php', { params: p });\r\n  // }\r\n\r\n  public GetListaProductosInventario(p: any): Observable<any> {\r\n    return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_producto_inventario.php', { params: p });\r\n  }\r\n\r\n  // public GetListaProductosDispensacion(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_producto_inventario.php', { params: p });\r\n  // }\r\n  // public GetProductosMipresInventario(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_producto_mipres_inventario.php', { params: p });\r\n  // }\r\n  // public GetListaProductosAtc(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_producto_atc_inventario.php', { params: p });\r\n  // }\r\n\r\n  public ValidarProductoLista(p: any): Observable<any> {\r\n    return this.client.get(environment.ruta + 'php/tablero_dispensacion/validar_producto.php', { params: p });\r\n  }\r\n\r\n  // public GetEntregaPaciente(p: any): Observable<any> {\r\n\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_entregas_dis.php', { params: p });\r\n  // }\r\n  // public GetTurnos(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_turnos.php', {\r\n  //     params: p\r\n  //   });\r\n  // }\r\n  // public GetTurnosAuditoria(p: any): Observable<any> {\r\n  //   let param={\r\n  //     id:p\r\n  //   }\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_turnos_auditoria.php', {\r\n  //     params: param\r\n  //   });\r\n  // }\r\n  // public GetTurnosDispensador(p:string, func:string): Observable<any> {\r\n  //   let param={\r\n  //     id_punto:p,\r\n  //     funcionario:func\r\n  //   }\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_turnos_dispensador.php', {\r\n  //     params: param\r\n  //   });\r\n  // }\r\n  // public GetSiguienteTurno(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/get_siguiente_turno_dev.php', {\r\n  //     params: p\r\n  //   });\r\n  // }\r\n  // public CambiarTurnoPreaditoria(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/cambiar_turno_preauditoria.php', {params:p});\r\n  // }\r\n\r\n\r\n  // public IniciarAtencion(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/iniciar_atencion.php', {\r\n  //     params: p\r\n  //   });\r\n  // }\r\n\r\n  // public SaveDispensacion(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/save_dispensacion.php', data);\r\n  // }\r\n\r\n  // public SaveEntregaPendiente(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/save_pendientes.php', data);\r\n  // }\r\n\r\n  // public SaveAuditoria(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/save_auditoria_dev.php', data);\r\n  // }\r\n  // public IniciarAtencionPendientes(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/iniciar_atencion_pendientes.php', data);\r\n  // }\r\n  // public IniciarAtencionAuditoria(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/iniciar_atencion_auditoria.php', data);\r\n  // }\r\n  // public IniciarAtencionDispensacion(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/iniciar_atencion_dispensacion.php', data);\r\n  // }\r\n  // public SavePreAuditoria(data:FormData){\r\n  //   return this.client.post(environment.ruta + 'php/tablero_dispensacion/save_preauditoria.php', data);\r\n  // }\r\n\r\n  // public SaveDispensacionAuditoria(data:FormData) {\r\n  //   return this.client.post(environment.ruta+ 'php/tablero_dispensacion/save_dispensacion_auditor.php',data);\r\n  // }\r\n\r\n  // public ValidarNumeroAutorizacion(p):Observable<any>{\r\n  //   return this.client.get(environment.ruta + 'php/tablero_dispensacion/validar_numero_autorizacion.php', {\r\n  //     params: p\r\n  //   });\r\n  // }\r\n}\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { debounceTime, map } from \"rxjs/operators\";\r\nimport \"rxjs/add/operator/takeWhile\";\r\nimport { Observable, Subject } from \"rxjs\";\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { RemisionModelNuevo } from \"../RemisonModelNuevo\";\r\nimport { environment } from \"src/environments/environment\";\r\nimport { UserService } from \"src/app/core/services/user.service\";\r\nimport { User } from \"src/app/core/models/users.model\";\r\n\r\n@Component({\r\n  selector: \"app-remisioncrearnuevo\",\r\n  templateUrl: \"./remisioncrearnuevo.component.html\",\r\n  styleUrls: [\"./remisioncrearnuevo.component.scss\"],\r\n})\r\nexport class RemisioncrearnuevoComponent implements OnInit {\r\n  public userF : User;\r\n  public RutaPrincipal: string = environment.ruta;\r\n  public Datos: any = {\r\n    Titulo: \"Nueva Remisión\",\r\n    Fecha: new Date(),\r\n    Origen: \"\",\r\n    Origen_Grupo: \"\",\r\n    Destino: \"\",\r\n    DestinoContrato: \"\",\r\n  };\r\n  public Cliente: any = [];\r\n  public ModeloRemision: RemisionModelNuevo = new RemisionModelNuevo(\r\n    environment.id_funcionario\r\n  );\r\n\r\n  public Datos_Iniciales: any = {};\r\n  public Origen: any = [];\r\n  public Categorias_Nuevas: any = [];\r\n  public Grupos: any = [];\r\n  public Destino: any = [];\r\n  public Meses: any = [];\r\n\r\n  //Contratos\r\n\r\n  public Contratos: any = [];\r\n  public ActualizarModelProductos: Subject<any> = new Subject();\r\n  private EnviarPendientes: Subject<any> = new Subject();\r\n\r\n  public Bodegas_Nuevo: any = [];\r\n  constructor(private http: HttpClient, private _user:UserService) { }\r\n\r\n  ngOnInit() {\r\n    this.userF = this._user.user;\r\n    this.GetDatosIniciales();\r\n    for (let i = -1; i <= 18; i++) {\r\n      this.Meses.push({\r\n        dia: i,\r\n      });\r\n    }\r\n  }\r\n\r\n  search = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map((term) => term.length < 4 ? [] : this.Cliente.filter((v) => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 100))\r\n    );\r\n\r\n  formatter = (x: { Nombre: string }) => x.Nombre;\r\n\r\n\r\n  Cambiar_Remision() {\r\n\r\n\r\n    this.ModeloRemision.Id_Destino = 0;\r\n    if (this.ModeloRemision.Tipo == \"Interna\") {\r\n      this.Destino = this.Datos_Iniciales.Punto;\r\n      this.ModeloRemision.Modelo = \"Bodega-Bodega\";\r\n      this.ModeloRemision.Estado = \"Pendiente\";\r\n      this.ModeloRemision.Estado_Alistamiento = \"0\";\r\n      this.ModeloRemision.Tipo_Origen = \"Bodega\";\r\n      this.ModeloRemision.Tipo_Destino = \"Punto_Dispensacion\";\r\n\r\n    } else if (this.ModeloRemision.Tipo == \"Contrato\") {\r\n      this.http.get(environment.ruta + '/php/rotativoscompras/get_contratos_remision.php').subscribe((data: any) => {\r\n        this.Contratos = data.Contratos;\r\n        this.Destino = this.Datos_Iniciales.Clientes;\r\n        this.ModeloRemision.Estado_Alistamiento = \"0\";\r\n        this.ModeloRemision.Estado = \"Pendiente\";\r\n        this.ModeloRemision.Tipo_Origen = \"Bodega\";\r\n        this.ModeloRemision.Tipo_Destino = \"Contrato\";\r\n      })\r\n    }\r\n    else {\r\n      this.Destino = this.Datos_Iniciales.Clientes;\r\n      this.ModeloRemision.Estado_Alistamiento = \"0\";\r\n      this.ModeloRemision.Estado = \"Pendiente\";\r\n      this.ModeloRemision.Tipo_Origen = \"Bodega\";\r\n      this.ModeloRemision.Tipo_Destino = \"Cliente\";\r\n    }\r\n    this.EnviarModelo();\r\n  }\r\n\r\n  EnviarModelo(flag = true) {\r\n\r\n    let p = { modelo: this.ModeloRemision, actualizar_productos: flag };\r\n    this.ActualizarModelProductos.next(p);\r\n\r\n  }\r\n  ActualizarModelo(modelo: any) {\r\n\r\n    if (modelo.Tipo_Origen == 'Bodega') {\r\n      this.ModeloRemision = modelo;\r\n      this.getGrupos();\r\n      this.Datos.Origen_Grupo = modelo.Grupo.Id_Grupo.toString();\r\n    }\r\n\r\n    if (this.ModeloRemision.Tipo == \"Interna\") {\r\n      switch (this.ModeloRemision.Modelo) {\r\n        case \"Punto-Bodega\":\r\n          this.Datos.Destino = \"B-\" + this.ModeloRemision.Id_Destino;\r\n          this.Datos.Origen = \"P-\" + this.ModeloRemision.Id_Origen;\r\n          break;\r\n        case \"Punto-Punto\":\r\n          this.Datos.Destino = \"P-\" + this.ModeloRemision.Id_Destino;\r\n          this.Datos.Origen = \"P-\" + this.ModeloRemision.Id_Origen;\r\n          break;\r\n        case \"Bodega-Bodega\":\r\n          this.Datos.Destino = \"B-\" + this.ModeloRemision.Id_Destino;\r\n          this.Datos.Origen = \"B-\" + this.ModeloRemision.Id_Origen;\r\n          break;\r\n        case \"Bodega-Punto\":\r\n          this.Datos.Destino = \"P-\" + this.ModeloRemision.Id_Destino;\r\n          this.Datos.Origen = \"B-\" + this.ModeloRemision.Id_Origen;\r\n          break;\r\n      }\r\n      setTimeout(() => {\r\n        this.CambiarPunto(false);\r\n      }, 300);\r\n    } else {\r\n      this.Datos.Destino = \"B-\" + this.ModeloRemision.Id_Destino;\r\n      this.Datos.Origen = \"C-\" + this.ModeloRemision.Id_Origen;\r\n      this.Destino = this.Datos_Iniciales.Clientes;\r\n      this.Origen = this.Datos_Iniciales.Bodega;\r\n      \r\n    }\r\n  }\r\n  setGrupo() {\r\n    this.ModeloRemision.Grupo.Id_Grupo = 0;\r\n    this.ModeloRemision.Grupo.Nombre_Grupo = \"\";\r\n    this.ModeloRemision.Grupo.Fecha_Vencimiento = \"\";\r\n    this.ModeloRemision.Grupo.Presentacion = \"\";\r\n    this.Datos.Origen_Grupo = \"\";\r\n  }\r\n  CambiarPunto(cambiarlista = true) {\r\n    switch (this.ModeloRemision.Modelo) {\r\n      case \"Punto-Bodega\":\r\n        this.Origen = this.Datos_Iniciales.Punto;\r\n        this.Destino = this.Datos_Iniciales.Bodega;\r\n        this.ModeloRemision.Estado_Alistamiento = \"2\";\r\n        this.ModeloRemision.Estado = \"Alistada\";\r\n        this.ModeloRemision.Tipo_Origen = \"Punto_Dispensacion\";\r\n        this.ModeloRemision.Tipo_Destino = \"Bodega\";\r\n        this.setGrupo();\r\n        break;\r\n      case \"Punto-Punto\":\r\n        this.Origen = this.Datos_Iniciales.Punto;\r\n        this.Destino = this.Datos_Iniciales.Punto;\r\n        this.ModeloRemision.Estado_Alistamiento = \"2\";\r\n        this.ModeloRemision.Estado = \"Alistada\";\r\n        this.ModeloRemision.Tipo_Origen = \"Punto_Dispensacion\";\r\n        this.ModeloRemision.Tipo_Destino = \"Punto_Dispensacion\";\r\n        this.setGrupo();\r\n        break;\r\n      case \"Bodega-Punto\":\r\n        this.Origen = this.Datos_Iniciales.Bodega;\r\n        this.Destino = this.Datos_Iniciales.Punto;\r\n        this.ModeloRemision.Estado_Alistamiento = \"0\";\r\n        this.ModeloRemision.Estado = \"Pendiente\";\r\n        this.ModeloRemision.Tipo_Origen = \"Bodega\";\r\n        this.ModeloRemision.Tipo_Destino = \"Punto_Dispensacion\";\r\n        break;\r\n      case \"Bodega-Bodega\":\r\n        this.Origen = this.Datos_Iniciales.Bodega;\r\n        this.Destino = this.Datos_Iniciales.Bodega;\r\n        this.ModeloRemision.Estado_Alistamiento = \"0\";\r\n        this.ModeloRemision.Estado = \"Pendiente\";\r\n        this.ModeloRemision.Tipo_Origen = \"Bodega\";\r\n        this.ModeloRemision.Tipo_Destino = \"Bodega\";\r\n        break;\r\n    }\r\n    console.log(this.Origen)\r\n    if (cambiarlista) {\r\n      setTimeout(() => {\r\n        this.EnviarModelo();\r\n      }, 100);\r\n    }\r\n  }\r\n  GetDatosIniciales() {\r\n    let params: any = {};\r\n    params.id = environment.id_funcionario;\r\n    this.http.get(environment.ruta + 'php/remision_nuevo/get_datos_iniciales.php', { params: params }).subscribe((data: any) => {\r\n      this.Datos_Iniciales = data;\r\n      this.Cliente = data.Clientes;\r\n      this.Origen = data.Bodega;\r\n      this.Destino = data.Punto;\r\n      this.Cambiar_Remision();\r\n      this.CambiarPunto()\r\n    });\r\n  }\r\n  getCategoriasNuevas() {\r\n    let params: any = {};\r\n    params.id_bodega_nuevo = this.ModeloRemision.Id_Origen;\r\n    params.label = true;\r\n    this.http.get(environment.ruta + 'php/categoria_nueva/get_categorias_por_bodega.php', { params: params }).subscribe((res: any) => {\r\n      if (res.Tipo == \"success\") {\r\n        this.Categorias_Nuevas = res.Categorias;\r\n      }\r\n    });\r\n  }\r\n  getGrupos() {\r\n    let params: any = {};\r\n    params.id_bodega_nuevo = this.ModeloRemision.Id_Origen;\r\n    params.label = true;\r\n    this.http.get(environment.ruta + 'php/grupo_estiba/get_grupos_bodega.php', { params: params }).subscribe((res: any) => {\r\n      if (res.Tipo == \"success\") {\r\n        this.Grupos = res.Grupos;\r\n      }\r\n    });\r\n  }\r\n  AsignarNombre(tipo) {\r\n\r\n    if (tipo == \"Origen\") {\r\n      let pos = this.Origen.findIndex((x) => x.value === this.Datos.Origen);\r\n      console.log(pos);\r\n      if (pos >= 0) {\r\n        if (this.ModeloRemision.Tipo_Origen == \"Bodega\") {\r\n          this.ModeloRemision.Id_Origen = this.Origen[pos].value.substr(2);\r\n          this.ModeloRemision.Nombre_Origen = this.Origen[pos].label;\r\n          this.getGrupos();\r\n        } else {\r\n          this.ModeloRemision.Id_Origen = this.Origen[pos].value.substr(2);\r\n          this.ModeloRemision.Nombre_Origen = this.Origen[pos].label;\r\n        }\r\n      }\r\n    } else if (tipo == \"Destino\") {\r\n      let pos = this.Destino.findIndex((x) => x.value === this.Datos.Destino);\r\n      if (pos >= 0) {\r\n        this.ModeloRemision.Id_Destino = this.Destino[pos].value.substr(2);\r\n        this.ModeloRemision.Nombre_Destino = this.Destino[pos].label;\r\n        if (this.ModeloRemision.Tipo == \"Cliente\") {\r\n          this.ModeloRemision.Id_Lista = this.Destino[pos].Id_Lista_Ganancia;\r\n        }\r\n      }\r\n    }\r\n    else if (tipo == \"Contrato\") {\r\n\r\n      let pos = this.Contratos.findIndex((x) => x.value === this.Datos.DestinoContrato);\r\n      if (pos >= 0) {\r\n        this.ModeloRemision.Id_Contrato = this.Contratos[pos].value;\r\n        this.ModeloRemision.Id_Destino = this.Contratos[pos].value;\r\n        this.ModeloRemision.Nombre_Destino = this.Contratos[pos].label;\r\n      }\r\n    }\r\n    if (tipo == \"Grupo\") {\r\n      let pos = this.Grupos.findIndex((x) => x.value === this.Datos.Origen_Grupo\r\n      );\r\n      if (pos >= 0) {\r\n        this.ModeloRemision.Grupo.Id_Grupo = this.Grupos[pos].value;\r\n        this.ModeloRemision.Grupo.Nombre_Grupo = this.Grupos[pos].label;\r\n        this.ModeloRemision.Grupo.Fecha_Vencimiento = this.Grupos[pos].Fecha_Vencimiento;\r\n        this.ModeloRemision.Grupo.Presentacion = this.Grupos[pos].Presentacion;\r\n      }\r\n    }\r\n    this.EnviarModelo();\r\n  }\r\n\r\n  tab(event) {\r\n    if (event.keyCode == 13) {\r\n      event.preventDefault();\r\n      return false;\r\n    }\r\n  }\r\n\r\n}\r\n","<!-- <div class=\"page-body\"> -->\r\n<!-- <div class=\"row\"> -->\r\n<div class=\"col md-12 p-3\">\r\n  <div class=\"card\">\r\n    <form #FormTraslado=\"ngForm\">\r\n      <div class=\"card-body\">\r\n        <div class=\"card-title d-flex justify-content-between\">\r\n          <div class=\"card m-0 p-0 border-0 shadow-none\">\r\n            <div class=\"card-horizontal\">\r\n              <div class=\"img-square-wrapper\">\r\n                <img\r\n                  [src]=\"userF.person.company_worked.logo | image: 'companies'\"\r\n                  alt=\"\"\r\n                  height=\"45\"\r\n                />\r\n              </div>\r\n              <div class=\"card-body p-0 m-0\">\r\n                <p class=\"card-text\" style=\"font-size: x-small\">\r\n                  {{ userF.person.company_worked.name }} <br />\r\n                  NIT {{ userF.person.company_worked.tin }} <br />\r\n                  {{ userF.person.company_worked.address }} <br />\r\n                  {{ userF.person.company_worked.phone }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-4 text-right\">\r\n            <h5 class=\"text-primary\">{{ Datos.Titulo }}</h5>\r\n            <h6>{{ Datos.Fecha | date: \"longDate\" }}</h6>\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <mat-form-field class=\"col-md-3\" appearance=\"outline\">\r\n            <mat-label>Tipo</mat-label>\r\n            <mat-select\r\n              name=\"Tipo\"\r\n              id=\"Tipo\"\r\n              [(ngModel)]=\"ModeloRemision.Tipo\"\r\n              (selectionChange)=\"Cambiar_Remision()\"\r\n              required\r\n            >\r\n              <mat-option value=\"Cliente\">Tipo cliente</mat-option>\r\n              <mat-option value=\"Interna\">Tipo interna</mat-option>\r\n              <mat-option value=\"Contrato\">Tipo contrato</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <ng-container *ngIf=\"ModeloRemision.Tipo != 'Contrato'\">\r\n            <mat-form-field class=\"col-md-3\" appearance=\"outline\">\r\n              <mat-label>Prioridad</mat-label>\r\n              <mat-select\r\n                name=\"Prioridad\"\r\n                [(ngModel)]=\"ModeloRemision.Prioridad\"\r\n                id=\"Prioridad\"\r\n                (selectionChange)=\"EnviarModelo()\"\r\n                required\r\n              >\r\n                <mat-option value=\"1\">Prioridad I</mat-option>\r\n                <mat-option value=\"2\">Prioridad II</mat-option>\r\n                <mat-option value=\"3\">Prioridad III</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-form-field\r\n              class=\"col-md-3\"\r\n              appearance=\"outline\"\r\n              *ngIf=\"ModeloRemision.Tipo == 'Interna'\"\r\n            >\r\n              <mat-label>Modelo</mat-label>\r\n              <mat-select\r\n                name=\"Modelo\"\r\n                [(ngModel)]=\"ModeloRemision.Modelo\"\r\n                id=\"Modelo\"\r\n                (selectionChange)=\"CambiarPunto()\"\r\n                required\r\n              >\r\n                <mat-option value=\"Punto-Bodega\">Punto-Bodega</mat-option>\r\n                <mat-option value=\"Punto-Punto\">Punto-Punto</mat-option>\r\n                <mat-option value=\"Bodega-Punto\">Bodega-Punto</mat-option>\r\n                <mat-option value=\"Bodega-Bodega\">Bodega-Bodega</mat-option>\r\n              </mat-select>\r\n            </mat-form-field>\r\n            <mat-form-field class=\"col-md-3\" appearance=\"outline\">\r\n              <mat-label>Meses de vencimiento</mat-label>\r\n              <mat-select\r\n                name=\"Meses\"\r\n                [(ngModel)]=\"ModeloRemision.Meses\"\r\n                id=\"Meses\"\r\n                (selectionChange)=\"EnviarModelo()\"\r\n                required\r\n              >\r\n                <mat-option\r\n                  *ngFor=\"let item of Meses; let i = index\"\r\n                  [value]=\"item.dia\"\r\n                >\r\n                  {{ item.dia }}</mat-option\r\n                >\r\n              </mat-select>\r\n            </mat-form-field>\r\n          </ng-container>\r\n          <mat-form-field\r\n            class=\"col-md-3\"\r\n            appearance=\"outline\"\r\n            *ngIf=\"ModeloRemision.Tipo == 'Cliente'\"\r\n          >\r\n            <mat-label>Tipo de pago</mat-label>\r\n            <mat-select\r\n              name=\"Tipo_Pago\"\r\n              [(ngModel)]=\"ModeloRemision.Tipo_Pago\"\r\n              id=\"Tipo_Pago\"\r\n              (selectionChange)=\"EnviarModelo()\"\r\n              required\r\n            >\r\n              <mat-option value=\"Credito\">Crédito</mat-option>\r\n              <mat-option value=\"Contado\">Contado</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"row\">\r\n          <mat-form-field class=\"col-md-3\" appearance=\"outline\">\r\n            <mat-label>Origen</mat-label>\r\n            <mat-select\r\n              name=\"Bodegas_Nuevo\"\r\n              [(ngModel)]=\"Datos.Origen\"\r\n              id=\"Bodegas_Nuevo\"\r\n              (selectionChange)=\"AsignarNombre('Origen')\"\r\n              required\r\n            >\r\n              <mat-option *ngFor=\"let item of Origen\" [value]=\"item.value\">{{\r\n                item.label\r\n              }}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-form-field\r\n            class=\"col-md-3\"\r\n            appearance=\"outline\"\r\n            *ngIf=\"Grupos.length > 0 && ModeloRemision.Tipo_Origen == 'Bodega'\"\r\n          >\r\n            <mat-label>Grupo estiba</mat-label>\r\n            <mat-select\r\n              name=\"Origen_Grupo\"\r\n              [(ngModel)]=\"Datos.Origen_Grupo\"\r\n              id=\"Grupos\"\r\n              (selectionChange)=\"AsignarNombre('Grupo')\"\r\n              required\r\n            >\r\n              <mat-option *ngFor=\"let item of Grupos\" [value]=\"item.value\">{{\r\n                item.label\r\n              }}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-form-field\r\n            class=\"col-md-3\"\r\n            appearance=\"outline\"\r\n            *ngIf=\"ModeloRemision.Tipo != 'Contrato'\"\r\n          >\r\n            <mat-label>Destino</mat-label>\r\n            <mat-select\r\n              name=\"Destino\"\r\n              [(ngModel)]=\"Datos.Destino\"\r\n              id=\"Puntos\"\r\n              (selectionChange)=\"AsignarNombre('Destino')\"\r\n              required\r\n            >\r\n              <mat-option *ngFor=\"let item of Destino\" [value]=\"item.value\">{{\r\n                item.label\r\n              }}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-form-field\r\n            class=\"col-md-3\"\r\n            appearance=\"outline\"\r\n            *ngIf=\"ModeloRemision.Tipo == 'Contrato'\"\r\n          >\r\n            <mat-label>Contratos</mat-label>\r\n            <mat-select\r\n              name=\"Contrato\"\r\n              [(ngModel)]=\"Datos.DestinoContrato\"\r\n              id=\"Id_Contrato\"\r\n              (selectionChange)=\"AsignarNombre('Contrato')\"\r\n              required\r\n            >\r\n              <mat-option *ngFor=\"let item of Contratos\" [value]=\"item.value\">{{\r\n                item.label\r\n              }}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n          <mat-form-field\r\n            class=\"col-md-3\"\r\n            appearance=\"outline\"\r\n            *ngIf=\"ModeloRemision.Tipo == 'Cliente'\"\r\n          >\r\n            <mat-label>L. Ganancia</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"text\"\r\n              [(ngModel)]=\"ModeloRemision.Id_Lista\"\r\n              name=\"ListaGanancia\"\r\n              id=\"ListaGanancia\"\r\n              autocomplete=\"off\"\r\n              readonly\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field\r\n            class=\"col-md-3\"\r\n            appearance=\"outline\"\r\n            *ngIf=\"ModeloRemision.Tipo == 'Cliente'\"\r\n          >\r\n            <mat-label>O. Compra</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"text\"\r\n              [(ngModel)]=\"ModeloRemision.Orden_Compra\"\r\n              name=\"Orden_Compra\"\r\n              id=\"Orden_Compra\"\r\n              autocomplete=\"off\"\r\n              (change)=\"EnviarModelo()\"\r\n              required\r\n            />\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label>Observaciones</label>\r\n          <textarea\r\n            [(ngModel)]=\"ModeloRemision.Observaciones\"\r\n            id=\"Observaciones\"\r\n            name=\"Observaciones\"\r\n            type=\"text\"\r\n            rows=\"3\"\r\n            class=\"form-control\"\r\n            (change)=\"EnviarModelo(false)\"\r\n            (keypress)=\"tab($event)\"\r\n            required\r\n          ></textarea>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <app-productosremisionnuevo\r\n      [_remisionModel]=\"ModeloRemision\"\r\n      [ActualizarModelo]=\"ActualizarModelProductos.asObservable()\"\r\n      (CargarBorrador)=\"ActualizarModelo($event)\"\r\n    >\r\n    </app-productosremisionnuevo>\r\n\r\n    <ng-template #rt let-r=\"result\" let-t=\"term\">\r\n      <span class=\"f-9\">{{ r.Nombre }} </span>\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n<!-- </div> -->\r\n<!-- </div> -->\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n// import { Globales } from '../../../shared/globales/globales';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\nexport class RemisionService {\r\n\r\n  constructor(private client: HttpClient,\r\n    // private globales: Globales\r\n  ) { }\r\n\r\n  // public GetDatosIniciales(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision/get_datos_iniciales.php', { params: p });\r\n  // }\r\n\r\n  // public GetProductosPendientes(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision/get_pendientes.php', { params: p });\r\n  // }\r\n\r\n  // public GetImpuestos(): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/lista_generales.php', { params: { modulo: 'Impuesto' } });\r\n  // }\r\n\r\n  // public GetBorrador(codigo: string): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision/get_borrador.php', { params: { codigo: codigo } });\r\n  // }\r\n\r\n  // public GetRotativo(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision/get_rotativo.php', { params: p });\r\n  // }\r\n\r\n  // public GetRotativoNoPos(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision/get_rotativo_no_pos.php', { params: p });\r\n  // }\r\n\r\n  // public ComprobarCantidades(p: any): Observable<any> {\r\n  //   return this.client.get(environment.ruta + 'php/remision/comprobar_cantidades.php', { params: p });\r\n  // }\r\n\r\n  // public GuardarLotesSeleccionados(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/seleccionar_lotes_inventario.php', data);\r\n  // }\r\n\r\n  // public EliminarLotesSeleccionados(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/eliminar_lote_seleccionado.php', data);\r\n  // }\r\n\r\n  // public GuardarBorrador(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/guardar_borrador.php', data);\r\n  // }\r\n\r\n  // public RealizarCambioProducto(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/guardar_cambio_producto.php', data);\r\n  // }\r\n\r\n  // public EliminarLotesMasivos(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/eliminar_lotes_masivos.php', data);\r\n  // }\r\n\r\n  // public GuardarRemision(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/save_remision.php', data);\r\n  // }\r\n\r\n  // public GuardarRemisionDevolucion(data: FormData): Observable<any> {\r\n  //   return this.client.post(environment.ruta + 'php/remision/save_remision_devolucion.php', data);\r\n  // }\r\n\r\n\r\n\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport { TruncateCharactersPipe } from './truncate-characters.pipe';\nimport { TruncateWordsPipe } from './truncate-words.pipe';\nimport * as ɵngcc0 from '@angular/core';\nexport var TRUNCATE_PIPES = [TruncateCharactersPipe, TruncateWordsPipe];\nvar TruncateModule = (function () {\n    function TruncateModule() {\n    }\n    /** @nocollapse */\n    TruncateModule.ctorParameters = function () { return []; };\nTruncateModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: TruncateModule });\nTruncateModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function TruncateModule_Factory(t) { return new (t || TruncateModule)(); } });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TruncateModule, { declarations: [TruncateCharactersPipe, TruncateWordsPipe], exports: [TruncateCharactersPipe, TruncateWordsPipe] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TruncateModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [TRUNCATE_PIPES],\n                exports: [TRUNCATE_PIPES]\n            }]\n    }], function () { return []; }, null); })();\n    return TruncateModule;\n}());\nexport { TruncateModule };\n\n//# sourceMappingURL=truncate.module.js.map","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RemisionesComponent } from './remisiones.component';\r\nimport { RemisionRoutes } from './remision.routing';\r\nimport {\r\n  NgbDropdownModule,\r\n  NgbModalModule,\r\n  NgbPaginationModule,\r\n  NgbTypeaheadModule,\r\n} from '@ng-bootstrap/ng-bootstrap';\r\nimport { SweetAlert2Module } from '@sweetalert2/ngx-sweetalert2';\r\nimport { MyDateRangePickerModule } from 'mydaterangepicker';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\nimport { PipesModule } from 'src/app/core/pipes/pipes.module';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { RemisioncrearnuevoComponent } from './remisioncrearnuevo/remisioncrearnuevo.component';\r\nimport { ProductosremisionnuevoComponent } from './remisioncrearnuevo/productosremisionnuevo/productosremisionnuevo.component';\r\nimport { ModalproductoremisionnuevoComponent } from './modalproductoremisionnuevo/modalproductoremisionnuevo.component';\r\nimport { ModalcambiarproductossimilarnuevoComponent } from './modalcambiarproductossimilarnuevo/modalcambiarproductossimilarnuevo.component';\r\nimport { TruncateModule } from 'ng2-truncate';\r\nimport { RemisioneditarComponent } from './remisioneditar/remisioneditar.component';\r\nimport { RemisionComponent } from './remision/remision.component';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { SatDatepickerModule, SatNativeDateModule } from 'saturn-datepicker';\r\nimport {\r\n  DateAdapter,\r\n  MAT_DATE_FORMATS,\r\n  MAT_DATE_LOCALE,\r\n} from 'saturn-datepicker';\r\nimport {\r\n  MAT_MOMENT_DATE_FORMATS,\r\n  MomentDateAdapter,\r\n} from '@angular/material-moment-adapter';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\n\r\nexport const MY_FORMATS = {\r\n  parse: {\r\n    dateInput: 'DD/MM/YYYY'\r\n  },\r\n  display: {\r\n    dateInput: 'DD/MM/YYYY',\r\n    monthYearLabel: 'MMM YYYY',\r\n    dateA11yLabel: 'LL',\r\n    monthYearA11yLabel: 'MMMM YYYY'\r\n  }\r\n};\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RemisionRoutes,\r\n    HttpClientModule,\r\n    FormsModule,\r\n    ComponentsModule,\r\n    MyDateRangePickerModule,\r\n    NgbTypeaheadModule,\r\n    NgbPaginationModule,\r\n    NgbModalModule,\r\n    NgbDropdownModule,\r\n    NgSelectModule,\r\n    PipesModule,\r\n    SweetAlert2Module.forRoot(),\r\n    TruncateModule,\r\n    MatExpansionModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatDatepickerModule,\r\n    MatNativeDateModule,\r\n    SatDatepickerModule,\r\n    SatNativeDateModule,\r\n  ],\r\n  declarations: [\r\n    RemisionesComponent,\r\n    RemisionComponent,\r\n    RemisioneditarComponent,\r\n    RemisioncrearnuevoComponent,\r\n    ProductosremisionnuevoComponent,\r\n    ModalproductoremisionnuevoComponent,\r\n    ModalcambiarproductossimilarnuevoComponent,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: DateAdapter,\r\n      useClass: MomentDateAdapter,\r\n      deps: [MAT_DATE_LOCALE],\r\n    },\r\n    { provide: MAT_DATE_FORMATS, useValue: MY_FORMATS },\r\n  ],\r\n})\r\nexport class RemisionModule {}\r\n","\r\ninterface GrupoT {\r\n    Id_Grupo: number,\r\n    Nombre_Grupo: string\r\n    Fecha_Vencimiento: string,\r\n    Presentacion: string\r\n}\r\nexport class RemisionModelNuevo {\r\n    public Tipo: string = 'Interna';\r\n    public Prioridad: string = '1';\r\n    public Meses: string = '4';\r\n    public Modelo: string = 'Bodega-Bodega';\r\n    public Nombre_Destino: string = '';\r\n    public Nombre_Origen: string = '';\r\n    public Identificacion_Funcionario: number = 0;\r\n    public Observaciones: string = '';\r\n    public Tipo_Origen: string = 'Bodega';\r\n    public Tipo_Destino: string = 'Punto_Dispensacion';\r\n    public Id_Origen: number = 0;\r\n    public Id_Destino: number = 0;\r\n    public Id_Contrato: number = 0;\r\n    public Estado: string = 'Pendiente';\r\n    public Estado_Alistamiento: string = '0';\r\n    public Tipo_Pago: string = 'Credito';\r\n    public Fecha: string = '';\r\n    public Codigo: string = '';\r\n    public Tipo_Lista: string = '';\r\n    public Id_Lista: string = '';\r\n    public Id_Factura: string = '';\r\n    public Peso_Remision: string = '';\r\n    public Codigo_Qr: string = '';\r\n    public Costo_Remision: number = 0;\r\n    public Tipo_Bodega: string = '';\r\n    public Fecha_Anulacion: string = '';\r\n    public Funcionario_Anula: string = '';\r\n    public Fase_1: string = '';\r\n    public Fase_2: string = '';\r\n    public Guia: string = '';\r\n    public Empresa_Envio: string = '';\r\n    public Subtotal_Remision: number = 0;\r\n    public Descuento_Remision: number = 0;\r\n    public Impuesto_Remision: number = 0;\r\n    public Orden_Compra: string = '';\r\n    public Inicio_Fase1: string = '';\r\n    public Fin_Fase1: string = '';\r\n    public Inicio_Fase2: string = '';\r\n    public Fin_Fase2: string = '';\r\n    public Entrega_Pendientes: string = 'No';\r\n\r\n    public Grupo: GrupoT;\r\n    public Tipo_\r\n\r\n    constructor(funcionarioCrea: number) {\r\n        this.identificacionFuncionarioCrea = funcionarioCrea;\r\n        let Grupo: any = {};\r\n        Grupo.Id_Grupo = 0;\r\n        Grupo.Nombre_Grupo = '';\r\n        Grupo.Fecha_Vencimiento = '';\r\n        Grupo.Presentacion = '';\r\n        this.Grupo = Grupo;\r\n\r\n    }\r\n\r\n    public set identificacionFuncionarioCrea(value: number) {\r\n        this.Identificacion_Funcionario = value;\r\n    }\r\n\r\n    public setGrupo(grupo: any) {\r\n        this.Grupo.Id_Grupo = grupo.Id_Grupo;\r\n        this.Grupo.Fecha_Vencimiento = grupo.Fecha_Vencimiento;\r\n        this.Grupo.Nombre_Grupo = grupo.Nombre_Grupo;\r\n        this.Grupo.Presentacion = grupo.Presentacion;\r\n    }\r\n\r\n}\r\n\r\n","export { TruncateModule, TRUNCATE_PIPES } from './truncate.module';\n\nexport {TruncateCharactersPipe} from './truncate-characters.pipe';\nexport {TruncateWordsPipe} from './truncate-words.pipe';\n//# sourceMappingURL=index.js.map","\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  OnDestroy,\r\n  OnChanges,\r\n  SimpleChanges,\r\n  ElementRef\r\n} from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n// import { GeneralService } from '../../services/general/general.service';\r\n// import { SwalService } from '../../services/swal/swal.service';\r\n// import { ToastService } from '../../services/toasty/toast.service';\r\n// import { ProductoService } from '../../services/productos/producto.service';\r\n// import { RemisionModel } from '../../modelos/RemisonModel';\r\n// import { ProductoRemisionModel } from '../../modelos/ProductoRemisionModel';\r\n// import { ProductoCargarRemision } from '../../modelos/ProductoCargarRemision';\r\n// import { DispensacionService } from '../../services/dispensacion/dispensacion.service';\r\n// import { RemisionnuevoService } from '../../services/remisionnuevo/remisionnuevo.service';\r\n// import { RemisionModelNuevo } from '../../modelos/RemisonModelNuevo';\r\nimport { stringify } from 'querystring';\r\nimport { RemisionModelNuevo } from '../RemisonModelNuevo';\r\nimport { ProductoRemisionModel } from '../ProductoRemisionModel';\r\nimport { SwalService } from 'src/app/pages/ajustes/informacion-base/services/swal.service';\r\nimport { ProductoService } from 'src/app/services/producto.service';\r\nimport { RemisionnuevoService } from 'src/app/services/remisionnuevo.service';\r\nimport { DispensacionService } from 'src/app/services/dispensacion.service';\r\nimport { ProductoCargarRemision } from '../ProductoCargarRemision';\r\nimport { GeneralService } from 'src/app/services/general.service';\r\nimport { functionsUtils } from 'src/app/core/utils/functionsUtils';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-modalproductoremisionnuevo',\r\n  templateUrl: './modalproductoremisionnuevo.component.html',\r\n  styleUrls: ['./modalproductoremisionnuevo.component.scss']\r\n})\r\nexport class ModalproductoremisionnuevoComponent implements OnInit, OnDestroy, OnChanges {\r\n  @ViewChild('ModalProductosRemision') ModalProductosRemision: any;\r\n  @ViewChild('filtroNombre') nameFilter: ElementRef;\r\n\r\n  @Input() AbrirModal: Observable<any> = new Observable();\r\n  @Input() Pendiente: boolean = false;\r\n  @Input() RemisionModel: RemisionModelNuevo;\r\n  @Output() AgregarProductos: EventEmitter<any> = new EventEmitter();\r\n  @Output() LimpiarCodBarras: EventEmitter<any> = new EventEmitter();\r\n\r\n  public ListaProductos: Array<any> = [];\r\n  public ListaAgregados: Array<any> = [];\r\n  public Id_Inventarios: Array<any> = [];\r\n  public ProductosAgregar: Array<any> = [];\r\n  private _productoAgregar: ProductoRemisionModel;\r\n  public ProductosExcluir: Array<string> = [];\r\n  public ProductosEntregasDobles: Array<string> = []; //Esta lista solo se usa para validar entregas dobles en dispensacion\r\n  public SelectedProducts: number = 0;\r\n  public TCols: number = 7;\r\n  public Tipo: string = '';\r\n  public InformacionPunto: any = null;\r\n  public Nit_Eps: string = '';\r\n  public Codigo_Barras: string = '';\r\n  public Id_Tipo_Servicio: string = '';\r\n  public Id_Punto = localStorage.getItem(\"Punto\");\r\n\r\n  public Filtros: any = {\r\n    nombre: '',\r\n    cum: '',\r\n    lab_com: '',\r\n    Inv: '',\r\n  };\r\n\r\n  public Cargando: boolean = false;\r\n\r\n  public openSubscription: any;\r\n\r\n  constructor(\r\n    private generalService: GeneralService,\r\n    private _swalService: SwalService,\r\n    private http: HttpClient,\r\n    // private _toastService: ToastService,\r\n    private _productoService: ProductoService,\r\n    private _dispensacion: DispensacionService,\r\n    private _remisionNuevoService: RemisionnuevoService\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.openSubscription = this.AbrirModal.subscribe((data: any) => {\r\n\r\n      // console.log(\"modal\");\r\n      // console.log(data);\r\n\r\n      this.Tipo = data.tipo;\r\n      if (data.tipo == 'Remision') {\r\n        this.RemisionModel = data.remision_model;\r\n        if (data.pendientes.length > 0) {\r\n\r\n          this.ListaProductos = data.pendientes;\r\n          this.Pendiente = true;\r\n          this.TCols = 8;\r\n        } else {\r\n          this.ListaProductos = [];\r\n          this.Pendiente = false;\r\n          this.TCols = 7;\r\n        }\r\n      } else {\r\n        this.ProductosEntregasDobles = data.productos_entregados;\r\n        this.InformacionPunto = data.punto_dispensacion;\r\n        this.Nit_Eps = data.nit_eps;\r\n        this.Id_Tipo_Servicio = data.tipo_servicio;\r\n        this.Codigo_Barras = data.cod_barras;\r\n        this.ListaProductos = [];\r\n        this.Pendiente = false;\r\n        this.TCols = 8;\r\n\r\n        if (data.cod_barras != '') {\r\n          $(\"#sin-inventario\").prop('checked', false);\r\n          setTimeout(() => {\r\n            this.ConsultaFiltrada();\r\n          }, 300);\r\n        }\r\n      }\r\n      this.ListaAgregados = data.agregados;\r\n      this.Id_Inventarios = data.inventarios;\r\n      this.ModalProductosRemision.show();\r\n      setTimeout(() => {\r\n        this.nameFilter.nativeElement.focus();\r\n      }, 100);\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.openSubscription != undefined) {\r\n      this.openSubscription.unsubscribe();\r\n    }\r\n\r\n    this.CerrarModal();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    // if (changes.RemisionModel.previousValue != undefined) {\r\n    //   this.RemisionModel = changes.RemisionModel.currentValue;\r\n    // }\r\n  }\r\n\r\n  ConsultaFiltrada() {\r\n    this.AsignarValorSinInventario();\r\n    var params = this.SetFiltros();\r\n\r\n    this.Cargando = true;\r\n    if (this.Tipo == 'Remision') {\r\n\r\n      this.http.get(environment.ruta + 'php/remision_nuevo/get_productos_inventario.php', { params: params }).subscribe((data: Array<ProductoCargarRemision>) => {\r\n        this.ListaProductos = data;\r\n        this.Cargando = false;\r\n      });\r\n    } else if (this.Tipo == 'Dispensacion') {\r\n      this._dispensacion.GetListaProductosInventario(params).subscribe((data: any) => {\r\n        this.ListaProductos = data.Productos;\r\n        this.Cargando = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  SetFiltros() {\r\n    let params: any = {};\r\n    if (this.Tipo == 'Remision') {\r\n\r\n      params.modelo = this.RemisionModel.Modelo;\r\n      params.tiporemision = this.RemisionModel.Tipo;\r\n      params.id_origen = this.RemisionModel.Id_Origen;\r\n      params.mes = this.RemisionModel.Meses;\r\n\r\n      if (this.RemisionModel.Grupo.Id_Grupo) {\r\n        params.grupo = JSON.stringify(this.RemisionModel.Grupo);\r\n      }\r\n      if (this.RemisionModel.Tipo == 'Cliente') {\r\n        params.id_destino = this.RemisionModel.Id_Destino;\r\n        if (this.RemisionModel.Id_Destino == 0 || this.RemisionModel.Id_Destino == undefined) {\r\n          this._swalService.ShowMessage(['error', 'Sin Destino Seleccionado', 'Debe seleccionar un destino para realizaar la busqueda!']);\r\n          return;\r\n        }\r\n      } else if (this.RemisionModel.Tipo == 'Contrato') {\r\n        params.id_destino = this.RemisionModel.Id_Destino;\r\n        if (this.RemisionModel.Id_Destino == 0 || this.RemisionModel.Id_Destino == undefined) {\r\n          this._swalService.ShowMessage(['error', 'Sin Destino Seleccionado', 'Debe seleccionar un destino para realizaar la busqueda!']);\r\n          return;\r\n        }\r\n      }\r\n\r\n\r\n    } else if (this.Tipo == 'Dispensacion') {\r\n      params.id_punto = this.Id_Punto;\r\n      params.id_tipo_servicio = this.Id_Tipo_Servicio;\r\n      params.eps = this.Nit_Eps;\r\n      params.cod_barras = this.Codigo_Barras;\r\n    }\r\n\r\n    if (this.Filtros.nombre.trim() != \"\") {\r\n      params.nombre = this.Filtros.nombre;\r\n    }\r\n\r\n    if (this.Filtros.cum.trim() != \"\") {\r\n      params.cum = this.Filtros.cum;\r\n    }\r\n    if (this.Filtros.lab_com.trim() != \"\") {\r\n      params.lab_com = this.Filtros.lab_com;\r\n    }\r\n    if (this.Filtros.Inv != \"\") {\r\n      params.inv = this.Filtros.Inv;\r\n    }\r\n\r\n    return params;\r\n  }\r\n\r\n  SeleccionarProducto(seleccionado: any, idProducto: any, producto: any, posProducto: any) {\r\n\r\n    let inventario = producto.Id_Inventario_Nuevo;\r\n\r\n    if (seleccionado == '0') {\r\n      if (!this.VerificarAgregados(idProducto, inventario)) {\r\n        return;\r\n      } else {\r\n        let prd = {};\r\n        producto.Lotes_Visuales = new Array<string>();\r\n\r\n        if (this.Tipo == 'Dispensacion') {\r\n          let p = {\r\n            id_tipo_servicio: this.Id_Tipo_Servicio,\r\n            eps: this.Nit_Eps,\r\n            id_producto: idProducto,\r\n            id_punto: this.Id_Punto\r\n          };\r\n\r\n          this.http.get(environment.ruta + 'php/tablero_dispensacion/validar_producto.php', { params: p }).subscribe((data: any) => {\r\n            if (data.codigo == 'success') {\r\n              producto.Costo = data.Costo;\r\n              let validacion = this.generalService.ValidarEntregasDobles(this.InformacionPunto, this.ProductosEntregasDobles, idProducto);\r\n              if (!validacion.validar) {\r\n                this._swalService.ShowMessage(['warning', 'Alerta', 'Esta producto ya fue entregado este mes en la dis ' + validacion.codigo + ' en la fecha ' + validacion.fecha + '!']);\r\n                return;\r\n              } else {\r\n                prd = this.SetearProductoDispensacion(producto);\r\n              }\r\n              if (!functionsUtils.IsObjEmpty(prd)) {\r\n                this.ProductosAgregar.push(prd);\r\n              }\r\n              this.ListaAgregados.push(idProducto);\r\n              this.Id_Inventarios.push(inventario);\r\n              this.ListaProductos[posProducto].Seleccionado = '1';\r\n            } else {\r\n              this._swalService.ShowMessage(data);\r\n            }\r\n          });\r\n\r\n        } else {\r\n          prd = this.SetearProducto(producto);\r\n          if (!functionsUtils.IsObjEmpty(prd)) {\r\n            this.ProductosAgregar.push(prd);\r\n          }\r\n          this.ListaProductos[posProducto].Seleccionado = '1';\r\n        }\r\n      }\r\n    } else {\r\n\r\n      let index = this.ProductosAgregar.findIndex(x => x.Id_Producto == idProducto);\r\n      this.ProductosAgregar.splice(index, 1);\r\n\r\n      let inv = this.Id_Inventarios.findIndex(x => x == inventario)\r\n      this.Id_Inventarios.splice(inv, 1);\r\n\r\n      this.ListaProductos[posProducto].Seleccionado = '0';\r\n    }\r\n  }\r\n\r\n  private VerificarAgregados(idProducto: string, idInventario: string): boolean {\r\n    let exist = this.ListaAgregados.filter(x => x == idProducto);\r\n\r\n    if (this.Tipo == 'Remision') {\r\n      if (exist.length > 0) {\r\n        this._swalService.ShowMessage(['warning', 'Alerta', 'Ya este producto ha sido agregado a la lista!']);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else {\r\n      let exit_id = this.Id_Inventarios.filter(x => x == idInventario);\r\n      if (exist.length > 0 && exit_id.length > 0) {\r\n        this._swalService.ShowMessage(['warning', 'Alerta', 'Ya este producto ha sido agregado a la lista!']);\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  private SetearProductoDispensacion(p: any) {\r\n    let producto = {\r\n      Id_Producto: p.Id_Producto,\r\n      Nombre: p.Nombre,\r\n      Nombre_Comercial: p.Nombre_Comercial,\r\n      Lote: p.Lote,\r\n      Fecha_Vencimiento: p.Fecha_Vencimiento,\r\n      Codigo_Cum: p.Codigo_Cum,\r\n      Cantidad_Disponible: p.Cantidad_Disponible,\r\n      Cantidad_Formulada: null,\r\n      Cantidad_Entregada: null,\r\n      Cantidad_Minima: p.Cantidad_Minima,\r\n      Costo: p.Costo,\r\n      Id_Inventario_Nuevo: p.Id_Inventario_Nuevo\r\n    };\r\n\r\n    return producto;\r\n\r\n  }\r\n\r\n  AgregarProductosTabla() {\r\n\r\n    if (this.ProductosAgregar.length == 0) {\r\n      this._swalService.ShowMessage(['warning', 'Alerta', 'Debe escoger un producto de la lista primero!']);\r\n      return;\r\n    } else {\r\n      this.AgregarProductos.emit(this.ProductosAgregar);\r\n      this.CerrarModal();\r\n    }\r\n  }\r\n\r\n  private SetearProducto(producto: any) {\r\n\r\n    let product: any = new ProductoCargarRemision();\r\n\r\n    for (var key in producto) {\r\n      if (key != 'Codigo_Cum' && key != 'Seleccionado' && key != 'Cantidad_Requerida') {\r\n        if (key == 'Lotes') {\r\n          product[key] = this.SetearLotes(producto[key]);\r\n        } else if (key == 'Cantidad') {\r\n          if (producto[key] == '') {\r\n            product[key] = null;\r\n          } else {\r\n            product[key] = parseInt(producto[key]);\r\n          }\r\n        } else {\r\n          if (!isNaN(parseInt(producto[key]))) {\r\n            product[key] = producto[key];\r\n          } else {\r\n            product[key] = producto[key];\r\n          }\r\n        }\r\n\r\n      } else {\r\n        product[key] = producto[key];\r\n      }\r\n    }\r\n    return product;\r\n  }\r\n\r\n\r\n  private SetearLotes(lotes: Array<any>) {\r\n    let lotes_nuevos = new Array<any>();\r\n\r\n    lotes.forEach(lote => {\r\n      let lote_nuevo = {};\r\n\r\n      for (var key in lote) {\r\n        if (key != 'Fecha_Vencimiento' && key != 'Lote') {\r\n          lote_nuevo[key] = parseInt(lote[key]);\r\n        } else {\r\n          lote_nuevo[key] = lote[key];\r\n        }\r\n      }\r\n\r\n      lotes_nuevos.push(lote_nuevo);\r\n    });\r\n\r\n    return lotes_nuevos;\r\n  }\r\n\r\n  AsignarValorSinInventario() {\r\n    var check = $(\"#sin-inventario\").is(':checked');\r\n    this.Filtros.Inv = check;\r\n  }\r\n\r\n  private VerificarSeleccionado(): boolean {\r\n    if (this._productoAgregar == null) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  LimpiarModelo() {\r\n    this.ListaProductos = [];\r\n    this.ListaAgregados = [];\r\n    this.Id_Inventarios = [];\r\n    this.ProductosAgregar = [];\r\n    this.Filtros = {\r\n      nombre: '',\r\n      cum: '',\r\n      lab_com: '',\r\n      Inv: '',\r\n    };\r\n    this.Codigo_Barras = '';\r\n    //this._productoAgregar = null;\r\n  }\r\n\r\n  CerrarModal() {\r\n    this.ModalProductosRemision.hide();\r\n    this.LimpiarModelo();\r\n    this.LimpiarCodBarras.emit();\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n","<app-modal-basic [dialogClass]=\"'modal-lg modal-full'\" #ModalProductosRemision>\r\n    <div class=\"app-modal-header\">\r\n        <h4 class=\"modal-title\">Agregar Productos</h4>\r\n        <button type=\"button\" class=\"close basic-close\" (click)=\"CerrarModal()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n    </div>\r\n    <div class=\"app-modal-body\">\r\n        <div class=\"form-row\">\r\n            <div class=\"col-md-2\" *ngIf=\"Tipo != 'Remision'\">\r\n                <input type=\"checkbox\" checked name=\"sin-inventario\" id=\"sin-inventario\" (change)=\"ConsultaFiltrada()\">\r\n                Sin Inventario\r\n            </div>\r\n            <div class=\"col-md-12\">\r\n                <table class=\"table table-striped\" style=\"min-height: 300px;\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Producto</th>\r\n                            <th>Lab. Com.</th>\r\n                            <th style=\"width:5%;\">Emb.</th>\r\n                            <th style=\"width:10%;\">Cat.</th>\r\n                            <th style=\"width:15%;\">Cum</th>\r\n                            <th style=\"width:10%;\">Cant. Disp.</th>\r\n                            <th *ngIf=\"Pendiente\">Cant. Pend.</th>\r\n                            <th style=\"width:10%; \" *ngIf=\"Tipo!='Remision'\">Lote</th>\r\n                            <th style=\"width:10%;\" *ngIf=\"Tipo!='Remision'\">F. Venc.</th>\r\n                        </tr>\r\n                        <tr>\r\n                            <th class=\"tabla-filtro\">\r\n                                <input type=\"text\" #filtroNombre [(ngModel)]=\"Filtros.nombre\"\r\n                                    (change)=\"ConsultaFiltrada()\" class=\"form-control input-sm\"\r\n                                    placeholder=\"Filtro Nombre\">\r\n                            </th>\r\n                            <th class=\"tabla-filtro\">\r\n                                <input *ngIf=\"Tipo=='Dispensacion'\" type=\"text\" [(ngModel)]=\"Filtros.lab_com\"\r\n                                    (change)=\"ConsultaFiltrada()\" class=\"form-control input-sm\"\r\n                                    placeholder=\"Filtro Lab Comercial\">\r\n                            </th>\r\n                            <th class=\"tabla-filtro\"></th>\r\n                            <th class=\"tabla-filtro\"></th>\r\n                            <th style=\"width:150px;\" class=\"tabla-filtro\">\r\n                                <input type=\"text\" [(ngModel)]=\"Filtros.cum\" (change)=\"ConsultaFiltrada()\"\r\n                                    class=\"form-control input-sm\" placeholder=\"Filtro Cum Comercial\">\r\n                            </th>\r\n                            <th class=\"tabla-filtro\"></th>\r\n                            <th *ngIf=\"Pendiente\" class=\"tabla-filtro\"></th>\r\n                            <th *ngIf=\"Tipo!='Remision'\" class=\"tabla-filtro\"></th>\r\n                            <th *ngIf=\"Tipo!='Remision'\" class=\"tabla-filtro\"></th>\r\n                        </tr>\r\n                        <tr *ngIf=\"Cargando\">\r\n                            <td [attr.colspan]=\"TCols\" class=\"text-center\">\r\n                                <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n                                <span class=\"sr-only\">Cargando...</span>\r\n                                <h4>Cargando productos...</h4>\r\n                            </td>\r\n                        </tr>\r\n                        <tr *ngIf=\"ListaProductos.length == 0 && !Cargando\">\r\n                            <td [attr.colspan]=\"TCols\" class=\"text-center\">\r\n                                <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n                                <h4>No hay datos para mostrar</h4>\r\n                            </td>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf=\"!Cargando\">\r\n                        <tr *ngFor=\"let p of ListaProductos; let i=index\"\r\n                            (click)=\"SeleccionarProducto(p.Seleccionado, p.Id_Producto, p, i)\"\r\n                            [ngClass]=\"{'bg-selected': p.Seleccionado == 1}\" style=\"cursor:pointer;\">\r\n                            <td>\r\n                                <strong>{{p.Nombre_Comercial}}</strong>\r\n                                <p class=\"text-muted\" style=\"font-size:9px;\">{{p.Nombre}}</p>\r\n                            </td>\r\n                            <td>\r\n                                {{ p.Laboratorio_Comercial }}\r\n                            </td>\r\n                            <td>\r\n                                <br>\r\n                                <i class=\"fa fa-archive\" placement=\"left\" ngbTooltip=\"{{p.Embalaje}}\"></i>\r\n                            </td>\r\n                            <td>\r\n                                {{ p.Categoria }}\r\n                            </td>\r\n                            <td>\r\n                                {{ p.Codigo_Cum }}\r\n                            </td>\r\n                            <td>\r\n                                {{ p.Cantidad_Disponible }}\r\n                            </td>\r\n                            <td *ngIf=\"Pendiente\">\r\n                                {{ p.Cantidad_Pendiente }}\r\n                            </td>\r\n                            <td *ngIf=\"Tipo!='Remision'\">\r\n                                {{ p.Lote }}\r\n                            </td>\r\n                            <td *ngIf=\"Tipo!='Remision'\">\r\n                                {{ p.Fecha_Vencimiento }}\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"app-modal-footer\">\r\n        <div class=\"text-right\">\r\n            <button type=\"button\" class=\"btn btn-outline-danger btn-rounded btn-sm\"\r\n                (click)=\"CerrarModal()\">Cerrar.</button>\r\n            <button type=\"button\" class=\"btn btn-outline-primary btn-rounded btn-sm\" (click)=\"AgregarProductosTabla()\"\r\n                [disabled]=\"ProductosAgregar.length == 0\">\r\n                Agregar y cerrar\r\n            </button>\r\n        </div>\r\n    </div>\r\n</app-modal-basic>","import { Pipe } from '@angular/core';\nimport * as ɵngcc0 from '@angular/core';\nvar TruncateWordsPipe = (function () {\n    function TruncateWordsPipe() {\n    }\n    TruncateWordsPipe.prototype.transform = function (value, limit, trail) {\n        if (limit === void 0) { limit = 40; }\n        if (trail === void 0) { trail = '…'; }\n        var result = value || '';\n        if (value) {\n            var words = value.split(/\\s+/);\n            if (words.length > Math.abs(limit)) {\n                if (limit < 0) {\n                    limit *= -1;\n                    result = trail + words.slice(words.length - limit, words.length).join(' ');\n                }\n                else {\n                    result = words.slice(0, limit).join(' ') + trail;\n                }\n            }\n        }\n        return result;\n    };\n    /** @nocollapse */\n    TruncateWordsPipe.ctorParameters = function () { return []; };\nTruncateWordsPipe.ɵfac = function TruncateWordsPipe_Factory(t) { return new (t || TruncateWordsPipe)(); };\nTruncateWordsPipe.ɵpipe = ɵngcc0.ɵɵdefinePipe({ name: \"words\", type: TruncateWordsPipe, pure: true });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TruncateWordsPipe, [{\n        type: Pipe,\n        args: [{\n                name: 'words'\n            }]\n    }], function () { return []; }, null); })();\n    return TruncateWordsPipe;\n}());\nexport { TruncateWordsPipe };\n\n//# sourceMappingURL=truncate-words.pipe.js.map","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\n// import { Globales } from '../shared/globales/globales';\r\n\r\n// import { Http, ResponseContentType } from '@angular/http';\r\nimport { User } from 'src/app/core/models/users.model';\r\nimport { UserService } from 'src/app/core/services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-remision',\r\n  templateUrl: './remision.component.html',\r\n  styleUrls: ['./remision.component.scss'],\r\n})\r\nexport class RemisionComponent implements OnInit {\r\n  public userF: User;\r\n  public remision: any = {};\r\n\r\n  public productos: any[] = [];\r\n  public env: any;\r\n  public origen: any = [];\r\n  public destino: any = [];\r\n  public Actividades: any[] = [];\r\n  public fecha = new Date();\r\n  public id: any;\r\n  public reducer = (accumulator, currentValue) =>\r\n    accumulator + parseInt(currentValue.Cantidad_Formulada);\r\n  public reducer2 = (accumulator, currentValue) =>\r\n    accumulator + parseInt(currentValue.Cantidad_Entregada);\r\n  public cant_formulada = 0;\r\n  public cant_entregada = 0;\r\n  public cant_diferencia = 0;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private http: HttpClient,\r\n    private _user: UserService\r\n  ) {\r\n    this.env = environment;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.userF = this._user.user;\r\n    this.id = this.route.snapshot.params['id'];\r\n    this.http\r\n      .get(environment.ruta + 'php/remision/remision.php', {\r\n        params: { id: this.id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.remision = data.Remision;\r\n        this.origen = data.Origen;\r\n        this.destino = data.Destino;\r\n        console.log(this.destino);\r\n        console.log(this.origen);\r\n      });\r\n    this.http\r\n      .get(environment.ruta + 'php/remision/productos_remision.php', {\r\n        params: { id: this.id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.productos = data;\r\n      });\r\n    this.http\r\n      .get(environment.ruta + 'php/remision/actividades_remision.php', {\r\n        params: { id: this.id },\r\n      })\r\n      .subscribe((data: any) => {\r\n        this.Actividades = data;\r\n      });\r\n  }\r\n  action(act) {\r\n    if (act == 'imprimir') {\r\n      window.open(\r\n        this.env.ruta +\r\n          '/php/archivos/descarga_pdf.php?tipo=Remision&id=' +\r\n          this.id,\r\n        '_blank'\r\n      );\r\n    } else if (act == 'imprimirconprecio') {\r\n      window.open(\r\n        this.env.ruta +\r\n          '/php/archivos/descarga_pdf_price.php?tipo=Remision&id=' +\r\n          this.id\r\n      );\r\n    }\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-md-4\">\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"card-title\">\r\n          <h5 class=\"text-primary\">Seguimiento</h5>\r\n        </div>\r\n        <hr class=\"line\" />\r\n        <ul class=\"list-group list-group-flush\">\r\n          <li\r\n            *ngFor=\"let Actividad of Actividades\"\r\n            class=\"list-group-item px-0\"\r\n          >\r\n            <div class=\"card-title d-flex justify-content-between\">\r\n              <div>\r\n                <span\r\n                  class=\"badge {{\r\n                    Actividad.Estado == 'Creacion' ? 'badge-info' : ''\r\n                  }} {{\r\n                    Actividad.Estado == 'Edicion' ? 'badge-warning' : ''\r\n                  }}{{ Actividad.Estado == 'Anulada' ? 'badge-danger' : '' }}{{\r\n                    Actividad.Estado == 'Alistamiento' ||\r\n                    Actividad.Estado == 'Fase 1' ||\r\n                    Actividad.Estado == 'Fase 2'\r\n                      ? 'badge-dark'\r\n                      : ''\r\n                  }}{{\r\n                    Actividad.Estado == 'Enviada' ? 'badge-success ' : ''\r\n                  }} {{\r\n                    Actividad.Estado == 'Recibida' ? 'badge-light ' : ''\r\n                  }}{{\r\n                    Actividad.Estado == 'Facturada' ? 'badge-secondary ' : ''\r\n                  }}\"\r\n                  >{{ Actividad.Estado }}</span\r\n                >\r\n              </div>\r\n              <img\r\n                class=\"img-thumbnail rounded-circle header-profile-user img-fluid\"\r\n                [src]=\"Actividad.Imagen | image: 'users'\"\r\n                onerror=\"this.src='../../../../assets/images/noprofile.png'\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <p>\r\n              {{ Actividad.Detalles }} <br />\r\n              <small class=\"text-muted\"> {{ Actividad.Fecha }}</small>\r\n            </p>\r\n          </li>\r\n        </ul>\r\n        <button\r\n          *ngIf=\"remision.Id_Factura != ''\"\r\n          [routerLink]=\"['/facturasventasver', remision.Id_Factura]\"\r\n          class=\"btn btn-block btn-info\"\r\n        >\r\n          <i class=\"fa fa-file\"></i> Ver Factura\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"col-md-8\">\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <div class=\"card-title d-flex justify-content-between\">\r\n          <div class=\"card m-0 p-0 border-0 shadow-none\">\r\n            <div class=\"card-horizontal\">\r\n              <div class=\"img-square-wrapper\">\r\n                <img\r\n                  [src]=\"userF.person.company_worked.logo | image: 'companies'\"\r\n                  alt=\"\"\r\n                  height=\"45\"\r\n                />\r\n              </div>\r\n              <div class=\"card-body p-0 m-0\">\r\n                <p class=\"card-text\" style=\"font-size: x-small\">\r\n                  {{ userF.person.company_worked.name }} <br />\r\n                  NIT {{ userF.person.company_worked.tin }} <br />\r\n                  {{ userF.person.company_worked.address }} <br />\r\n                  {{ userF.person.company_worked.phone }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"text-right\">\r\n            <h4>\r\n              <span class=\"badge badge-primary\">{{ remision.Codigo }}</span>\r\n            </h4>\r\n            <h5>{{ remision.Tipo }}</h5>\r\n            <h6>{{ remision.Fecha | date: \"longDate\" }}</h6>\r\n            <div class=\"col-sm-5\" style=\"padding-left: 0\">\r\n              <!-- <img *ngIf=\"remision.Codigo_Qr!=''\" src=\"{{env.ruta}}IMAGENES/QR/{{remision.Codigo_Qr}}\" class=\"img-fluid\" style=\"margin-top: -20px;\"> -->\r\n              <img\r\n                *ngIf=\"remision.Codigo_Qr == ''\"\r\n                src=\"assets/images/sinqr.png\"\r\n                class=\"img-fluid\"\r\n                style=\"margin-top: -20px\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <table\r\n          class=\"table table-bordered table-responsive-sm table-sm\"\r\n          style=\"font-size: small\"\r\n        >\r\n          <thead class=\"bg-light\">\r\n            <tr class=\"text-center text-uppercase\">\r\n              <th colspan=\"2\">Origen</th>\r\n              <th colspan=\"2\">Destino</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td class=\"align-middle\">\r\n                <strong *ngIf=\"origen; else noData\">{{ origen.Nombre }}</strong>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <span *ngIf=\"origen; else noData\">\r\n                  <strong> Dirección: </strong> {{ origen.Direccion }}\r\n                </span>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <strong *ngIf=\"destino; else noData\">\r\n                  {{ destino.Nombre }}</strong\r\n                >\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <span *ngIf=\"destino; else noData\">\r\n                  <strong> Dirección: </strong>{{ destino.Direccion }}\r\n                </span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td class=\"align-middle\">\r\n                <span *ngIf=\"origen; else noData\">\r\n                  <strong>Teléfono: </strong> {{ origen.Telefono }}\r\n                </span>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <span *ngIf=\"origen; else noData\">\r\n                  <strong> Correo: </strong> {{ origen.Correo }}\r\n                </span>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <span *ngIf=\"destino; else noData\">\r\n                  <strong> Teléfono: </strong>{{ destino.Celular }}\r\n                </span>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                <span *ngIf=\"destino; else noData\">\r\n                  <strong> Correo: </strong>{{ destino.Correo }}\r\n                </span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <hr />\r\n        <div class=\"card bg-light\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Observaciones</h5>\r\n            <p>{{ remision.Observaciones }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <table\r\n          class=\"table table-bordered table-responsive-sm table-sm\"\r\n          style=\"font-size: small\"\r\n        >\r\n          <thead class=\"bg-light\">\r\n            <tr class=\"text-center text-uppercase\">\r\n              <th class=\"align-middle\">Producto</th>\r\n             <!--  <th class=\"align-middle\">Cat</th> -->\r\n              <th class=\"align-middle\">Lote</th>\r\n              <th class=\"align-middle\">Fecha Vencimiento</th>\r\n              <th class=\"align-middle\">Cantidad</th>\r\n              <th *ngIf=\"remision.Tipo == 'Cliente'\" class=\"align-middle\">Precio</th>\r\n              <th *ngIf=\"remision.Tipo == 'Cliente'\" class=\"align-middle\">Descuento</th>\r\n              <th *ngIf=\"remision.Tipo == 'Cliente'\" class=\"align-middle\">IVA</th>\r\n              <th *ngIf=\"remision.Tipo == 'Cliente'\" class=\"align-middle\">Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr *ngFor=\"let item of productos; let i = index\" id=\"fila{{ i }}\" class=\"text-center\">\r\n              <td class=\"align-middle\">{{ item.Nombre_Producto }}</td>\r\n              <!-- <td class=\"align-middle\">\r\n                <i *ngIf=\"item.Id_Categoria == 9; else noData\" class=\"fa fa-registered\"></i>\r\n              </td> -->\r\n              <td class=\"align-middle\">{{ item.Lote }}</td>\r\n              <td class=\"align-middle\">{{ item.Fecha_Vencimiento }}</td>\r\n              <td class=\"align-middle\">{{ item.Cantidad }}</td>\r\n              <td class=\"align-middle\" *ngIf=\"remision.Tipo == 'Cliente'\">\r\n                {{ item.Precio }}\r\n              </td>\r\n              <td class=\"align-middle\" *ngIf=\"remision.Tipo == 'Cliente'\">\r\n                {{ item.Descuento }}\r\n              </td>\r\n              <td class=\"align-middle\" *ngIf=\"remision.Tipo == 'Cliente'\">\r\n                {{ item.Impuesto }}\r\n              </td>\r\n              <td class=\"align-middle\" *ngIf=\"remision.Tipo == 'Cliente'\">\r\n                {{ item.Subtotal }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <!--<div *ngIf=\"remision.Tipo==Cliente\" class=\"row\">\r\n              <div class=\"col-sm-12\">\r\n                <table class=\"table table-responsive invoice-table invoice-total\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <th>Productos Solicitados :</th>\r\n                      <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Productos Entregados :</th>\r\n                      <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                      <th>Diferencia :</th>\r\n                      <td></td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>-->\r\n        <div class=\"text-right\">\r\n          <div class=\"btn-group\" role=\"group\" aria-label=\"Button group\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-success\"\r\n              (click)=\"action('imprimir')\"\r\n            >\r\n              <i class=\"fa fa-print\"></i> Imprimir</button\r\n            >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-info\"\r\n              (click)=\"action('imprimirconprecio')\"\r\n            >\r\n              <i class=\"fa fa-print\"></i> Imprimir con Precio</button\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #noData> No existen datos </ng-template>\r\n","import { Component, EventEmitter, OnInit, OnChanges, OnDestroy, SimpleChanges, Input, Output, ViewChild } from '@angular/core';\r\n\r\nimport { Subject, Observable } from 'rxjs';\r\n\r\nimport swal, { SweetAlertOptions } from 'sweetalert2';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { RemisionModelNuevo } from '../../RemisonModelNuevo';\r\nimport { SwalComponent } from '@sweetalert2/ngx-sweetalert2';\r\nimport { ProductoCargarRemision } from '../../ProductoCargarRemision';\r\nimport { SwalService } from 'src/app/pages/ajustes/informacion-base/services/swal.service';\r\nimport { ProductoService } from 'src/app/services/producto.service';\r\nimport { RemisionService } from 'src/app/services/remision.service';\r\nimport { RemisionnuevoService } from 'src/app/services/remisionnuevo.service';\r\nimport { EpsService } from 'src/app/services/eps.service';\r\nimport { functionsUtils } from 'src/app/core/utils/functionsUtils';\r\nimport { GeneralService } from 'src/app/services/general.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { WarningMessage } from 'src/app/core/utils/confirmMessage';\r\n\r\n\r\n@Component({\r\n  selector: 'app-productosremisionnuevo',\r\n  templateUrl: './productosremisionnuevo.component.html',\r\n  styleUrls: ['./productosremisionnuevo.component.scss']\r\n})\r\nexport class ProductosremisionnuevoComponent implements OnInit, OnChanges, OnDestroy {\r\n\r\n  //OBSERVABLES\r\n  public AbrirModalProductos: Subject<any> = new Subject();\r\n  public AbrirModalProductoCambiar: Subject<any> = new Subject();\r\n  @Input() public ActualizarModelo: Observable<any> = new Observable();\r\n  @Input() public RecibirPendientes: Observable<any> = new Observable();\r\n  public suscripcionCambioModelo: any;\r\n  public suscripcionRecibirPendiente: any;\r\n\r\n  //PRIVATE VARIABLES\r\n  @Input() public _remisionModel: RemisionModelNuevo;\r\n  private _listaAgregados: Array<any> = [];\r\n  private Codigo_Borrador = '';\r\n  @Output() public CargarBorrador: EventEmitter<any> = new EventEmitter();\r\n  private _idsCambios: Array<string> = [];\r\n\r\n  //PUBLIC VARIABLES\r\n  //COMUNICACION DE COMPONENTES\r\n  @Output() public ActualizarValoresEncabezado: EventEmitter<any> = new EventEmitter();\r\n  @ViewChild('confirmacionGuardar') public confirmacionGuardar: SwalComponent;\r\n  @ViewChild('confirmacionRetornar') public confirmacionRetornar: SwalComponent;\r\n  @ViewChild('confirmacionSalir') confirmacionSalir: any;\r\n  @ViewChild('errorBorrador') errorBorrador: any;\r\n\r\n  //LISTAS\r\n  public Lista_Productos: Array<ProductoCargarRemision> = [];\r\n  public Impuestos: Array<any> = [];\r\n  public Entidades_Salud: Array<any> = [];\r\n\r\n  //VARIABLES DE CONTROL\r\n  public Display_Interna: boolean = true;\r\n  public Display_Cliente: boolean = false;\r\n  public Display_Rotacion: boolean = false;\r\n  public DeshabilitarBoton: boolean = false;\r\n  public Cargando: boolean = false;\r\n  public Codigo_Barras: any = '';\r\n\r\n  //ACUMULADORES\r\n  public reducer_subtotal = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal);\r\n  public reducer_desc = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Total_Descuento);\r\n  public reducer_imp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Total_Impuesto);\r\n\r\n  //VARIABLES DE DATOS\r\n  public alertOption: SweetAlertOptions = {\r\n    title: \"¿Está Seguro?\",\r\n    text: \"Se dispone a Guardar esta Remisión\",\r\n    showCancelButton: true,\r\n    cancelButtonText: \"No, Dejame Comprobar!\",\r\n    confirmButtonText: 'Si, Guardar',\r\n    showLoaderOnConfirm: true,\r\n    focusCancel: true,\r\n    // type: 'info',\r\n    preConfirm: () => {\r\n      return new Promise((resolve) => {\r\n        this.GuardarRemision();\r\n      })\r\n    },\r\n    allowOutsideClick: () => !swal.isLoading()\r\n  };\r\n\r\n  public alertOptionRetorno: SweetAlertOptions = {\r\n    title: \"Registro Exitoso\",\r\n    text: \"Remisión guardada exitosamente\",\r\n    confirmButtonText: 'Aceptar',\r\n    showLoaderOnConfirm: true,\r\n    focusCancel: true,\r\n    // type: 'info',\r\n    preConfirm: () => {\r\n      return new Promise((resolve) => {\r\n        this._router.navigate(['/remisionesnuevo']);\r\n      })\r\n    },\r\n    allowOutsideClick: () => !swal.isLoading()\r\n  };\r\n  public alertOptionBorrador: SweetAlertOptions = {\r\n    title: \"Error Borrador\",\r\n    text: \"El Borrador Seleccionado contiene errores Comuníquese con el Dpto. de sistemas\",\r\n    confirmButtonText: 'Aceptar',\r\n    showLoaderOnConfirm: true,\r\n    focusCancel: true,\r\n    // type: 'error',\r\n    allowOutsideClick: false,\r\n    preConfirm: () => {\r\n      return new Promise((resolve) => {\r\n        this._router.navigate(['/remisionesnuevo']);\r\n      })\r\n    },\r\n  };\r\n\r\n  public RotativoModel: any = {\r\n    Fecha_Inicio: '',\r\n    Fecha_Fin: '',\r\n    Id_Eps: '',\r\n    Id_Origen: 0,\r\n    Grupo: {\r\n      Id_Grupo: 0,\r\n      Nombre_Grupo: '',\r\n      Fecha_Vencimiento: '',\r\n      Presentacion: ''\r\n    },\r\n    Id_Destino: 0,\r\n    Meses: ''\r\n  };\r\n\r\n  public Tipo_Remision: string = 'Interna';\r\n  public Subtotal_Remision: number = 0;\r\n  public Impuesto_Remision: number = 0;\r\n  public Descuento_Remision: number = 0;\r\n  public Costo_Remision: number = 0;\r\n  public DinamycCols: number = 9;\r\n\r\n  public Mensaje: number = 0;\r\n  public ItemsRemision: number = 0;\r\n  public Id_Borrador: string = '';\r\n\r\n  private Fecha = new Date();\r\n  private fecha_mes_anterior = new Date(new Date().setDate(this.Fecha.getDate() - 30));\r\n  ListaProductos: ProductoCargarRemision[];\r\n  ProductosAgregar: any = [];\r\n\r\n  constructor(\r\n    private _servicesInventario: GeneralService,\r\n    private _swalService: SwalService,\r\n    // private _toastService:ToastService,\r\n    private _productoService: ProductoService,\r\n    private _remisionService: RemisionService,\r\n    private _remisionNuevoService: RemisionnuevoService,\r\n    // private _generadorService:FuncionesgeneralesService,\r\n    private http: HttpClient,\r\n    private _epsService: EpsService,\r\n    private _router: Router,\r\n    private _activeRoute: ActivatedRoute) {\r\n    this.RotativoModel.Fecha_Inicio = this.fecha_mes_anterior.toISOString().split(\"T\")[0];\r\n    this.RotativoModel.Fecha_Fin = this.Fecha.toISOString().split(\"T\")[0];\r\n\r\n    this.http.get(environment.ruta + 'php/genericos/detalle.php', {\r\n      params: { modulo: 'Configuracion', id: '1' }\r\n    }).subscribe((data: any) => {\r\n      this.ItemsRemision = parseInt(data.Max_Item_Remision);\r\n    });\r\n\r\n    this.GetImpuestos();\r\n    this._getEntidadesSalud();\r\n\r\n    if (this._activeRoute.snapshot.queryParams.borrador) {\r\n      this.Codigo_Borrador = this._activeRoute.snapshot.queryParams.borrador;\r\n      setTimeout(() => {\r\n        this.RecuperarBorrador();\r\n      }, 200);\r\n    } else {\r\n      this.Codigo_Borrador = functionsUtils.HexadecimalAleatorio();\r\n    }\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.suscripcionCambioModelo = this.ActualizarModelo.subscribe((data: any) => {\r\n\r\n      this._remisionModel = data.modelo;\r\n      this.Tipo_Remision = data.modelo.Tipo;\r\n      if (this._remisionModel.Tipo == 'Interna' && data.actualizar_productos) {\r\n\r\n        this.DinamycCols = 9;\r\n        this.Display_Rotacion = false;\r\n\r\n        if (this._remisionModel.Modelo == 'Bodega-Punto') {\r\n          this.Display_Interna = true;\r\n          this.Display_Cliente = false;\r\n        }\r\n\r\n        if (!isNaN(parseInt(data.modelo.Id_Origen))) {\r\n          this.RotativoModel.Id_Origen = parseInt(data.modelo.Id_Origen);\r\n        } else {\r\n          this.RotativoModel.Id_Origen = 0;\r\n        }\r\n        console.log('modelo', data.modelo);\r\n\r\n        if (data.modelo.Grupo.Id_Grupo != 0) {\r\n\r\n\r\n          this.RotativoModel.Grupo = data.modelo.Grupo;\r\n\r\n        } else {\r\n          this.RotativoModel.Grupo.Id_Grupo = 0;\r\n          this.RotativoModel.Grupo.Nombre_Grupo = '';\r\n          this.RotativoModel.Grupo.Fecha_Vencimiento = '';\r\n          this.RotativoModel.Grupo.Presentacion = '';\r\n        }\r\n\r\n\r\n\r\n        if (!isNaN(parseInt(data.modelo.Id_Destino))) {\r\n          this.RotativoModel.Id_Destino = parseInt(data.modelo.Id_Destino);\r\n        } else {\r\n          this.RotativoModel.Id_Destino = 0;\r\n        }\r\n\r\n        if (!isNaN(parseInt(data.modelo.Meses))) {\r\n          this.RotativoModel.Meses = data.modelo.Meses;\r\n        }\r\n\r\n        this.EliminarLotesMasivos();\r\n\r\n        this.GuardarBorrador(false);\r\n        //this._limpiarModelos();\r\n      } else if (this._remisionModel.Tipo == 'Cliente') {\r\n        this.DinamycCols = 12\r\n        this.Display_Rotacion = false;\r\n        this.Display_Interna = false;\r\n        this.Display_Cliente = true;\r\n        this.ClearRotativoModel();\r\n        if (data.actualizar_productos) {\r\n          this.EliminarLotesMasivos();\r\n        }\r\n        //this._limpiarModelos();\r\n      }\r\n\r\n      else if (this._remisionModel.Tipo == 'Contrato') {\r\n        this.DinamycCols = 12\r\n        this.Display_Rotacion = false;\r\n        this.Display_Interna = false;\r\n        this.Display_Cliente = true;\r\n        this.ClearRotativoModel();\r\n        if (data.actualizar_productos) {\r\n          this.EliminarLotesMasivos();\r\n        }\r\n        //this._limpiarModelos();\r\n      }\r\n\r\n      if (this._remisionModel.Id_Destino != 0 && this._remisionModel.Id_Origen != 0) {\r\n        if (data.actualizar_productos) {\r\n        }\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.Cargando = false;\r\n        this.CalcularSubtotalProductosLista();\r\n      }, 200);\r\n    });\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n\r\n  }\r\n\r\n  //PRIVATE METHODS\r\n  private _limpiarModelos(tipo: boolean = true) {\r\n    this.Lista_Productos = [];\r\n    this._listaAgregados = [];\r\n    //this._remisionModel = null;\r\n    if (tipo) {\r\n\r\n      setTimeout(() => {\r\n        this.GuardarBorrador();\r\n      }, 100);\r\n    }\r\n\r\n  }\r\n\r\n  private GetImpuestos() {\r\n    this.http.get(environment.ruta + 'php/lista_generales.php', { params: { modulo: 'Impuesto' } }).subscribe((data: any) => {\r\n      this.Impuestos = data;\r\n    });\r\n  }\r\n\r\n  private AgregarProductosExistentes(idProducto: number) {\r\n    this._listaAgregados.push(idProducto);\r\n  }\r\n\r\n  private _getEntidadesSalud() {\r\n\r\n    this.http.get(environment.ruta + 'php/GENERALES/eps/get_entidades_salud_select.php').subscribe((data: any) => {\r\n      //this.Entidades_Salud.push({value:'', label:'Todas'});\r\n      if (data.codigo == 'success') {\r\n        // if (data.query_result.length > 0) {\r\n        //   data.query_result.forEach(eps => {\r\n        //     this.Entidades_Salud.push(eps);\r\n        //   });\r\n        // }\r\n        this.Entidades_Salud = data.query_result;\r\n        this.Entidades_Salud.unshift({ value: '', label: 'Todas' });\r\n      } else {\r\n        this.Entidades_Salud = [];\r\n      }\r\n    });\r\n  }\r\n\r\n  private ValidarModelo() {\r\n    if (this._remisionModel.Id_Origen == 0) {\r\n      WarningMessage('error', 'Falta Origen', 'Debe seleccionar el origen de la remision!');\r\n      return false;\r\n    } else if (this._remisionModel.Id_Destino == 0) {\r\n      if (this._remisionModel.Tipo == 'Cliente') {\r\n        WarningMessage('error', 'Falta Destino', 'Debe seleccionar el destino de la remision!');\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private Listar_Pendientes() {\r\n    if (this._remisionModel.Modelo == 'Bodega-Punto') {\r\n      if (this._remisionModel.Id_Destino != 0 && this._remisionModel.Id_Origen != 0 && this._remisionModel.Grupo.Id_Grupo != 0) {\r\n        let params = this.AsignarParametros();\r\n\r\n        this.http.get(environment.ruta + 'php/remision_nuevo/get_pendientes.php', { params: params }).subscribe((data: any) => {\r\n          if (data.length > 0) {\r\n            this.AbrirModalAgregarProductos(data);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private AsignarParametros() {\r\n    let params: any = {};\r\n    params.id_destino = this._remisionModel.Id_Destino;\r\n    params.id_grupo = this._remisionModel.Grupo.Id_Grupo;\r\n    params.id_origen = this._remisionModel.Id_Origen;\r\n    params.mes = this._remisionModel.Meses;\r\n\r\n    return params;\r\n  }\r\n\r\n  private GuardarLotesSeleccionados(lote: any): void {\r\n    let data = new FormData();\r\n    data.append(\"datos\", JSON.stringify(lote));\r\n    this.http.post(environment.ruta + 'php/remision_nuevo/seleccionar_lotes_inventario.php', data).subscribe((data: any) => {\r\n    });\r\n  }\r\n\r\n  private GuardarBorrador(guardar: boolean = true) {\r\n    let data = new FormData();\r\n    this.setDescripcion();\r\n    let model = this._remisionModel;\r\n    let lista_productos = this.Lista_Productos;\r\n\r\n    if (guardar) {\r\n\r\n      let modelo_productos: any = { Modelo: model, Productos: lista_productos };\r\n      data.append(\"datos\", functionsUtils.normalize(JSON.stringify(modelo_productos)));\r\n      data.append(\"codigo\", this.Codigo_Borrador);\r\n      data.append(\"funcionario\", String(environment.id_funcionario));\r\n      data.append(\"destino\", this._remisionModel.Nombre_Destino);\r\n\r\n      return this.http.post(environment.ruta + 'php/remision_nuevo/guardar_borrador.php', data).subscribe((data: any) => {\r\n        if (data.codigo == 'success') {\r\n          this.Mensaje++;\r\n          if (this.Mensaje % 10 == 0) {\r\n            this._swalService.show({ icon: data.codigo, title: data.titulo, text: data.mensaje });\r\n          }\r\n        } else {\r\n          this._swalService.show({ icon: 'error', title: 'Error', text: 'El borrador no se ha podido guardar, por favor comuniquese con el encargado del sistema!' });\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  private setDescripcion() {\r\n    //elimina todos las comillas  para no dañar json\r\n    this._remisionModel.Observaciones = this._remisionModel.Observaciones.replace(/['\"]+/g, '');\r\n\r\n    // preserve newlines, etc - use valid JSON\r\n    this._remisionModel.Observaciones = this._remisionModel.Observaciones.replace(/\\\\n/g, \"\\\\n\")\r\n      .replace(/\\\\'/g, \"\\\\'\")\r\n      .replace(/\\\\\"/g, '\\\\\"')\r\n      .replace(/\\\\&/g, \"\\\\&\")\r\n      .replace(/\\\\r/g, \"\\\\r\")\r\n      .replace(/\\\\t/g, \"\\\\t\")\r\n      .replace(/\\\\b/g, \"\\\\b\")\r\n      .replace(/\\\\f/g, \"\\\\f\");\r\n    // remove non-printable and other non-valid JSON chars\r\n    this._remisionModel.Observaciones = this._remisionModel.Observaciones.replace(/[\\u0000-\\u0019]+/g, \"\");\r\n\r\n\r\n  }\r\n\r\n  private SetFiltrosRotativo() {\r\n    let params: any = {};\r\n\r\n    if (this.RotativoModel.Id_Destino != 0) {\r\n      params.id_destino = this.RotativoModel.Id_Destino;\r\n    }\r\n\r\n    if (this.RotativoModel.Grupo.Id_Grupo != 0) {\r\n      params.grupo = JSON.stringify(this.RotativoModel.Grupo);\r\n    }\r\n\r\n    if (this.RotativoModel.Id_Origen != 0) {\r\n      params.id_origen = this.RotativoModel.Id_Origen;\r\n    }\r\n\r\n    if (this.RotativoModel.Fecha_Inicio != 0) {\r\n      params.fini = this.RotativoModel.Fecha_Inicio;\r\n    }\r\n\r\n    if (this.RotativoModel.Fecha_Fin != 0) {\r\n      params.ffin = this.RotativoModel.Fecha_Fin;\r\n    }\r\n\r\n    if (this.RotativoModel.Id_Eps != '') {\r\n      params.eps = this.RotativoModel.Id_Eps;\r\n    }\r\n\r\n    if (this.RotativoModel.Meses != '') {\r\n      params.mes = this.RotativoModel.Meses;\r\n    }\r\n\r\n\r\n    return params;\r\n  }\r\n\r\n  private ValidateConsultaRotativo(): boolean {\r\n    if (this.RotativoModel.Fecha_Inicio == '') {\r\n      WarningMessage('warning', 'Alerta', 'Escoja la fecha de inicio!');\r\n      return false;\r\n    } else if (this.RotativoModel.Fecha_Fin == '') {\r\n      WarningMessage('warning', 'Alerta', 'Escoja la fecha de fin!');\r\n      return false;\r\n    } else if (this.RotativoModel.Id_Origen == 0) {\r\n      WarningMessage('warning', 'Alerta', 'Escoja el origen!');\r\n      return false;\r\n    } else if (this.RotativoModel.Id_Destino == '') {\r\n      WarningMessage('warning', 'Alerta', 'Escoja el destino!');\r\n      return false;\r\n    } else if (this.RotativoModel.Grupo.Id_Grupo == 0) {\r\n\r\n      WarningMessage('warning', 'Alerta', 'Escoja el grupo de origen!');\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private ClearRotativoModel() {\r\n    this.RotativoModel = {\r\n      Fecha_Inicio: this.Fecha,\r\n      Fecha_Fin: this.fecha_mes_anterior,\r\n      Id_Eps: '',\r\n      Id_Origen: 0,\r\n      Id_Destino: 0\r\n    };\r\n  }\r\n\r\n  private SetearProducto(productos: any[]) {\r\n\r\n    let productos_formateados: Array<ProductoCargarRemision> = [];\r\n\r\n    productos.forEach(p => {\r\n      let product = new ProductoCargarRemision();\r\n      this._listaAgregados.push(p.Id_Producto);\r\n\r\n      for (var key in p) {\r\n\r\n        if (key != 'Codigo_Cum' && key != 'Seleccionado' && key != 'Cantidad_Requerida') {\r\n          // if (key == 'Lotes') {\r\n          //   product[key] = this.SetearLotes(producto[key]);\r\n          // }else{\r\n          if (key == 'Rotativo') {\r\n            product[key] = p[key];\r\n          } else if (!isNaN(parseInt(p[key]))) {\r\n            product[key] = parseInt(p[key]);\r\n          } else {\r\n            product[key] = p[key];\r\n          }\r\n          //}\r\n\r\n        } else {\r\n          // TODO product key error\r\n          // product[key] = p[key];\r\n        }\r\n      }\r\n\r\n      productos_formateados.push(product);\r\n    });\r\n\r\n\r\n    return productos_formateados;\r\n\r\n  }\r\n\r\n  private SetearProductoIndividual(producto: any) {\r\n\r\n    let product = new ProductoCargarRemision();\r\n\r\n    for (var key in producto) {\r\n\r\n      if (key != 'Codigo_Cum' && key != 'Seleccionado' && key != 'Cantidad_Requerida') {\r\n        // if (key == 'Lotes') {\r\n        //   product[key] = this.SetearLotes(producto[key]);\r\n        // }else{\r\n        if (!isNaN(parseInt(producto[key]))) {\r\n          product[key] = parseInt(producto[key]);\r\n        } else {\r\n          product[key] = producto[key];\r\n        }\r\n        //}\r\n\r\n\r\n      } else {\r\n        // TODO product key error\r\n        // product[key] = producto[key];\r\n      }\r\n    }\r\n\r\n    return product;\r\n  }\r\n\r\n  private EliminarLotesMasivos() {\r\n    if (this.Lista_Productos.length > 0) {\r\n      let data = new FormData();\r\n      data.append(\"datos\", functionsUtils.normalize(JSON.stringify(this.Lista_Productos)));\r\n      this.http.post(environment.ruta + 'php/remision/get_productos_inventario.php', data).subscribe((data: any) => {\r\n        if (data.codigo == 'success') {\r\n          this._limpiarModelos();\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  //PUBLIC METHODS\r\n  public AgregarProducto(producto: ProductoCargarRemision) {\r\n    if (producto != null) {\r\n      this.Lista_Productos.push(producto);\r\n      this.AgregarProductosExistentes(producto.Id_Producto);\r\n    } else {\r\n      WarningMessage('warning', 'Alerta', 'Ocurrió un error con el producto, contacte con el administrador!');\r\n\r\n    }\r\n  }\r\n\r\n  public GenerarRotativo(tipo: string) {\r\n\r\n  }\r\n\r\n  public AbrirModalAgregarProductos(pendientes: Array<any> = []) {\r\n    if (!this.ValidarModelo()) {\r\n      return;\r\n    } else {\r\n      let data = { agregados: this._listaAgregados, inventarios: [], pendientes: pendientes, remision_model: this._remisionModel, tipo: 'Remision' };\r\n      this.AbrirModalProductos.next(data);\r\n    }\r\n  }\r\n\r\n  public VerificarPrecioRegulacion(posProducto: string): void {\r\n    let regulado = this.Lista_Productos[posProducto].Regulado;\r\n    let precio = this.Lista_Productos[posProducto].Precio;\r\n    let costo = this.Lista_Productos[posProducto].Costo;\r\n    let precio_regulado = this.Lista_Productos[posProducto].Precio_Regulado;\r\n\r\n    if (regulado == 'Si' && precio > precio_regulado) {\r\n      this.Lista_Productos[posProducto].Precio = this.Lista_Productos[posProducto].Precio_Regulado;\r\n    }\r\n\r\n    if (precio < costo) {\r\n      WarningMessage('warning', 'Alerta', 'El precio no puede ser inferior al costo del producto!');\r\n      this.Lista_Productos[posProducto].Precio = this.Lista_Productos[posProducto].Costo;\r\n    }\r\n\r\n    this.CalcularSubtotalProducto(posProducto);\r\n  }\r\n\r\n  public CalcularSubtotalProducto(posProducto: string) {\r\n    let cantidad = this.Lista_Productos[posProducto].Cantidad == null ? 0 : this.Lista_Productos[posProducto].Cantidad;\r\n    let precio = this.Lista_Productos[posProducto].Precio;\r\n    let descuento = this.Lista_Productos[posProducto].Descuento;\r\n    let iva = this.Lista_Productos[posProducto].Impuesto;\r\n    let total_descuento = (cantidad * precio) * (descuento / 100);\r\n    let total_impuesto = (cantidad * precio) * (iva / 100);\r\n    let subtotal = (cantidad * precio);\r\n\r\n    this.Lista_Productos[posProducto].Subtotal = subtotal;\r\n    this.Lista_Productos[posProducto].Total_Descuento = total_descuento;\r\n    this.Lista_Productos[posProducto].Total_Impuesto = total_impuesto;\r\n\r\n\r\n    this.ActualizaValores();\r\n  }\r\n\r\n  public ActualizaValores() {\r\n    this._remisionModel.Subtotal_Remision = parseFloat(this.Lista_Productos.reduce(this.reducer_subtotal, 0));\r\n    this._remisionModel.Impuesto_Remision = parseFloat(this.Lista_Productos.reduce(this.reducer_imp, 0));\r\n    this._remisionModel.Descuento_Remision = parseFloat(this.Lista_Productos.reduce(this.reducer_desc, 0));\r\n    this._remisionModel.Costo_Remision = this._remisionModel.Subtotal_Remision - this._remisionModel.Descuento_Remision + this._remisionModel.Impuesto_Remision;\r\n\r\n    setTimeout(() => {\r\n      this.GuardarBorrador();\r\n    }, 100);\r\n\r\n  }\r\n\r\n  public EliminarProducto(posProducto: number): void {\r\n\r\n\r\n    //ELIMINAR LOTES SELECCIONADOS\r\n    this.EliminarLotesSeleccionados(this.Lista_Productos[posProducto].Lotes_Seleccionados);\r\n    this.EliminarSeleccionados(this.Lista_Productos[posProducto].Id_Producto);\r\n    this.Lista_Productos.splice(posProducto, 1);\r\n    setTimeout(() => {\r\n      this.CalcularSubtotalProductosLista();\r\n      this.ActualizarValoresEncabezado.emit(this.Lista_Productos);\r\n    }, 200);\r\n    this.GuardarBorrador();\r\n  }\r\n\r\n  private EliminarSeleccionados(idProducto: number) {\r\n    let ind = this._listaAgregados.findIndex(x => x == idProducto);\r\n\r\n    if (ind > -1) {\r\n      this._listaAgregados.splice(ind, 1);\r\n    }\r\n  }\r\n\r\n  public GetRotativo(tipo: string) {\r\n\r\n    this.EliminarLotesMasivos();\r\n    //id_destino, id_origen, ffini, ffin, eps\r\n    if (!this.ValidateConsultaRotativo()) {\r\n      return;\r\n    } else {\r\n      this.Cargando = true;\r\n      let params = this.SetFiltrosRotativo();\r\n      if (tipo == 'Pos') {\r\n\r\n\r\n        this.Display_Rotacion = true;\r\n        this.DinamycCols = 10;\r\n        this.http.post(environment.ruta + 'php/remision_nuevo/get_rotativo.php', { params: params }).subscribe((data: any) => {\r\n          if (data.length > 0) {\r\n            this.Lista_Productos = [];\r\n            this.Lista_Productos = this.SetearProducto(data);\r\n            this.DeshabilitarBoton = true;\r\n            this.Cargando = false;\r\n            setTimeout(() => {\r\n              this.ActualizarValoresEncabezado.emit(this.Lista_Productos);\r\n            }, 200);\r\n            this.GuardarBorrador();\r\n          } else {\r\n            this.Lista_Productos = [];\r\n            this.Cargando = false;\r\n          }\r\n        });\r\n      } else {\r\n        this.Display_Rotacion = false;\r\n        this.DinamycCols = 9;\r\n\r\n        this.http.post(environment.ruta + 'php/remision_nuevo/get_rotativo_no_pos.php', { params: params }).subscribe((data: any) => {\r\n          if (data.length > 0) {\r\n            this.Lista_Productos = [];\r\n            this.Lista_Productos = this.SetearProducto(data);\r\n            this.DeshabilitarBoton = true;\r\n            this.Cargando = false;\r\n            setTimeout(() => {\r\n              this.ActualizarValoresEncabezado.emit(this.Lista_Productos);\r\n            }, 200);\r\n\r\n\r\n            this.GuardarBorrador();\r\n\r\n          } else {\r\n\r\n            this.Lista_Productos = [];\r\n            this.Cargando = false;\r\n\r\n          }\r\n        });\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  public VerSimilares(posProducto: string) {\r\n    this.Lista_Productos[posProducto].Similares.forEach((similar, i) => {\r\n      if (similar.Seleccionado == '1') {\r\n        this.Lista_Productos[posProducto].Similares[i].Seleccionado = '0';\r\n      }\r\n    });\r\n\r\n    let producto = this.Lista_Productos[posProducto];\r\n    let params = {\r\n      producto: producto, pos: posProducto,\r\n      rotativo_model: this.RotativoModel,\r\n      grupo: this._remisionModel.Grupo,\r\n      mes: this._remisionModel.Meses\r\n    };\r\n    this.AbrirModalProductoCambiar.next(params);\r\n  }\r\n\r\n  public RealizarCambioProducto(datos: any) {\r\n\r\n    //posicion del producto si existe en la lista principal\r\n    let existe = this.VerificarExistenciaProducto(datos.producto.Id_Producto);\r\n\r\n\r\n    if (existe > -1) {\r\n\r\n      let size = this.Lista_Productos[existe]['Lotes_Seleccionados'].length;\r\n\r\n      /*   for (let existente = 0; existente < size ; existente++) {\r\n          console.log(this.Lista_Productos[existe]['Lotes_Seleccionados'],'existente');\r\n\r\n          let encontrado = false;\r\n          for (let nuevo = 0; nuevo < datos.producto['Lotes_Seleccionados'].length ; nuevo++) {\r\n          console.log( datos.producto['Lotes_Seleccionados'][nuevo],'nuevo');\r\n\r\n            if ( this.Lista_Productos[existe]['Lotes_Seleccionados']['Id_Inventario'] ==\r\n                  datos.producto['Lotes_Seleccionados'][nuevo]['Id_Inventario']) {\r\n\r\n                    this.Lista_Productos[existe]['Lotes_Seleccionados'][existente]['Cantidad_Seleccionada']  +=\r\n                    parseInt(datos.producto['Lotes_Seleccionados'][nuevo]['Cantidad_Seleccionada']);\r\n                    encontrado = true;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (!encontrado) {\r\n              this.Lista_Productos[existe]['Lotes_Seleccionados'].push(datos.producto['Lotes_Seleccionados']);\r\n            }\r\n          }\r\n   */\r\n      for (let nuevo = 0; nuevo < datos.producto['Lotes_Seleccionados'].length; nuevo++) {\r\n\r\n\r\n        let encontrado = false;\r\n        for (let existente = 0; existente < size; existente++) {\r\n\r\n          if (this.Lista_Productos[existe]['Lotes_Seleccionados'][existente]['Id_Inventario_Nuevo'] ==\r\n            datos.producto['Lotes_Seleccionados'][nuevo]['Id_Inventario_Nuevo']) {\r\n\r\n            this.Lista_Productos[existe]['Lotes_Seleccionados'][existente]['Cantidad_Seleccionada'] +=\r\n              parseInt(datos.producto['Lotes_Seleccionados'][nuevo]['Cantidad_Seleccionada']);\r\n\r\n            this.Lista_Productos[existe]['Cantidad'] +=\r\n              parseInt(datos.producto['Cantidad']);\r\n            encontrado = true;\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (!encontrado) {\r\n          this.Lista_Productos[existe]['Lotes_Seleccionados'].push(datos.producto['Lotes_Seleccionados'][nuevo]);\r\n        }\r\n      }\r\n\r\n      console.log(datos.producto['Lotes_Visuales'], 'lv n');\r\n      console.log(this.Lista_Productos[existe]['Lotes_Seleccionados'], 'lv viejo');\r\n\r\n      this.Lista_Productos[existe]['Lotes_Visuales'] = [];\r\n      for (let lote = 0; lote < this.Lista_Productos[existe]['Lotes_Seleccionados'].length; lote++) {\r\n        let loteVisual = 'Lote :' + this.Lista_Productos[existe]['Lotes_Seleccionados'][lote]['Lote'] +\r\n          ' - Vencimiento:  ' + this.Lista_Productos[existe]['Lotes_Seleccionados'][lote]['Fecha_Vencimiento'] +\r\n          ' - Cantidad: ' + this.Lista_Productos[existe]['Lotes_Seleccionados'][lote]['Cantidad'];\r\n\r\n        this.Lista_Productos[existe]['Lotes_Visuales'][lote] = loteVisual;\r\n\r\n      }\r\n\r\n\r\n      this.Lista_Productos[existe].Cantidad_Requerida = this.Lista_Productos[existe].Cantidad_Requerida + parseInt(datos.producto.Cantidad_Requerida);\r\n      console.log(this.Lista_Productos[existe]);\r\n\r\n\r\n      /*       this.Lista_Productos[existe].Cantidad = this.Lista_Productos[existe].Cantidad_Requerida + parseInt(datos.producto.Cantidad_Requerida);\r\n      this.SeleccionarLotes(existe.toString());   */\r\n      this.Lista_Productos.splice(datos.pos, 1);\r\n    } else {\r\n\r\n      this.Lista_Productos[datos.pos] = this.SetearProductoIndividual(datos.producto);\r\n      /*    this.SeleccionarLotes(datos.pos);    */\r\n      this._idsCambios.push(datos.id_cambio);\r\n    }\r\n  }\r\n\r\n  private VerificarExistenciaProducto(idProducto: number) {\r\n    let exist = this.Lista_Productos.findIndex(x => x.Id_Producto == idProducto);\r\n    return exist;\r\n  }\r\n\r\n  public RecuperarBorrador() {\r\n    this.http.get(environment.ruta + 'php/remision_nuevo/get_borrador.php', { params: { codigo: this.Codigo_Borrador } }).subscribe((data: any) => {\r\n      let txtBorrador = data.Texto;\r\n      // preserve newlines, etc - use valid JSON\r\n      txtBorrador = txtBorrador.replace(/\\\\n/g, \"\\\\n\")\r\n        .replace(/\\\\'/g, \"\\\\'\")\r\n        .replace(/\\\\\"/g, '\\\\\"')\r\n        .replace(/\\\\&/g, \"\\\\&\")\r\n        .replace(/\\\\r/g, \"\\\\r\")\r\n        .replace(/\\\\t/g, \"\\\\t\")\r\n        .replace(/\\\\b/g, \"\\\\b\")\r\n        .replace(/\\\\f/g, \"\\\\f\");\r\n      // remove non-printable and other non-valid JSON chars\r\n      txtBorrador = txtBorrador.replace(/[\\u0000-\\u0019]+/g, \"\");\r\n\r\n\r\n      let modelo = this.validarJson(txtBorrador);\r\n      if (modelo) {\r\n\r\n\r\n        console.log(modelo);\r\n\r\n\r\n        this.Tipo_Remision = modelo.Modelo.Tipo;\r\n        this._remisionModel = modelo.Modelo;\r\n        /*  this._remisionModel.setGrupo(x); */\r\n\r\n        this.RotativoModel.Id_Origen = modelo.Modelo.Id_Origen;\r\n        this.RotativoModel.Id_Destino = modelo.Modelo.Id_Destino;\r\n\r\n\r\n        if (this._remisionModel.Tipo == 'Interna') {\r\n          this.Display_Interna = true;\r\n          this.Display_Cliente = false;\r\n          if (this._remisionModel.Modelo == 'Bodega-Punto') {\r\n            this.Display_Rotacion = true;\r\n          } else {\r\n            this.Display_Rotacion = false;\r\n          }\r\n        } else {\r\n          this.Display_Interna = false;\r\n          this.Display_Cliente = true;\r\n        }\r\n\r\n        this.Lista_Productos = [];\r\n        this.Lista_Productos = this.SetearProducto(modelo.Productos);\r\n        setTimeout(() => {\r\n          this.CalcularSubtotalProductosLista();\r\n        }, 500);\r\n        //this.Lista_Productos=modelo.Productos;\r\n        this.CargarBorrador.emit(this._remisionModel);\r\n\r\n      } else {\r\n\r\n        this.errorBorrador.show();\r\n      }\r\n\r\n\r\n    });\r\n  }\r\n\r\n  public AsignarEps() {\r\n\r\n  }\r\n  public validarJson(str: string) {\r\n    let conversion: any = {};\r\n    try {\r\n      conversion = JSON.parse(str);\r\n    } catch (error) {\r\n      console.error('Ah ocurrido un error con el JSON', error);\r\n      return false\r\n    }\r\n    return conversion;\r\n  }\r\n\r\n  private GuardarRemision() {\r\n    if (!this.ValidateRemision()) {\r\n      return;\r\n    } else {\r\n\r\n      let data = new FormData();\r\n      data.append(\"datos\", functionsUtils.normalize(JSON.stringify(this._remisionModel)));\r\n      data.append(\"grupo\", functionsUtils.normalize(JSON.stringify(this._remisionModel.Grupo)));\r\n      data.append(\"productos\", functionsUtils.normalize(JSON.stringify(this.Lista_Productos)));\r\n      data.append(\"codigo\", this.Codigo_Borrador);\r\n      data.append(\"rotativo\", functionsUtils.normalize(JSON.stringify(this.RotativoModel)));\r\n\r\n      if (this._remisionModel.Modelo == 'Bodega-Bodega' && this._remisionModel.Id_Origen == 8) {\r\n        this.http.post(environment.ruta + 'php/remision_nuevo/save_remision_devolucion.php', data).subscribe((data: any) => {\r\n          if (data.codigo == 'success') {\r\n            this._limpiarModelos(false);\r\n            this.confirmacionSalir.title = 'Remisión Guardada';\r\n            this.confirmacionSalir.html = data.mensaje;\r\n            this.confirmacionSalir.type = 'success';\r\n            this.confirmacionSalir.fire();\r\n            console.log('b-b');\r\n          } else {\r\n            console.log('else');\r\n            WarningMessage(data);\r\n            this.confirmacionGuardar.close;\r\n          }\r\n        });\r\n      } else {\r\n        console.log('else-2');\r\n        this.http.post(environment.ruta + 'php/remision_nuevo/save_remision.php', data).subscribe((data: any) => {\r\n          if (data.codigo == 'success') {\r\n            this._limpiarModelos(false);\r\n            this.confirmacionSalir.title = 'Remisión Guardada';\r\n            this.confirmacionSalir.html = data.mensaje;\r\n            this.confirmacionSalir.type = 'success';\r\n            this.confirmacionSalir.fire();\r\n            this._router.navigate(['/inventario/remisiones'])\r\n\r\n          } else {\r\n            console.log('else-else-2');\r\n            WarningMessage(data);\r\n            this.confirmacionGuardar.close;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  private ValidateRemision() {\r\n    if (this._remisionModel.Id_Origen == 0) {\r\n      WarningMessage('warning', 'Alerta', 'Escoja el origen!');\r\n      return false;\r\n    } else if (this._remisionModel.Id_Destino == 0) {\r\n      WarningMessage('warning', 'Alerta', 'Escoja el destino!');\r\n      return false;\r\n    } else if (this._remisionModel.Observaciones.trim() == '') {\r\n      WarningMessage('warning', 'Alerta', 'Escriba unas observaciones sobre la remision!');\r\n      return false;\r\n    } else if (!this.ValidateProductosRemision()) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private ValidateProductosRemision() {\r\n    for (let index = 0; index < this.Lista_Productos.length; index++) {\r\n      if (this._remisionModel.Tipo == 'Interna') {\r\n        if (this.Display_Rotacion) {\r\n          if ((this.Lista_Productos[index].Cantidad == 0 || this.Lista_Productos[index].Cantidad == undefined) && this.Lista_Productos[index].Similares.length > 0) {\r\n            WarningMessage('warning', 'Alerta', 'Cambie el producto ' + this.Lista_Productos[index].Nombre_Comercial + ' por uno de sus asociados o elimine el producto de la lista!');\r\n            return false;\r\n          } else if (this.Lista_Productos[index].Cantidad_Requerida == 0 || this.Lista_Productos[index].Cantidad_Requerida == undefined) {\r\n            WarningMessage('warning', 'Alerta', 'La cantidad del producto ' + this.Lista_Productos[index].Nombre_Comercial + ' no puede ser cero(0)!');\r\n            return false;\r\n          }\r\n        } else if (this.Lista_Productos[index].Cantidad_Requerida == 0 || this.Lista_Productos[index].Cantidad_Requerida == undefined) {\r\n          WarningMessage('warning', 'Alerta', 'La cantidad del producto ' + this.Lista_Productos[index].Nombre_Comercial + ' no puede ser cero(0)!');\r\n          return false;\r\n        }\r\n      } else {\r\n        if (this.Lista_Productos[index].Cantidad == 0 || this.Lista_Productos[index].Cantidad == undefined) {\r\n          WarningMessage('warning', 'Alerta', 'La cantidad del producto ' + this.Lista_Productos[index].Nombre_Comercial + ' no puede ser cero(0)!');\r\n          return false;\r\n        }\r\n      }\r\n\r\n      if (index == (this.Lista_Productos.length - 1)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  private CalcularSubtotalProductosLista() {\r\n\r\n    if (this.Lista_Productos.length > 0) {\r\n      this.Lista_Productos.forEach((p, i) => {\r\n        this.CalcularSubtotalProducto(i.toString());\r\n      });\r\n    } else {\r\n      this._remisionModel.Subtotal_Remision = 0;\r\n      this._remisionModel.Impuesto_Remision = 0;\r\n      this._remisionModel.Descuento_Remision = 0;\r\n      this._remisionModel.Costo_Remision = 0;\r\n    }\r\n  }\r\n\r\n  VerPantallaLista() {\r\n    this._router.navigate(['/remisionesnuevo']);\r\n  }\r\n\r\n  public RecibirProductos(listaProductos: Array<any>) {\r\n\r\n    listaProductos.forEach((p: ProductoCargarRemision, i) => {\r\n\r\n      p.Precio = (+p.Precio).toFixed(2);\r\n\r\n      if (p.Cantidad_Pendiente != 0) {\r\n        p.Cantidad_Requerida = p.Cantidad_Pendiente;\r\n      }\r\n      this.Lista_Productos.push(p);\r\n      this._listaAgregados.push(p.Id_Producto);\r\n\r\n      this.SeleccionarLotes((this.Lista_Productos.length - 1).toString());\r\n\r\n    });\r\n\r\n    setTimeout(() => {\r\n      this.Cargando = false;\r\n      this.ActualizarValoresEncabezado.emit(this.Lista_Productos);\r\n    }, 300);\r\n  }\r\n\r\n  //METODOS LOTES\r\n  public SeleccionarLotes(posProducto: string) {\r\n\r\n    if ((this.Lista_Productos[posProducto].Cantidad_Requerida > 0\r\n      && this._remisionModel.Tipo == 'Interna')\r\n      || (this.Lista_Productos[posProducto].Cantidad > 0\r\n        && this._remisionModel.Tipo == 'Cliente')\r\n      || (this.Lista_Productos[posProducto].Cantidad > 0\r\n        && this._remisionModel.Tipo == 'Contrato')) {\r\n      let cantidad = 0;\r\n      let multiplo = 0;\r\n      this.Lista_Productos[posProducto].Lotes_Visuales = [];\r\n\r\n      if (this._remisionModel.Tipo == 'Interna') {\r\n        cantidad = this.Lista_Productos[posProducto].Cantidad_Requerida;\r\n        this.Lista_Productos[posProducto].Cantidad = 0;\r\n\r\n      } else {\r\n        cantidad = this.Lista_Productos[posProducto].Cantidad;\r\n      }\r\n      if (this._remisionModel.Grupo.Presentacion == 'Si' &&\r\n        this._remisionModel.Modelo !== 'Punto-Punto' &&\r\n        this._remisionModel.Modelo !== 'Punto-Bodega') {\r\n\r\n        multiplo = cantidad % this.Lista_Productos[posProducto].Cantidad_Presentacion;\r\n        var cantidad_presentacion = true;\r\n\r\n      } else {\r\n        var cantidad_presentacion = false;\r\n      }\r\n\r\n      this.Lista_Productos[posProducto].Cantidad = 0;\r\n      this.Lista_Productos[posProducto].Lotes_Seleccionados = [];\r\n\r\n      if (multiplo == 0 && cantidad > 0) {\r\n\r\n        let flag = true;\r\n        for (let i = 0; i < this.Lista_Productos[posProducto].Lotes.length; i++) {\r\n          let cant_disp = this.Lista_Productos[posProducto].Lotes[i].Cantidad_Disponible;\r\n\r\n          if (flag && cantidad <= parseInt(this.Lista_Productos[posProducto].Lotes[i].Cantidad)) {\r\n\r\n            //SE CREA UNA VARIABLE PARA LLENAR y ALMACENAR LOS DATOS DE LOS LOTES QUE SE VAYAN SELECCIONANDO DE ACUERDO A LA CANTIDAD DIGITADA\r\n            let lote_temp: any = JSON.parse(JSON.stringify(this.Lista_Productos[posProducto].Lotes[i]));\r\n            lote_temp.Cantidad = cantidad;\r\n            this.GuardarLotesSeleccionados(lote_temp);\r\n\r\n            this.Lista_Productos[posProducto].Lotes[i].Cantidad_Seleccionada = cantidad;\r\n            lote_temp.Cantidad_Seleccionada = cantidad;\r\n            var labelLote = \"Lote: \" + this.Lista_Productos[posProducto].Lotes[i].Lote + \" - Vencimiento: \" + this.Lista_Productos[posProducto].Lotes[i].Fecha_Vencimiento + \" - Cantidad: \" + cantidad;\r\n            // console.log(labelLote, 'labelLote');\r\n\r\n            this.Lista_Productos[posProducto].Lotes_Visuales.push(labelLote);\r\n            this.Lista_Productos[posProducto].Cantidad = this.Lista_Productos[posProducto].Cantidad + cantidad;\r\n            flag = false;\r\n\r\n            //SE INCLUYE EL LOTE SELECCIONADO EN LA LISTA DE LOTES SELECCIONADOS DEL PRODUCTO\r\n            this.Lista_Productos[posProducto].Lotes_Seleccionados.push(lote_temp);\r\n\r\n            //SELECCIONAR LOTE EN BD\r\n          } else if (flag && cantidad > this.Lista_Productos[posProducto].Lotes[i].Cantidad) {\r\n\r\n            //SE CREA UNA VARIABLE PARA LLENAR y ALMACENAR LOS DATOS DE LOS LOTES QUE SE VAYAN SELECCIONANDO DE ACUERDO A LA CANTIDAD DIGITADA\r\n            let lote_temp: any = JSON.parse(JSON.stringify(this.Lista_Productos[posProducto].Lotes[i]));\r\n\r\n            this.GuardarLotesSeleccionados(lote_temp);\r\n\r\n            lote_temp.Cantidad_Seleccionada = this.Lista_Productos[posProducto].Lotes[i].Cantidad;\r\n\r\n            //SE INCLUYE EL LOTE SELECCIONADO EN LA LISTA DE LOTES SELECCIOANDOS DEL PRODUCTO\r\n            this.Lista_Productos[posProducto].Lotes_Seleccionados.push(lote_temp);\r\n            this.Lista_Productos[posProducto].Lotes[i].Cantidad_Seleccionada = this.Lista_Productos[posProducto].Lotes[i].Cantidad;\r\n\r\n            // cantidad = cantidad - this.Lista_Productos[posProducto].Lotes[i].Cantidad;\r\n\r\n            var labelLote = \"Lote: \" + this.Lista_Productos[posProducto].Lotes[i].Lote + \" - Vencimiento: \" + this.Lista_Productos[posProducto].Lotes[i].Fecha_Vencimiento + \" - Cantidad: \" + this.Lista_Productos[posProducto].Lotes[i].Cantidad;\r\n\r\n            this.Lista_Productos[posProducto].Cantidad = parseInt(this.Lista_Productos[posProducto].Lotes[i].Cantidad) + this.Lista_Productos[posProducto].Cantidad;\r\n            cantidad = cantidad - parseInt(this.Lista_Productos[posProducto].Lotes[i].Cantidad);\r\n\r\n            if (cantidad_presentacion) {\r\n\r\n              var modulo = cantidad % this.Lista_Productos[posProducto].Cantidad_Presentacion;\r\n              if (modulo != 0) {\r\n                this.Lista_Productos[posProducto].Cantidad_Requerida = this.Lista_Productos[posProducto].Cantidad_Requerida + (this.Lista_Productos[posProducto].Cantidad_Presentacion - modulo);\r\n                cantidad = cantidad + (this.Lista_Productos[posProducto].Cantidad_Presentacion - modulo);\r\n              }\r\n            }\r\n            this.Lista_Productos[posProducto].Lotes_Visuales.push(labelLote);\r\n            //flag = false;\r\n            //SELECCIONAR LOTE EN BD\r\n          }\r\n        }\r\n      } else {\r\n        WarningMessage('error', 'Error en cantidad', 'No se pueden entregar cantidades que no correspondan con la presentacion del producto!');\r\n        this.Lista_Productos[posProducto].Cantidad = 0;\r\n        this.Lista_Productos[posProducto].Cantidad_Requerida = 0;\r\n      }\r\n\r\n      setTimeout(() => {\r\n        this.Lista_Productos[posProducto].Cantidad_Pendiente = this.Lista_Productos[posProducto].Cantidad_Requerida - this.Lista_Productos[posProducto].Cantidad;\r\n        this.GuardarBorrador();\r\n      }, 100);\r\n\r\n    } else {\r\n\r\n      if (this.Lista_Productos[posProducto].Lotes_Seleccionados.length > 0) {\r\n        this.EliminarLotesSeleccionados(this.Lista_Productos[posProducto].Lotes_Seleccionados, true, posProducto);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  public ComprobarCantidades(posProducto: string) {\r\n    let idProducto = this.Lista_Productos[posProducto].Id_Producto;\r\n    let p: any = {\r\n      id_origen: this._remisionModel.Id_Origen,\r\n      id_producto: idProducto,\r\n      tipo_origen: this._remisionModel.Tipo_Origen,\r\n      id_destino: this._remisionModel.Id_Destino,\r\n      meses: this._remisionModel.Meses,\r\n      tipo_destino: this._remisionModel.Tipo_Destino\r\n    };\r\n\r\n    if (this._remisionModel.Tipo_Origen == 'Bodega') {\r\n      p.grupo = JSON.stringify(this._remisionModel.Grupo);\r\n    }\r\n    // console.log(\"eliminar lotes\");\r\n    // console.log(this._remisionModel);\r\n\r\n    this.EliminarLotesSeleccionados(this.Lista_Productos[posProducto].Lotes_Seleccionados, true, posProducto);\r\n\r\n    setTimeout(() => {\r\n\r\n      this.http.get(environment.ruta + 'php/remision_nuevo/comprobar_cantidades.php', { params: p }).subscribe((data: any) => {\r\n        if (data.length > 0) {\r\n          this.Lista_Productos[posProducto].Cantidad_Disponible = parseInt(data[0].Cantidad_Disponible);\r\n          this.Lista_Productos[posProducto].Lotes = data[0].Lotes;\r\n          // console.log(this.Lista_Productos[posProducto].Cantidad_Disponible, 'comprobar lotes');\r\n          this.SeleccionarLotes(posProducto);\r\n        } else {\r\n          this.Lista_Productos[posProducto].Cantidad_Disponible = 0;\r\n          this.Lista_Productos[posProducto].Lotes = [];\r\n          WarningMessage('warning', 'Alerta', 'El producto ya no tiene cantidad disponible!');\r\n        }\r\n      });\r\n    }, 300);\r\n  }\r\n\r\n  private EliminarLotesSeleccionados(lote: any, vaciarLotes: boolean = false, posProducto: string = ''): void {\r\n    let data = new FormData();\r\n    data.append(\"datos\", JSON.stringify(lote));\r\n\r\n    this.http.post(environment.ruta + 'php/remision_nuevo/eliminar_lote_seleccionado.php', data).subscribe((data: any) => {\r\n      if (data.codigo == 'success') {\r\n        // let toastObj = { textos: [data.titulo, data.mensaje], tipo: data.codigo, duracion: 4000 };\r\n        this._swalService.ShowMessage({ icon: data.codigo, title: data.titulo, text: data.mensaje });\r\n        // this._toastService.ShowToast(toastObj);\r\n\r\n        if (vaciarLotes && posProducto.toString() != '') {\r\n          this.Lista_Productos[posProducto].Lotes_Visuales = [];\r\n          this.Lista_Productos[posProducto].Lotes_Seleccionados = [];\r\n          // this.Lista_Productos[posProducto].Cantidad = null;\r\n        }\r\n      } else {\r\n        WarningMessage(data);\r\n      }\r\n    });\r\n  }\r\n\r\n  ConsultaProductoCodigoBarras() {\r\n\r\n    console.log('consulta productos');\r\n\r\n    if (this.Codigo_Barras != '') {\r\n\r\n      let params = this.setFiltrosCodBarra();\r\n\r\n      if (!params) { return false; }\r\n\r\n      this.ProductosAgregar = [];\r\n\r\n      this.Cargando = true;\r\n\r\n      this.http.get(environment.ruta + 'php/remision_nuevo/get_productos_inventario.php', { params }).subscribe((data: Array<ProductoCargarRemision>) => {\r\n        this.ListaProductos = data;\r\n        if (this.ListaProductos.length > 0) {\r\n          if (!this.validarAgregados(this.ListaProductos[0].Id_Producto)) {\r\n            return;\r\n          } else {\r\n            let prd = {};\r\n            this.ListaProductos[0].Lotes_Visuales = new Array<string>();\r\n            prd = this.SetearProductoCodBarra(this.ListaProductos[0]);\r\n            if (!functionsUtils.IsObjEmpty(prd)) {\r\n              this.ProductosAgregar.push(prd);\r\n            }\r\n\r\n            setTimeout(() => {\r\n              this.RecibirProductos(this.ProductosAgregar);\r\n            }, 2000);\r\n          }\r\n        } else {\r\n          WarningMessage('warning', 'Alerta', 'No existe un producto con ese código de barras.');\r\n        }\r\n\r\n        this.Codigo_Barras = '';\r\n        this.Cargando = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  setFiltrosCodBarra() {\r\n    let params: any = {}\r\n\r\n    if (this._remisionModel.Id_Origen == 0 || this._remisionModel.Id_Origen == undefined) {\r\n      WarningMessage('error', 'Sin Origen Seleccionadoe', 'Debe seleccionar un origen para realizaar la busqueda!');\r\n      console.log(1);\r\n      return false;\r\n    } else if (this._remisionModel.Tipo_Origen == 'Bodega' && (!this._remisionModel.Grupo.Id_Grupo || this._remisionModel.Grupo.Id_Grupo == undefined)) {\r\n      console.log(this._remisionModel.Grupo);\r\n      console.log(this._remisionModel.Tipo_Origen);\r\n      WarningMessage('error', 'Sin Categoria Seleccionada', 'Debe seleccionar un origen de categoria para realizaar la busqueda!');\r\n      console.log(3);\r\n      return false;\r\n    }\r\n    else {\r\n      console.log(4);\r\n      params.modelo = this._remisionModel.Modelo;\r\n      params.tiporemision = this._remisionModel.Tipo;\r\n      params.id_origen = this._remisionModel.Id_Origen;\r\n      params.mes = this._remisionModel.Meses;\r\n      params.id_grupo = this._remisionModel.Grupo.Id_Grupo;\r\n\r\n      console.log(5);\r\n      if (this._remisionModel.Tipo == 'Cliente') {\r\n        params.id_destino = this._remisionModel.Id_Destino;\r\n        if (this._remisionModel.Id_Destino == 0 || this._remisionModel.Id_Destino == undefined) {\r\n          console.log(6);\r\n          WarningMessage('error', 'Sin Destino Seleccionado', 'Debe seleccionar un destino para realizaar la busqueda!');\r\n          return;\r\n        }\r\n      }\r\n\r\n      console.log(7);\r\n\r\n      params.cod_barra = this.Codigo_Barras;\r\n      console.log(params);\r\n\r\n      return params;\r\n    }\r\n\r\n  }\r\n\r\n  private validarAgregados(id_producto) {\r\n    let exist = this.Lista_Productos.filter(x => x == id_producto);\r\n\r\n    if (exist.length > 0) {\r\n      WarningMessage('warning', 'Alerta', 'Ya este producto ha sido agregado a la lista!');\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private SetearProductoCodBarra(producto: any) {\r\n    let product: any = new ProductoCargarRemision();\r\n\r\n    console.log(\"producto cod barra --> \", producto);\r\n\r\n\r\n    for (var key in producto) {\r\n\r\n\r\n      if (key != 'Codigo_Cum' && key != 'Seleccionado' && key != 'Cantidad_Requerida') {\r\n        if (key == 'Lotes') {\r\n          console.log(\"Lotesss --> \", producto[key]);\r\n\r\n          product[key] = this.SetearLotes(producto[key]);\r\n        } else if (key == 'Cantidad') {\r\n          if (producto[key] == '') {\r\n            product[key] = null;\r\n          } else {\r\n            product[key] = parseInt(producto[key]);\r\n          }\r\n        } else {\r\n          if (!isNaN(parseInt(producto[key]))) {\r\n            product[key] = parseInt(producto[key]);\r\n          } else {\r\n            product[key] = producto[key];\r\n          }\r\n        }\r\n\r\n      } else {\r\n        product[key] = producto[key];\r\n      }\r\n    }\r\n\r\n    console.log(\"Luego de setear los productos\", product);\r\n\r\n\r\n    return product;\r\n\r\n  }\r\n\r\n  private SetearLotes(lotes: Array<any>) {\r\n    let lotes_nuevos = new Array<any>();\r\n\r\n    lotes.forEach(lote => {\r\n      let lote_nuevo = {};\r\n\r\n      for (var key in lote) {\r\n        if (key != 'Fecha_Vencimiento' && key != 'Lote') {\r\n          lote_nuevo[key] = parseInt(lote[key]);\r\n        } else {\r\n          lote_nuevo[key] = lote[key];\r\n        }\r\n      }\r\n      lotes_nuevos.push(lote_nuevo);\r\n    });\r\n\r\n    return lotes_nuevos;\r\n  }\r\n\r\n}\r\n","<div class=\"card-body pt-0\">\r\n  <div\r\n    class=\"card bg-light\"\r\n    *ngIf=\"\r\n      _remisionModel.Tipo == 'Interna' &&\r\n      _remisionModel.Modelo == 'Bodega-Punto'\r\n    \"\r\n  >\r\n    <div class=\"card-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-6\">\r\n          <p>\r\n            <strong>NOTA:</strong> desea obtener el listado de productos\r\n            rotativos del punto de dispesacion, seleccione un rango de fechas y\r\n            haga click en el botón rotativo.\r\n          </p>\r\n          <p>\r\n            Cada {{ ItemsRemision }} items agregados a la remisión, se creará\r\n            una nueva remision. Ej: {{ ItemsRemision * 2 }} items generarán 2\r\n            remisiones diferentes al momento de guardar.\r\n          </p>\r\n        </div>\r\n        <div class=\"col-md-6\">\r\n          <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n            <mat-label>Fecha de inicio</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"date\"\r\n              [(ngModel)]=\"RotativoModel.Fecha_Inicio\"\r\n              name=\"Fecha_Inicio\"\r\n              id=\"fechainicio\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n            <mat-label>Fecha de fin</mat-label>\r\n            <input\r\n              matInput\r\n              type=\"date\"\r\n              [(ngModel)]=\"RotativoModel.Fecha_Fin\"\r\n              name=\"Fecaha_Fin\"\r\n              id=\"fechafin\"\r\n            />\r\n          </mat-form-field>\r\n          <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n            <mat-label>EPS</mat-label>\r\n            <mat-select\r\n              name=\"Eps\"\r\n              [(ngModel)]=\"RotativoModel.Id_Eps\"\r\n              id=\"eps\"\r\n              (selectionChange)=\"AsignarEps()\"\r\n              required\r\n            >\r\n              <mat-option\r\n                *ngFor=\"let item of Entidades_Salud\"\r\n                [value]=\"item.value\"\r\n                >{{ item.label }}</mat-option\r\n              >\r\n            </mat-select>\r\n          </mat-form-field>\r\n\r\n          <div class=\"col-md-12\">\r\n            <div class=\"text-left\">\r\n              <div ngbDropdown class=\"dropdown-primary\">\r\n                <button\r\n                  ngbDropdownToggle\r\n                  class=\"btn btn-info waves-effect waves-light\"\r\n                  type=\"button\"\r\n                  [disabled]=\"DeshabilitarBoton\"\r\n                >\r\n                  Rotativo <i class=\"fas fa-angle-down\"></i>\r\n                </button>\r\n                <div ngbDropdownMenu class=\"dropdown-menu-2\">\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect\"\r\n                    (click)=\"GetRotativo('Pos')\"\r\n                  >\r\n                    Rotativo</a\r\n                  >\r\n                  <a\r\n                    class=\"dropdown-item waves-light waves-effect\"\r\n                    (click)=\"GetRotativo('NoPos')\"\r\n                  >\r\n                    Solo pendientes\r\n                  </a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- <div class=\"row\">\r\n                <div class=\"col-md-12 text-center m-t-10\">\r\n                    <input type=\"text\" placeholder=\"Escanee Cód. Barras\" class=\"form-control input-barras\" name=\"Barras\"\r\n                        id=\"Barras\" pattern=\"[0-9]+\" (change)=\"ConsultaProductoCodigoBarras()\"\r\n                        [(ngModel)]=\"Codigo_Barras\" />\r\n                </div>\r\n            </div> -->\r\n\r\n  <table class=\"table table-striped\">\r\n    <thead>\r\n      <tr class=\"thead-default\">\r\n        <th></th>\r\n        <th>Producto</th>\r\n        <th>Emb. / Cat.</th>\r\n        <th>Presentación</th>\r\n        <th\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Rotacion,\r\n            'no-display': !Display_Rotacion\r\n          }\"\r\n        >\r\n          Rotacion/Stock\r\n        </th>\r\n        <th>Cantidad Disponible</th>\r\n        <th\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Interna,\r\n            'no-display': !Display_Interna\r\n          }\"\r\n        >\r\n          Cantidad Requerida\r\n        </th>\r\n        <th>Cantidad</th>\r\n        <th>Lote</th>\r\n        <th\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          Precio\r\n        </th>\r\n        <th\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          Descuento\r\n        </th>\r\n        <th\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          IVA\r\n        </th>\r\n        <th\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          Subtotal\r\n        </th>\r\n        <th class=\"text-center\">-</th>\r\n      </tr>\r\n      <tr *ngIf=\"Cargando\">\r\n        <td [attr.colspan]=\"DinamycCols\" class=\"text-center\">\r\n          <i class=\"fa fa-spinner fa-pulse fa-5x fa-fw\"></i>\r\n          <span class=\"sr-only\">Cargando...</span>\r\n          <h4>Cargando productos...</h4>\r\n        </td>\r\n      </tr>\r\n      <!-- <tr *ngIf=\"ListaProductos.length == 0 && !Cargando\">\r\n          <td colspan=\"5\" class=\"text-center\">\r\n              <i class=\"fa fa-exclamation-circle fa-5x\"></i>\r\n              <h4>No hay datos para mostrar</h4>\r\n          </td>\r\n        </tr> -->\r\n    </thead>\r\n    <tbody *ngIf=\"!Cargando\">\r\n      <tr *ngFor=\"let item of Lista_Productos; let i = index\" id=\"fila{{ i }}\">\r\n        <td style=\"vertical-align: middle\">\r\n          <strong>{{ i + 1 }}</strong>\r\n        </td>\r\n\r\n        <td style=\"text-align: left\">\r\n          <strong>{{ item.Nombre_Comercial }}</strong>\r\n          <p class=\"text-muted\" style=\"font-size: 9px\">{{ item.Nombre }}</p>\r\n        </td>\r\n\r\n        <td style=\"vertical-align: middle; text-align: left\">\r\n          <!-- Embalaje -->\r\n          <strong>{{ item.Categoria }} / </strong><br />\r\n          <!-- <span *ngIf=\"item.Id_Producto != ''\" class=\"mytooltip tooltip-effect-2\"> -->\r\n          <span class=\"tooltip-item2\">\r\n            <p style=\"font-size: 10px\">\r\n              {{ item.Embalaje | truncate: 12 }}\r\n            </p>\r\n          </span>\r\n          <span class=\"tooltip-content4 clearfix\">\r\n            <span class=\"tooltip-text2\">{{ item.Embalaje }}</span>\r\n          </span>\r\n          <!-- </span> -->\r\n        </td>\r\n\r\n        <td>\r\n          <!-- Presentación -->\r\n          <label>{{ item.Cantidad_Presentacion }}</label>\r\n        </td>\r\n\r\n        <td\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Rotacion,\r\n            'no-display': !Display_Rotacion\r\n          }\"\r\n        >\r\n          <!-- Rotativo -->\r\n          {{ item.Rotativo }}\r\n        </td>\r\n\r\n        <td>\r\n          <!-- Rotativo -->\r\n          <label>{{ item.Cantidad_Disponible }}</label>\r\n        </td>\r\n\r\n        <td\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Interna,\r\n            'no-display': !Display_Interna\r\n          }\"\r\n        >\r\n          <!-- Cantidad Requerida-->\r\n          <input\r\n            id=\"CantidadRequerida{{ i }}\"\r\n            name=\"Cantidad_Requerida{{ i }}\"\r\n            type=\"number\"\r\n            [(ngModel)]=\"item.Cantidad_Requerida\"\r\n            min=\"0\"\r\n            class=\"form-control form-control-sm text-right f-9 tabla\"\r\n            pattern=\"[0-9]\"\r\n            (change)=\"ComprobarCantidades(i)\"\r\n            onkeypress=\"return event.charCode >= 48  && event.charCode <= 57 \"\r\n          />\r\n        </td>\r\n\r\n        <td>\r\n          <!-- Cantidad Ingresada-->\r\n          <input\r\n            id=\"CantidadIngresada{{ i }}\"\r\n            name=\"Cantidad_Total{{ i }}\"\r\n            type=\"number\"\r\n            [(ngModel)]=\"item.Cantidad\"\r\n            min=\"0\"\r\n            class=\"form-control form-control-sm text-right f-9 tabla\"\r\n            [readonly]=\"Tipo_Remision == 'Interna'\"\r\n            (change)=\"ComprobarCantidades(i); CalcularSubtotalProducto(i)\"\r\n            onkeypress=\"return event.charCode >= 48  && event.charCode <= 57 \"\r\n          />\r\n        </td>\r\n\r\n        <td>\r\n          <ul *ngIf=\"item.Lotes_Visuales.length > 0\">\r\n            <li\r\n              *ngFor=\"let lote_visual of item.Lotes_Visuales\"\r\n              class=\"lista-lotes\"\r\n            >\r\n              <i class=\"fa fa-check-circle text-success\"></i>{{ lote_visual }}\r\n            </li>\r\n          </ul>\r\n          <a\r\n            *ngIf=\"item.Similares.length > 0\"\r\n            style=\"cursor: pointer\"\r\n            (click)=\"VerSimilares(i)\"\r\n          >\r\n            Ver Similares\r\n            <i class=\"ti-plus text-success f-14\"></i>\r\n          </a>\r\n        </td>\r\n\r\n        <td\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          <!-- Precio -->\r\n          <input\r\n            id=\"precioVenta{{ i }}\"\r\n            name=\"precioVenta{{ i }}\"\r\n            type=\"number\"\r\n            [(ngModel)]=\"item.Precio\"\r\n            class=\"form-control form-control-sm text-right f-9\"\r\n            (change)=\"VerificarPrecioRegulacion(i)\"\r\n          />\r\n        </td>\r\n\r\n        <td\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          <!-- Descuento -->\r\n          <div class=\"form-group input-group input-group-button\">\r\n            <input\r\n              style=\"text-align: center\"\r\n              id=\"descuento{{ i }}\"\r\n              name=\"Descuento{{ i }}\"\r\n              [(ngModel)]=\"item.Descuento\"\r\n              type=\"number\"\r\n              min=\"0\"\r\n              class=\"form-control form-control-sm text-right f-9\"\r\n              (change)=\"CalcularSubtotalProducto(i)\"\r\n              onkeypress=\"return event.charCode >= 48  && event.charCode <= 57 \"\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <span>&nbsp;&nbsp;%</span>\r\n            </div>\r\n          </div>\r\n        </td>\r\n\r\n        <td\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          <!-- IVA -->\r\n          <label>{{ item.Impuesto }}</label>\r\n        </td>\r\n\r\n        <td\r\n          [ngClass]=\"{\r\n            'display-table-cell': Display_Cliente,\r\n            'no-display': !Display_Cliente\r\n          }\"\r\n        >\r\n          <!-- Subtotal -->\r\n          <label>{{ item.Subtotal | customcurrency }}</label>\r\n        </td>\r\n\r\n        <td class=\"text-center\">\r\n          <!-- Boton -->\r\n          <i\r\n            class=\"fa fa-trash-o text-danger f-14\"\r\n            style=\"cursor: pointer\"\r\n            (click)=\"EliminarProducto(i)\"\r\n          ></i>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  <div class=\"col-md-12\" *ngIf=\"_remisionModel.Tipo == 'Cliente'\">\r\n    <table class=\"table table-responsive invoice-table invoice-total\">\r\n      <tbody>\r\n        <tr>\r\n          <th>Subtotal:</th>\r\n          <td>{{ _remisionModel.Subtotal_Remision | customcurrency }}</td>\r\n        </tr>\r\n        <tr>\r\n          <th>Descuento:</th>\r\n          <td>{{ _remisionModel.Descuento_Remision | customcurrency }}</td>\r\n        </tr>\r\n        <tr>\r\n          <th>Impuestos:</th>\r\n          <td>{{ _remisionModel.Impuesto_Remision | customcurrency }}</td>\r\n        </tr>\r\n        <tr>\r\n          <th>Precio Total:</th>\r\n          <td>{{ _remisionModel.Costo_Remision | customcurrency }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  <div class=\"d-flex justify-content-end\">\r\n    <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary\"\r\n        (click)=\"AbrirModalAgregarProductos()\"\r\n      >\r\n        <i class=\"fas fa-search\"></i>\r\n        Agregar Productos\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-primary\"\r\n        (click)=\"confirmacionGuardar.fire()\"\r\n        [disabled]=\"Lista_Productos.length == 0\"\r\n      >\r\n        <i class=\"fas fa-save\"></i>\r\n        Guardar Remision\r\n      </button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<app-modalproductoremisionnuevo\r\n  [AbrirModal]=\"AbrirModalProductos.asObservable()\"\r\n  (AgregarProductos)=\"RecibirProductos($event)\"\r\n>\r\n</app-modalproductoremisionnuevo>\r\n\r\n<app-modalcambiarproductossimilarnuevo\r\n  [AbrirModal]=\"AbrirModalProductoCambiar.asObservable()\"\r\n  (AgregarProductos)=\"RealizarCambioProducto($event)\"\r\n>\r\n</app-modalcambiarproductossimilarnuevo>\r\n\r\n<swal #confirmacionGuardar [swalOptions]=\"alertOption\"></swal>\r\n<swal #confirmacionRetornar [swalOptions]=\"alertOptionRetorno\"></swal>\r\n<swal\r\n  #confirmacionSalir\r\n  title=\"\"\r\n  html=\"\"\r\n  type=\"\"\r\n  (confirm)=\"VerPantallaLista()\"\r\n></swal>\r\n\r\n<swal #errorBorrador [swalOptions]=\"alertOptionBorrador\"></swal>\r\n","import { Component, OnInit, ViewChild, TemplateRef } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgForm } from '@angular/forms';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\nimport 'rxjs/add/operator/takeWhile';\r\nimport { Observable } from \"rxjs\";\r\n// import { Globales } from '../shared/globales/globales';\r\nimport { Router } from '@angular/router';\r\nimport swal, { SweetAlertOptions } from 'sweetalert2';\r\n// import { SwalComponent } from '@toverux/ngx-sweetalert2';\r\nimport { TruncateModule } from 'ng2-truncate';\r\nimport { SwalComponent } from '@sweetalert2/ngx-sweetalert2';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-remisioneditar',\r\n  templateUrl: './remisioneditar.component.html',\r\n  styleUrls: ['./remisioneditar.component.scss']\r\n})\r\nexport class RemisioneditarComponent implements OnInit {\r\n  public Lista_Productos: any[] = [{\r\n    producto: '',\r\n    Id_Producto: '',\r\n    Lotes: [],\r\n    Lotes_Auxiliar: [],\r\n    Lotes_Seleccionados: [],\r\n    Lotes_Visuales: [],\r\n    Precio_Venta: 0,\r\n    Cantidad: 0,\r\n    Categoria: '',\r\n    Descuento: 0,\r\n    Subtotal: 0,\r\n    Rotativo: 0,\r\n    Impuesto: 0,\r\n    Total_Impuesto: 0,\r\n    Total_Descuento: 0,\r\n    Nombre_Producto: '',\r\n    Suma: 0,\r\n    Cantidad_Presentacion: 0,\r\n    Id_Producto_Remision: '',\r\n    Embalaje: '',\r\n    Cantidad_Disponible: 0\r\n  }];\r\n  public Lista_Ganancia1 = '';\r\n  public Id_Lista: any;\r\n  public Costo_Remision = 0;\r\n  public Impuesto_Remision = 0;\r\n  public Subtotal_Remision = 0;\r\n  public Descuento_Remision = 0;\r\n  public ListaProductoBusqueda: any[] = [];\r\n  Datos: any[];\r\n  public Nombre_Destino: any = '';\r\n\r\n  public reducer = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Subtotal);\r\n  public reducer_desc = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Total_Descuento);\r\n  public reducer_imp = (accumulator, currentValue) => accumulator + parseFloat(currentValue.Total_Impuesto);\r\n\r\n  public display_Cliente = 'block';\r\n  public display_Interna = 'none';\r\n  public display_Cliente_tabla = 'none';\r\n  public Identificacion: any = [];\r\n\r\n  @ViewChild('IdPuntoDispensacion') IdPuntoDispensacion: any = '';\r\n  @ViewChild('confirmacionSwal') confirmacionSwal: any;\r\n\r\n  @ViewChild('confirmacionSalir') confirmacionSalir: any;\r\n  @ViewChild('FormTraslado') FormTraslado: NgForm;\r\n  public alertOption: SweetAlertOptions = {};\r\n  @ViewChild('confirmacionGuardar') private confirmacionGuardar: SwalComponent;\r\n\r\n  remision: any = [];\r\n  origen: any = [];\r\n  productos: any = [];\r\n  destino: any = [];\r\n  contrato: any = [];\r\n  public Contratos: any[];\r\n  public disabled: boolean;\r\n  public desabilitar: boolean = false;\r\n  public FechaInicio;\r\n  public FechaFin;\r\n  public punto: any;\r\n  public Meses = [];\r\n  public Impuesto: any[];\r\n  public Identificacion_Funcionario = (JSON.parse(localStorage.getItem(\"User\"))).Identificacion_Funcionario;\r\n  public Destino: any = [];\r\n  public Destino_Remision = '';\r\n  constructor(private route: ActivatedRoute, private http: HttpClient, private router: Router) {\r\n    for (let i = 0; i <= 18; i++) {\r\n      this.Meses.push(\r\n        {\r\n          dia: i\r\n        }\r\n      );\r\n\r\n    }\r\n    this.Identificacion = JSON.parse(localStorage.getItem(\"User\"));\r\n    let id = this.route.snapshot.params[\"id\"];\r\n    this.http.get(environment.ruta + 'php/remision/remision.php', {\r\n      params: { id: id }\r\n    }).subscribe((data: any) => {\r\n      if (data.Remision.Tipo_Destino == \"Bodega\") {\r\n        this.http.get(environment.ruta + 'php/remision/detalle_bodegas_punto.php?id=' + this.Identificacion.Identificacion_Funcionario).subscribe((dato: any) => {\r\n          this.Destino = dato.Bodega;\r\n          this.Destino_Remision = 'B-' + data.Remision.Id_Destino;\r\n          console.log(this.Destino_Remision);\r\n\r\n        });\r\n      } else if (data.Remision.Tipo_Destino == \"Punto_Dispensacion\") {\r\n        this.http.get(environment.ruta + 'php/remision/detalle_bodegas_punto.php?id=' + this.Identificacion.Identificacion_Funcionario).subscribe((dato: any) => {\r\n          this.Destino = dato.Punto;\r\n          this.Destino_Remision = 'P-' + data.Remision.Id_Destino;\r\n          console.log(this.Destino_Remision);\r\n        });\r\n      }\r\n\r\n      this.remision = data.Remision;\r\n      this.punto = this.remision.Tipo_Destino.split(\"_\");\r\n      this.origen = data.Origen;\r\n      this.destino = data.Destino;\r\n      this.contrato = data.Contrato;\r\n      this.Cambiar_Remision(this.remision.Tipo);\r\n      // console.log(this.remision);\r\n\r\n    });\r\n\r\n    this.alertOption = {\r\n      title: \"¿Está Seguro?\",\r\n      text: \"Se dispone a Guardar esta Remisión\",\r\n      showCancelButton: true,\r\n      cancelButtonText: \"No, Dejame Comprobar!\",\r\n      confirmButtonText: 'Si, Guardar',\r\n      showLoaderOnConfirm: true,\r\n      focusCancel: true,\r\n      // type: 'info',\r\n      preConfirm: () => {\r\n        return new Promise((resolve) => {\r\n          this.GuardarRemision(this.FormTraslado);\r\n        })\r\n      },\r\n      allowOutsideClick: () => !swal.isLoading()\r\n    }\r\n\r\n  }\r\n\r\n\r\n  search1 = (text$: Observable<string>) =>\r\n    text$.pipe(\r\n      debounceTime(200),\r\n      map(term => term.length < 4 ? []\r\n        : this.ListaProductoBusqueda.filter(v => v.Nombre.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 10))\r\n    );\r\n  formatter1 = (x: { Nombre: string }) => x.Nombre;\r\n  ngOnInit() {\r\n    let id = this.route.snapshot.params[\"id\"];\r\n    this.http.get(environment.ruta + 'php/lista_generales.php', { params: { modulo: 'Impuesto' } }).subscribe((data: any) => {\r\n      this.Impuesto = data;\r\n    });\r\n    this.http.get(environment.ruta + 'php/remision/detalle_remison.php', {\r\n      params: { id: id }\r\n    }).subscribe((data: any) => {\r\n      this.Lista_Productos = data;\r\n      // console.log(this.Lista_Productos);\r\n\r\n      this.Lista_Productos.push({\r\n        producto: '',\r\n        Id_Producto: '',\r\n        Lotes: [],\r\n        Lotes_Auxiliar: [],\r\n        Lotes_Seleccionados: [],\r\n        Lotes_Visuales: [],\r\n        Precio_Venta: 0,\r\n        Cantidad: 0,\r\n        Categoria: '',\r\n        Descuento: 0,\r\n        Subtotal: 0,\r\n        Rotativo: 0,\r\n        Impuesto: 0,\r\n        Total_Impuesto: 0,\r\n        Total_Descuento: 0,\r\n        Nombre_Producto: '',\r\n        Suma: 0,\r\n        Cantidad_Presentacion: 0,\r\n        Id_Producto_Remision: '',\r\n        Embalaje: '',\r\n        Cantidad_Disponible: 0\r\n      });\r\n\r\n      this.ActualizaValores();\r\n    });\r\n  }\r\n  ProductoSeleccionado(modelo: any, pos) {\r\n\r\n    var posicion = this.Lista_Productos.findIndex(x => x.Id_Producto === modelo.Id_Producto);\r\n    if (posicion >= 0) {\r\n      this.confirmacionSwal.title = \"Producto Repetido \";\r\n      this.confirmacionSwal.html = \"Este Producto ya se encuentra dentro del listado por Favor revise\";\r\n      this.confirmacionSwal.type = \"error\";\r\n      this.confirmacionSwal.show();\r\n      this.Lista_Productos[pos] = {\r\n        producto: '',\r\n        Id_Producto: '',\r\n        Lotes: [],\r\n        Lotes_Auxiliar: [],\r\n        Lotes_Seleccionados: [],\r\n        Lotes_Visuales: [],\r\n        Precio_Venta: 0,\r\n        Cantidad: 0,\r\n        Categoria: '',\r\n        Descuento: 0,\r\n        Subtotal: 0,\r\n        Rotativo: 0,\r\n        Impuesto: 0,\r\n        Total_Impuesto: 0,\r\n        Total_Descuento: 0,\r\n        Nombre_Producto: '',\r\n        Suma: 0,\r\n        Cantidad_Presentacion: 0,\r\n        Id_Producto_Remision: '',\r\n        Embalaje: '',\r\n        Cantidad_Disponible: 0\r\n      }\r\n    } else {\r\n      var Bodega = this.remision.Id_Origen;\r\n      var tipo = this.remision.Tipo_Origen;\r\n      var tiporemision = this.remision.Tipo;\r\n      var meses = '1';\r\n      var lista = this.remision.Id_Lista;\r\n      if (modelo.Lotes != undefined) {\r\n        this.http.get(environment.ruta + 'php/remision/detalle_producto.php', {\r\n          params: { idproducto: modelo.Id_Producto, id: Bodega, tipo: tipo, mes: meses, tiporemision: tiporemision, lista: lista }\r\n        }).subscribe((data: any) => {\r\n          let pos2 = pos + 1;\r\n          if (data[0]) {\r\n            //this.Lista_Productos.splice(pos,0,data[0]);\r\n            let prod = this.Lista_Productos[pos];\r\n            this.Lista_Productos[pos] = {};\r\n            this.Lista_Productos[pos].producto = modelo;\r\n            this.Lista_Productos[pos].Precio_Venta = data[0].precio;\r\n            this.Lista_Productos[pos].Lotes = data[0].Lotes;\r\n            this.Lista_Productos[pos].Lotes_Auxiliar = data[0].Lotes;\r\n            this.Lista_Productos[pos].Id_Producto = data[0].Id_Producto;\r\n            this.Lista_Productos[pos].Nombre_Producto = data[0].Nombre;\r\n            this.Lista_Productos[pos].Suma = data[0].Suma;\r\n            this.Lista_Productos[pos].Categoria = data[0].Categoria;\r\n            this.Lista_Productos[pos].Impuesto = data[0].Impuesto;\r\n            this.Lista_Productos[pos].Cantidad_Presentacion = data[0].Cantidad_Presentacion;\r\n            this.Lista_Productos[pos].Embalaje = data[0].Embalaje;\r\n            this.Lista_Productos[pos].Cantidad_Disponible = data[0].Cantidad_Disponible;\r\n            this.Lista_Productos[pos].Total_Impuesto = 0;\r\n            this.Lista_Productos[pos].Total_Descuento = 0;\r\n            this.Lista_Productos[pos].Id_Producto = modelo.Id_Producto;\r\n            this.Lista_Productos[pos].Lotes_Seleccionados = [];\r\n            this.Lista_Productos[pos].Lotes_Visuales = [];\r\n            this.Lista_Productos[pos].Cantidad = 0;\r\n            this.Lista_Productos[pos].Descuento = 0;\r\n            this.Lista_Productos[pos].Subtotal = 0;\r\n            this.Lista_Productos[pos].Id_Producto_Remision = '';\r\n            this.Lista_Productos[pos].Bloqueo = true;\r\n\r\n\r\n            if (this.Lista_Productos[pos2] == undefined) {\r\n              this.Lista_Productos.push({\r\n                producto: '',\r\n                Id_Producto: '',\r\n                Lotes: [],\r\n                Lotes_Auxiliar: [],\r\n                Lotes_Seleccionados: [],\r\n                Lotes_Visuales: [],\r\n                Precio_Venta: 0,\r\n                Cantidad: 0,\r\n                Categoria: '',\r\n                Descuento: 0,\r\n                Subtotal: 0,\r\n                Rotativo: 0,\r\n                Impuesto: 0,\r\n                Total_Impuesto: 0,\r\n                Total_Descuento: 0,\r\n                Nombre_Producto: '',\r\n                Suma: 0,\r\n                Cantidad_Presentacion: 0,\r\n                Id_Producto_Remision: '',\r\n                Embalaje: '',\r\n                Cantidad_Disponible: 0\r\n              });\r\n              setTimeout(() => {\r\n                (document.getElementById(\"Producto\" + pos) as HTMLInputElement).setAttribute('readonly', 'true');\r\n                if (pos2 == 70) {\r\n                  (document.getElementById(\"Producto\" + pos2) as HTMLInputElement).setAttribute('readonly', 'readonly');\r\n                }\r\n              }, 100);\r\n            }\r\n          } else {\r\n            this.Lista_Productos[pos] = {\r\n              producto: '',\r\n              Id_Producto: '',\r\n              Lotes: [],\r\n              Lotes_Auxiliar: [],\r\n              Lotes_Seleccionados: [],\r\n              Lotes_Visuales: [],\r\n              Precio_Venta: 0,\r\n              Cantidad: 0,\r\n              Categoria: '',\r\n              Descuento: 0,\r\n              Subtotal: 0,\r\n              Rotativo: 0,\r\n              Impuesto: 0,\r\n              Total_Impuesto: 0,\r\n              Total_Descuento: 0,\r\n              Nombre_Producto: '',\r\n              Suma: 0,\r\n              Cantidad_Presentacion: 0,\r\n              Id_Producto_Remision: '',\r\n              Embalaje: '',\r\n              Cantidad_Disponible: 0\r\n            }\r\n            this.confirmacionSwal.title = \"No Disponible\";\r\n            this.confirmacionSwal.html = \"El producto ya no tiene lotes disponibles, por favor escoja otro.\";\r\n            this.confirmacionSwal.type = \"error\";\r\n            this.confirmacionSwal.show();\r\n          }\r\n\r\n\r\n\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  BuscarLote(i, cantidad) {\r\n    //this.Lista_Productos[i].Lotes_Auxiliar;\r\n    var Lista_Bandera = [];\r\n    var contador = this.Lista_Productos[i].Lotes_Auxiliar.length;\r\n    var siguiente = true;\r\n    this.Lista_Productos[i].Lotes_Seleccionados = [];\r\n    this.Lista_Productos[i].Lotes_Visuales = [];\r\n    var sumaLote = 0;\r\n    var cantidadsuma = cantidad;\r\n    var multipo = parseInt(cantidad) % parseInt(this.Lista_Productos[i].Cantidad_Presentacion);\r\n\r\n    var bodega = 'B-' + this.remision.Id_Origen;\r\n    if (bodega != 'B-5') {\r\n      if (parseInt(cantidad) > 0 && multipo == 0) {\r\n\r\n        for (let d = 0; d < contador; d++) {\r\n          if (siguiente && cantidad <= parseInt(this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad)) {\r\n            let item = JSON.parse(JSON.stringify(this.Lista_Productos[i].Lotes_Auxiliar[d]));\r\n            item.label = \"Lote: \" + this.Lista_Productos[i].Lotes_Auxiliar[d].Lote + \" - Vencimiento: \" + this.Lista_Productos[i].Lotes_Auxiliar[d].Fecha_Vencimiento + \" - Cantidad: \" + cantidad;\r\n            item.Cantidad = cantidad;\r\n\r\n            siguiente = false;\r\n            sumaLote += parseInt(cantidad);\r\n            /**SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n            let info = JSON.stringify(item);\r\n            let datos = new FormData();\r\n            datos.append(\"datos\", info);\r\n            item.Cantidad_Seleccionada = cantidad;\r\n            this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad_Seleccionada = cantidad;\r\n            Lista_Bandera.push(item);\r\n            this.Lista_Productos[i].Lotes_Seleccionados.push(item);\r\n            this.Lista_Productos[i].Lotes_Visuales.push(item.label);\r\n            this.http.post(environment.ruta + 'php/remision/selecciona_lote.php', datos).subscribe((data: any) => {\r\n            });\r\n            /**FIN SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n          }\r\n          else if (siguiente && cantidad > parseInt(this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad)) {\r\n            cantidad = cantidad - this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad;\r\n            sumaLote += parseInt(this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad);\r\n\r\n            /**SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n            let info = JSON.stringify(this.Lista_Productos[i].Lotes_Auxiliar[d]);\r\n            let datos = new FormData();\r\n            datos.append(\"datos\", info);\r\n            this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad_Seleccionada = this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad;\r\n            Lista_Bandera.push(this.Lista_Productos[i].Lotes_Auxiliar[d]);\r\n            this.Lista_Productos[i].Lotes_Seleccionados.push(this.Lista_Productos[i].Lotes_Auxiliar[d]);\r\n            this.Lista_Productos[i].Lotes_Visuales.push(this.Lista_Productos[i].Lotes_Auxiliar[d].label);\r\n            this.http.post(environment.ruta + 'php/remision/selecciona_lote.php', datos).subscribe((data: any) => {\r\n            });\r\n            /**FIN SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n          }\r\n\r\n        }\r\n        if (sumaLote < parseInt(cantidadsuma)) {\r\n          this.Lista_Productos[i].Cantidad = sumaLote;\r\n          this.confirmacionSwal.title = \"Error en la cantidad Ingresada\";\r\n          this.confirmacionSwal.html = \"La cantidad ingresada  supera la cantidad disponible\";\r\n          this.confirmacionSwal.type = \"error\";\r\n          this.confirmacionSwal.show();\r\n        }\r\n\r\n      } else {\r\n        this.confirmacionSwal.title = \"Error en la cantidad Ingresada\";\r\n        this.confirmacionSwal.html = \"No se pueden entregar cantidades incompletas o nulas de acuerdo a la Presentacion del Producto\";\r\n        this.confirmacionSwal.type = \"error\";\r\n        this.Lista_Productos[i].Cantidad = 0;\r\n        this.confirmacionSwal.show();\r\n      }\r\n      this.Lista_Productos[i].Lotes = Lista_Bandera;\r\n    } else {\r\n      for (let d = 0; d < contador; d++) {\r\n        if (siguiente && cantidad <= parseInt(this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad)) {\r\n          let item = JSON.parse(JSON.stringify(this.Lista_Productos[i].Lotes_Auxiliar[d]));\r\n          item.label = \"Lote: \" + this.Lista_Productos[i].Lotes_Auxiliar[d].Lote + \" - Vencimiento: \" + this.Lista_Productos[i].Lotes_Auxiliar[d].Fecha_Vencimiento + \" - Cantidad: \" + cantidad;\r\n          item.Cantidad = cantidad;\r\n          Lista_Bandera.push(item);\r\n          this.Lista_Productos[i].Lotes_Seleccionados.push(item);\r\n          this.Lista_Productos[i].Lotes_Visuales.push(item.label);\r\n          siguiente = false;\r\n          sumaLote += parseInt(cantidad);\r\n          /**SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n          let info = JSON.stringify(item);\r\n          let datos = new FormData();\r\n          datos.append(\"datos\", info);\r\n          item.Cantidad_Seleccionada = cantidad;\r\n          this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad_Seleccionada = cantidad;\r\n          Lista_Bandera.push(item);\r\n          this.Lista_Productos[i].Lotes_Seleccionados.push(item);\r\n          this.Lista_Productos[i].Lotes_Visuales.push(item.label);\r\n          this.http.post(environment.ruta + 'php/remision/selecciona_lote.php', datos).subscribe((data: any) => {\r\n          });\r\n          /**FIN SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n        }\r\n        else if (siguiente && cantidad > parseInt(this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad)) {\r\n          cantidad = cantidad - this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad;\r\n          sumaLote += parseInt(this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad);\r\n          /**SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n          let info = JSON.stringify(this.Lista_Productos[i].Lotes_Auxiliar[d]);\r\n          let datos = new FormData();\r\n          datos.append(\"datos\", info);\r\n          this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad_Seleccionada = this.Lista_Productos[i].Lotes_Auxiliar[d].Cantidad;\r\n          Lista_Bandera.push(this.Lista_Productos[i].Lotes_Auxiliar[d]);\r\n          this.Lista_Productos[i].Lotes_Seleccionados.push(this.Lista_Productos[i].Lotes_Auxiliar[d]);\r\n          this.Lista_Productos[i].Lotes_Visuales.push(this.Lista_Productos[i].Lotes_Auxiliar[d].label);\r\n          this.http.post(environment.ruta + 'php/remision/selecciona_lote.php', datos).subscribe((data: any) => {\r\n          });\r\n          /**FIN SELECCIONA CANTIDAD DE LOTE EN TIEMPO REAL DEL LOTE */\r\n        }\r\n\r\n      }\r\n      if (sumaLote < parseInt(cantidadsuma)) {\r\n        this.Lista_Productos[i].Cantidad = sumaLote;\r\n        this.confirmacionSwal.title = \"Error en la cantidad Ingresada\";\r\n        this.confirmacionSwal.html = \"La cantidad ingresada  supera la cantidad disponible\";\r\n        this.confirmacionSwal.type = \"error\";\r\n        this.confirmacionSwal.show();\r\n      }\r\n      this.Lista_Productos[i].Lotes = Lista_Bandera;\r\n    }\r\n  }\r\n  CalcularTotal(pos) {\r\n    var Cantidad = this.Lista_Productos[pos].Cantidad;\r\n    var Descuento = this.Lista_Productos[pos].Descuento;\r\n    var des = this.Lista_Productos[pos].Descuento;\r\n    var Precio = this.Lista_Productos[pos].Precio_Venta;\r\n    var Impuesto = this.Lista_Productos[pos].Impuesto;\r\n    var imp = parseFloat(this.Lista_Productos[pos].Impuesto);\r\n    this.Lista_Productos[pos].Subtotal = (parseFloat(Cantidad) * parseFloat(Precio));\r\n    if (Descuento != \"\") {\r\n      des = (parseFloat(this.Lista_Productos[pos].Subtotal) * (des / 100));\r\n      this.Lista_Productos[pos].Total_Descuento = des;\r\n    }\r\n    if (Impuesto !== \"\") {\r\n      imp = ((parseFloat(this.Lista_Productos[pos].Subtotal) - parseFloat(this.Lista_Productos[pos].Total_Descuento)) * (imp / 100));\r\n      this.Lista_Productos[pos].Total_Impuesto = imp;\r\n    }\r\n  }\r\n  ActualizaValores() {\r\n    this.Subtotal_Remision = parseFloat(this.Lista_Productos.reduce(this.reducer, 0));\r\n    this.Impuesto_Remision = parseFloat(this.Lista_Productos.reduce(this.reducer_imp, 0));\r\n    this.Descuento_Remision = parseFloat(this.Lista_Productos.reduce(this.reducer_desc, 0));\r\n    this.Costo_Remision = this.Subtotal_Remision - this.Descuento_Remision + this.Impuesto_Remision;\r\n  }\r\n  Cambiar_Remision(tipo) {\r\n    let serv = tipo;\r\n    var fecha = new Date();\r\n    this.FechaFin = fecha.toISOString().split(\"T\")[0];\r\n    var dia = new Date(fecha.setDate(fecha.getDate() - 30));\r\n    this.FechaInicio = dia.toISOString().split(\"T\")[0];\r\n    if (serv == 'Interna') {\r\n      this.display_Interna = 'block';\r\n      this.display_Cliente = 'none';\r\n      this.display_Cliente_tabla = 'none';\r\n\r\n      this.ListaProductosBodega();\r\n    } else {\r\n      this.display_Interna = 'none';\r\n      this.display_Cliente = 'block';\r\n      this.display_Cliente_tabla = 'table-cell';\r\n      if (this.remision.Tipo_Lista == \"Contrato\") {\r\n        this.ListarContratos();\r\n      } else {\r\n        this.Lista_Ganancia();\r\n        this.Id_Lista = this.remision.Id_Lista;\r\n\r\n      }\r\n    }\r\n  }\r\n  ListaProductosBodega() {\r\n\r\n    var Bodega = this.remision.Id_Origen;\r\n    this.http.get(environment.ruta + 'php/remision/detalle_productos_bodega.php', { params: { id: Bodega, tipo: this.remision.Tipo_Origen } }).subscribe((data: any) => {\r\n      this.ListaProductoBusqueda = data;\r\n    });\r\n  }\r\n  ListarContratos() {\r\n    var Idcliente = this.remision.Id_Destino;\r\n    if (Idcliente) {\r\n      var id = Idcliente;\r\n      this.http.get(environment.ruta + 'php/remision/contratos.php', { params: { id: id } }).subscribe((data: any) => {\r\n        this.Contratos = data;\r\n        if (Idcliente != \"\") {\r\n          if (this.Contratos.length != 0) {\r\n            this.disabled = false;\r\n          }\r\n          this.desabilitar = true;\r\n        } else {\r\n          this.disabled = true;\r\n          this.desabilitar = true;\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n  Lista_Ganancia() {\r\n    this.http.get(environment.ruta + 'php/remision/productos_lista_ganancia.php', { params: { id: this.remision.Id_Origen, lista: this.remision.Id_Lista, } }).subscribe((data: any) => {\r\n      this.ListaProductoBusqueda = data;\r\n    });\r\n\r\n  }\r\n  showAlert(evt: any) {\r\n    var tipo = this.remision.Tipo;\r\n\r\n    if (tipo == 'Interna') {\r\n      var punto = this.remision.Id_Destino;\r\n\r\n      if (punto == '') {\r\n        this.confirmacionSwal.title = \"Error\";\r\n        this.confirmacionSwal.html = \"Por favor seleccione el Punto de destino\";\r\n        this.confirmacionSwal.type = \"error\";\r\n        this.confirmacionSwal.show();\r\n      } else if (this.Lista_Productos.length == 1) {\r\n        this.confirmacionSwal.title = \"Error\";\r\n        this.confirmacionSwal.html = \"No puede guardar una remison sin productos\";\r\n        this.confirmacionSwal.type = \"error\";\r\n        this.confirmacionSwal.show();\r\n      }\r\n      else {\r\n        this.confirmacionGuardar.fire();\r\n      }\r\n    } else {\r\n      if (this.Lista_Productos.length == 1) {\r\n        this.confirmacionSwal.title = \"Error\";\r\n        this.confirmacionSwal.html = \"No puede guardar una remison sin productos\";\r\n        this.confirmacionSwal.type = \"error\";\r\n        this.confirmacionSwal.show();\r\n      } else {\r\n        this.confirmacionGuardar.fire();\r\n      }\r\n    }\r\n\r\n  }\r\n  save() {\r\n    // console.log(\"Remision Guardada\");\r\n  }\r\n\r\n  GuardarRemision(formulario: NgForm) {\r\n    let id = this.route.snapshot.params[\"id\"];\r\n    let info = this.normalize(JSON.stringify(this.remision));\r\n    let prod = this.normalize(JSON.stringify(this.Lista_Productos));\r\n    let datos = new FormData();\r\n\r\n    datos.append(\"id\", id);\r\n    datos.append(\"datos\", info);\r\n    datos.append(\"funcionario\", this.Identificacion_Funcionario);\r\n    datos.append(\"productos\", prod);\r\n    this.http.post(environment.ruta + 'php/remision/actualizar_remision.php', datos).subscribe((data: any) => {\r\n      this.confirmacionSalir.title = 'Remisión Actualizada';\r\n      this.confirmacionSalir.html = data.mensaje;\r\n      this.confirmacionSalir.type = data.tipo;\r\n      this.confirmacionSalir.show();\r\n      formulario.reset();\r\n      this.Lista_Productos = [{\r\n        producto: '',\r\n        Id_Producto: '',\r\n        Lotes: [],\r\n        Lotes_Auxiliar: [],\r\n        Lotes_Seleccionados: [],\r\n        Lotes_Visuales: [],\r\n        Precio_Venta: 0,\r\n        Cantidad: 0,\r\n        Categoria: '',\r\n        Descuento: 0,\r\n        Subtotal: 0,\r\n        Rotativo: 0,\r\n        Impuesto: 0,\r\n        Total_Impuesto: 0,\r\n        Total_Descuento: 0,\r\n        Nombre_Producto: '',\r\n        Suma: 0,\r\n        Cantidad_Presentacion: 0,\r\n        Id_Producto_Remision: '',\r\n        Embalaje: '',\r\n        Cantidad_Disponible: 0\r\n      }];\r\n      // this.VerPantallaLista();\r\n\r\n    });\r\n  }\r\n\r\n  normalize = (function () {\r\n    var from = \"ÃÀÁÄÂÈÉËÊÌÍÏÎÒÓÖÔÙÚÜÛãàáäâèéëêìíïîòóöôùúüûÑñÇç\",\r\n      to = \"AAAAAEEEEIIIIOOOOUUUUaaaaaeeeeiiiioooouuuunncc\",\r\n      mapping = {};\r\n\r\n    for (var i = 0, j = from.length; i < j; i++)\r\n      mapping[from.charAt(i)] = to.charAt(i);\r\n\r\n    return function (str) {\r\n      var ret = [];\r\n      for (var i = 0, j = str.length; i < j; i++) {\r\n        var c = str.charAt(i);\r\n        if (mapping.hasOwnProperty(str.charAt(i)))\r\n          ret.push(mapping[c]);\r\n        else\r\n          ret.push(c);\r\n      }\r\n      return ret.join('');\r\n    }\r\n\r\n  })();\r\n  VerPantallaLista() {\r\n    this.router.navigate(['/remisiones']);\r\n  }\r\n  EliminarProductoRemsion(i) {\r\n    if (this.Lista_Productos[i].producto != '') {\r\n      let info = JSON.stringify(this.Lista_Productos[i].Lotes_Seleccionados);\r\n      let datos = new FormData();\r\n      datos.append(\"datos\", info);\r\n      //this.Lista_Productos[i]={};\r\n      this.Lista_Productos.splice(i, 1);\r\n      this.http.post(environment.ruta + 'php/remision/elimina_selecciona_lote.php', datos).subscribe((data: any) => {\r\n      });\r\n    }\r\n  }\r\n  EliminaProductoFinal(i, Id_Producto_Remision) {\r\n    let info = JSON.stringify(this.Lista_Productos[i].Lotes_Seleccionados);\r\n    let datos = new FormData();\r\n    datos.append(\"datos\", info);\r\n    datos.append(\"Nombre\", this.normalize(this.Lista_Productos[i].Nombre));\r\n    datos.append(\"rem\", this.remision.Id_Remision);\r\n    datos.append(\"funcionario\", this.Identificacion_Funcionario);\r\n    //this.Lista_Productos[i]={};\r\n    this.Lista_Productos.splice(i, 1);\r\n    this.http.post(environment.ruta + 'php/remision/elimina_producto_remision.php', datos).subscribe((data: any) => {\r\n    });\r\n  }\r\n  Contrato(idcontrato) {\r\n    var id = idcontrato.substr(2);\r\n    var bodega = this.remision.Id_Origen;\r\n    this.http.get(environment.ruta + 'php/remision/productos_contrato.php', { params: { id: id, bodega: bodega } }).subscribe((data: any) => {\r\n      this.ListaProductoBusqueda = data;\r\n    });\r\n  }\r\n  AgregarNombreDestino() {\r\n    let select: any = document.getElementById(\"Id_Destino\");\r\n    this.Nombre_Destino = select.options[select.selectedIndex].text;\r\n\r\n  }\r\n\r\n}\r\n","<div class=\"page-body\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12 col-md-12 col-md-offset-4\">\r\n      <form #FormTraslado=\"ngForm\" ng-submit=\"\">\r\n        <div class=\"card\">\r\n          <div class=\"row invoice-contact\" style=\"align-items:flex-start !important;\">\r\n            <div class=\"col-md-8\">\r\n              <div class=\"invoice-box row\">\r\n                <div class=\"col-sm-12\">\r\n                  <table class=\"table table-responsive invoice-table table-borderless\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td style=\"width:100px;\">\r\n                          <!-- <img src=\"{{globales.urlLogoColor}}\" class=\"m-b-10 img-60\" alt=\"Pro-H Software\"> -->\r\n                        </td>\r\n                        <!-- <td>\r\n                          {{globales.Nombre}}\r\n                          <br> {{globales.Nit}}\r\n                          <br> {{globales.Direccion}}\r\n                          <br> {{globales.Telefono}}\r\n                        </td> -->\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-md-4\">\r\n              <div class=\"row text-right\" style=\"margin-right: 5px;\">\r\n                <div class=\"col-sm-12\">\r\n                  <h4>Editar Remisión</h4>\r\n                  <h6>{{remision.Fecha |date: 'dd/MM/yyyy'}}</h6>\r\n\r\n                  <span class=\"f-right\">\r\n                    {{remision.Cliente}}\r\n                  </span>\r\n                  <div class=\"clearfix\"></div>\r\n\r\n                  <div class=\"clearfix\"></div>\r\n                  <span class=\"f-right\">\r\n                    {{remision.Codigo}}\r\n                  </span>\r\n                  <input type=\"hidden\" name=\"Identificacion_Funcionario\" ngModel={{Identificacion_Funcionario}}>\r\n                  <input type=\"hidden\" name=\"Codigo\" ngModel={{remision.Codigo}}>\r\n                  <div class=\"clearfix\"></div>\r\n                  <span class=\"f-right m-t-5\">\r\n                    Tipo:\r\n                    <strong>{{remision.Tipo}}</strong>\r\n                  </span>\r\n                  <div class=\"clearfix\"></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"row invoive-info\" style=\"margin-bottom: 0;\">\r\n              <div class=\"col-md-5\">\r\n                <div class=\"form-group\">\r\n                  <label> Origen</label>\r\n                  <input id=\"Origen\" name=\"Origen\" type=\"text\" ngModel=\"{{origen.Nombre}}\" class=\"form-control form-control-sm text-letf f-9 \"\r\n                    readonly>\r\n                  <input hidden id=\"Id_Origen\" name=\"Id_Origen\" type=\"text\" ngModel=\"{{remision.Id_Origen}}\" class=\"form-control form-control-sm text-letf f-9 \">\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-6\" [ngStyle]=\"{ 'display': display_Interna }\">\r\n                <div class=\"form-group\">\r\n                  <label>Destino</label>\r\n                  <select id=\"Id_Destino\" name=\"Id_Destino\" ngModel=\"{{Destino_Remision}}\" class=\"form-control form-control-sm \" (change)=\"AgregarNombreDestino()\">\r\n                    <option *ngFor=\"let item of Destino\" [value]=\"item.Id\">{{item.Nombre}}</option>\r\n                  </select>\r\n                  <input hidden [(ngModel)]=\"Nombre_Destino\" type=\"text\" name=\"Nombre_Destino\" class=\"form-control form-control-sm f-9\" />\r\n\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-4\" [ngStyle]=\"{ 'display': display_Cliente }\">\r\n                <div class=\"form-group\">\r\n                  <label>Cliente</label>\r\n                  <input id=\"Cliente\" name=\"Cliente\" type=\"text\" ngModel=\"{{destino.Nombre}}\" class=\"form-control form-control-sm text-letf f-9 \"\r\n                    readonly>\r\n                    <input hidden id=\"Id_Cliente\" name=\"Id_Cliente\" type=\"text\" ngModel=\"{{remision.Id_Destino}}\" class=\"form-control form-control-sm text-letf f-9 \">\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-1\" [ngStyle]=\"{ 'display': display_Cliente }\">\r\n                <div class=\"form-group\">\r\n                  <label>Contrato</label>\r\n                  <select id=\"Id_Contrato\" name=\"Contrato\" ngModel=\"{{Contrato}}\" name=\"Id_Contrato\" class=\"form-control form-control-sm tipo-dis-select\"\r\n                  disabled=\"{{disabled}}\" (change)=\"Contrato($event.target.value)\">\r\n                  <option value=\"\" disabled>Contrato</option>\r\n                  <option *ngFor=\"let contrato of Contratos; let i=index\" [value]=\"contrato.Id_Contrato\">{{contrato.NombreContrato}}</option>\r\n\r\n                </select>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-2\" [ngStyle]=\"{ 'display': display_Cliente }\">\r\n                <div class=\"form-group\">\r\n                  <label>L. Ganancia</label>\r\n                  <input name=\"ListaGanancia\" id=\"ListaGanancia\" class=\"form-control form-control-sm f-9\" readonly\r\n                    ngModel={{Id_Lista}}>\r\n                  <input hidden ngModel=\"{{Lista_Ganancia1}}\" type=\"text\" name=\"Lista_Ganancia\" class=\"form-control form-control-sm f-9\"\r\n                    readonly />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row invoive-info\" style=\"margin-bottom: 0;\">\r\n              <div class=\"col-md-12\">\r\n                <div class=\"form-group\">\r\n                  <label>Observaciones</label>\r\n                  <textarea [(ngModel)]=\"remision.Observaciones\" name=\"Observaciones\" type=\"text\" rows=\"3\" class=\"form-control \"></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr>\r\n            <div class=\"row\" style=\"margin-top:30px;\">\r\n              <div class=\"col-sm-12\">\r\n                  <table class=\"table  invoice-detail-table tabla\">\r\n                    <thead>\r\n                      <tr class=\"thead-default\">\r\n                        <th style=\"width:15px;\"></th>\r\n                        <th>Producto</th>\r\n                        <th style=\"width:200px;\">Embalaje / Categoría</th>\r\n                        <th style=\"width:30px\">Presentación</th>\r\n                        <th style=\"width:50px;\">Cantidad Disponible</th>\r\n                        <th style=\"width:65px;\">Cantidad</th>\r\n                        <th style=\"width:200px;\">Lote</th>\r\n                        <th style=\"width:65px;\" [ngStyle]=\"{ 'display': display_Cliente_tabla }\">Precio</th>\r\n                        <th style=\"width:65px;\" [ngStyle]=\"{ 'display': display_Cliente_tabla }\">Descuento</th>\r\n                        <th style=\"width:10px;\" [ngStyle]=\"{ 'display': display_Cliente_tabla }\"></th>\r\n                        <th style=\"width:65px;\" [ngStyle]=\"{ 'display': display_Cliente_tabla }\">IVA</th>\r\n                        <th style=\"width:100px;\" [ngStyle]=\"{ 'display': display_Cliente_tabla }\">Subtotal</th>\r\n                        <th style=\"width:10px;\"></th>\r\n                        <th style=\"width:20px;\">-</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr *ngFor=\"let item of Lista_Productos; let i = index\" id=\"fila{{i}}\">\r\n                        <td style=\"vertical-align: middle\">\r\n                          <strong>{{i+1}}</strong>\r\n                        </td>\r\n                        <td>\r\n                          <!-- Producto -->\r\n                          <input type=\"text\" name=\"Nombre_Producto{{i}}\" id=\"Producto{{i}}\" class=\"form-control form-control-sm f-9 input-product\" [(ngModel)]=\"item.producto\" [ngbTypeahead]=\"search1\" [resultTemplate]=\"rt\" [inputFormatter]=\"formatter1\" (ngModelChange)=\"ProductoSeleccionado(item.producto, i)\" [readonly]=\"item.Id_Producto_Remision!='' ? true : false\" />\r\n\r\n                        </td>\r\n                        <td style=\"vertical-align: middle\">\r\n                          <!-- Embalaje -->\r\n                          <strong>{{item.Categoria}} / </strong><span *ngIf=\"item.Id_Producto != ''\" class=\"mytooltip tooltip-effect-2\"><span class=\"tooltip-item2\"> <p>\r\n                            {{item.Embalaje | truncate : 12 }}  </p></span><span class=\"tooltip-content4 clearfix\"><span class=\"tooltip-text2\">{{item.Embalaje}}</span></span> </span>\r\n                        </td>\r\n                        <td>\r\n                          <!-- Presentación -->\r\n                          <input id=\"presentacion{{i}}\" name=\"presentacion{{i}}\" type=\"number\" ngModel=\"{{item.Cantidad_Presentacion}}\" class=\"form-control form-control-sm text-right f-9 tabla\"\r\n                            readonly>\r\n                        </td>\r\n                        <td>\r\n                          <!-- Cantidad_Disponible -->\r\n                          <input id=\"Cantidad_Disponible{{i}}\" name=\"Cantidad_Disponible{{i}}\" type=\"text\" ngModel=\"{{item.Cantidad_Disponible}}\" class=\"form-control form-control-sm text-right f-9 tabla\" readonly>\r\n                        </td>\r\n                        <td>\r\n                          <!-- Cantidad Ingresada-->\r\n                          <input id=\"CantidadIngresada{{i}}\" name=\"Cantidad_Total{{i}}\" type=\"number\" [(ngModel)]=\"item.Cantidad\" min=\"0\" class=\"form-control form-control-sm text-right f-9 tabla\" (change)=\"BuscarLote(i,$event.target.value);CalcularTotal(i); ActualizaValores()\" [readonly]=\"item.Id_Producto_Remision!='' ? true : false\">\r\n                        </td>\r\n                        <td>\r\n                          <!-- Lote -->\r\n                          <!--<ng-select [ngClass]=\"'ng-select'\" [multiple]=\"true\" theme='bootstrap' multiple [placeholder]=\"'Seleccione Un Lote'\" [options]=\"item.Lotes\"\r\n                              [(ngModel)]=\"item.Lotes_Seleccionados\" name=\"LotesSeleccionados{{i}}\">\r\n                              </ng-select>-->\r\n                          <ul>\r\n                            <li *ngFor=\"let lote_visual of item.Lotes_Visuales\" class=\"lista-lotes\">\r\n                              <i class=\"fa fa-check-circle text-success\"></i>{{lote_visual}}</li>\r\n                          </ul>\r\n                        </td>\r\n                        <td [ngStyle]=\"{ 'display': display_Cliente_tabla }\">\r\n                          <!-- Precio -->\r\n                          <input id=\"precioVenta{{i}}\" name=\"precioVenta{{i}}\" type=\"text\" [(ngModel)]=\"item.Precio_Venta\"\r\n                          class=\"form-control form-control-sm text-right f-9\" (change)=\"CalcularTotal(i); ActualizaValores();\">\r\n                        </td>\r\n                        <td [ngStyle]=\"{ 'display': display_Cliente_tabla }\">\r\n                          <!-- Descuento -->\r\n                          <input id=\"descuento{{i}}\" name=\"Descuento{{i}}\" [(ngModel)]=\"item.Descuento\" type=\"number\" min=\"0\" class=\"form-control form-control-sm text-right f-9\" (ngModelChange)=\"CalcularTotal(i); ActualizaValores()\">\r\n                        </td>\r\n                        <td [ngStyle]=\"{ 'display': display_Cliente_tabla }\" style=\"vertical-align: middle\">\r\n                          %\r\n                        </td>\r\n\r\n                        <td [ngStyle]=\"{ 'display': display_Cliente_tabla }\">\r\n                          <!-- IVA -->\r\n                          <select class=\"form-control form-control-sm\" name=\"impuesto{{i}}\" id=\"impuesto{{i}}\" (change)=\"CalcularTotal(i); ActualizaValores()\"\r\n                          [(ngModel)]=\"item.Impuesto\">\r\n                          <option value=\"\">Sin IVA</option>\r\n                          <option *ngFor=\"let impuesto of Impuesto; let i=index\" [value]=\"impuesto.Valor\">{{impuesto.Valor}}</option>\r\n                        </select>\r\n                        </td>\r\n                        <td [ngStyle]=\"{ 'display': display_Cliente_tabla }\">\r\n                          <!-- Subtotal -->\r\n                          <input name=\"Subtotal{{i}}\" [(ngModel)]=\"item.Subtotal\" type=\"number\" min=\"1\" class=\"form-control form-control-sm text-right f-9\" (change)=\"ActualizaValores()\" readonly>\r\n                        </td>\r\n                        <td>\r\n                          <!-- Icono-->\r\n                          <input name=\"Suma{{i}}\" id=\"suma{{i}}\" hidden [(ngModel)]=\"item.Suma\">\r\n                          <i *ngIf=\"item.Suma<0\" class=\"fa fa-exclamation-circle\"></i>\r\n                        </td>\r\n                        <td>\r\n                          <!-- Boton -->\r\n                          <button type=\"button\" *ngIf=\"item.Id_Producto_Remision!=''\" [swal]=\"{ title : '¿Está Seguro?', text : 'Se dispone a Eliminar este Producto de la Remisión, esta acción no tiene vuelta atrás' , type : 'warning', showCancelButton : true , confirmButtonText : 'Si, Guardar', cancelButtonText : 'No, Dejame Comprobar!' }\"\r\n                (confirm)=\"EliminaProductoFinal(i,item.Id_Producto_Remision)\" class=\" btn btn-mini btn-danger\">\r\n                            <span>\r\n                              <i class=\"fa fa-trash-o\"></i>\r\n                            </span>\r\n                          </button>\r\n\r\n                          <button *ngIf=\"item.Id_Producto_Remision==''\" class=\" btn btn-mini btn-danger\" (click)=\"EliminarProductoRemsion(i)\">\r\n                            <span>\r\n                              <i class=\"fa fa-trash-o\"></i>\r\n                            </span>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n\r\n              </div>\r\n            </div>\r\n            <div class=\"row\" [ngStyle]=\"{ 'display': display_Cliente }\" >\r\n              <div class=\"col-sm-12\">\r\n                  <table class=\"table table-responsive invoice-table invoice-total\" >\r\n                      <tbody>\r\n                        <tr>\r\n                          <th>Subtotal:</th>\r\n                          <td>{{ Subtotal_Remision | currency }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Descuento:</th>\r\n                          <td>{{ Descuento_Remision | currency }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Impuestos:</th>\r\n                          <td>{{ Impuesto_Remision | currency }}</td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Precio Total:</th>\r\n                          <td>{{ Costo_Remision | currency }}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                  </table>\r\n              </div>\r\n          </div>\r\n\r\n            <hr>\r\n\r\n            <div class=\"text-right mrg-top-5\">\r\n              <button type=\"button\" class=\"btn btn-primary btn-sm btn-block\" (click)=\"showAlert($event)\">Actualizar Remisión</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n<ng-template #rt let-r=\"result\" let-t=\"term\">\r\n  <span class=\"f-9\">{{ r.Nombre }} </span>\r\n</ng-template>\r\n<swal #confirmacionSwal title=\"\" html=\"\" type=\"\"></swal>\r\n\r\n<swal #confirmacionSalir title=\"\" html=\"\" type=\"\" (confirm)=\"VerPantallaLista()\"></swal>\r\n<swal #confirmacionGuardar (confirm)=\"save()\" [swalOptions]=\"alertOption\" ></swal>\r\n\r\n"],"sourceRoot":"webpack:///"}