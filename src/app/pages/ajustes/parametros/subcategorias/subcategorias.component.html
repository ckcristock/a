<div class="page-body">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-md-8">
                            <h5>Subcategorías</h5>
                            <span>Todas las Subcategorías Registradas</span>
                        </div>
                        <div class="col-md-4 ">
                            <button type="button" class="pull-right btn btn-primary btn-sm t-10" (click)="modalNuevoEgreso.show()">
                            <i class="fa fa-plus"></i>
                            Agregar Nueva Subcategoría
                        </button>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-12">
                            <table class="table table-striped" style="font-size: 10px;">
                                <thead>
                                    <tr>

                                        <th>Nombre</th>

                                        <th style="max-width: 90px;">¿Es Separable?</th>

                                        <th style="max-width: 70px; width: 70px !important;">Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngIf="Cargando">
                                        <td colspan="3" class="text-center">
                                            <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
                                            <span class="sr-only">Cargando...</span>
                                            <h4>Cargando Subcategorías...</h4>
                                        </td>
                                    </tr>
                                    <tr *ngIf="Retenciones.length == 0 && !Cargando">
                                        <td colspan="3" class="text-center">
                                            <i class="fa fa-exclamation-circle fa-5x"></i>
                                            <h4>No Existen Subcategorías para mostar</h4>
                                            <a (click)="modalNuevoEgreso.show()" class="btn btn-primary btn-sm"><i
                                          class="fa fa-plus"></i> Cree Una Acá</a>
                                        </td>
                                    </tr>
                                    <tr *ngFor="let item of Retenciones">
                                        <td>
                                            {{item.Nombre}}
                                        </td>
                                        <td>
                                            {{item.Separable}}
                                        </td>
                                        <td>
                                            <div ngbDropdown class="dropdown-primary">
                                                <button ngbDropdownToggle class="btn btn-secondary btn-mini waves-effect waves-light " type="button">Acciones</button>
                                                <div ngbDropdownMenu>
                                                    <a class="dropdown-item waves-light waves-effect caja-botones" (click)="GetDetallesCategoria(item.Id_Subcategoria)">
                                                        <i class="ti-pencil text-warning"></i>Editar
                                                    </a>
                                                    <a class="dropdown-item waves-light waves-effect caja-botones" [swal]="{ title : '¿Está Seguro?', text : 'Se dispone a Eliminar esta Subcategoria, esta acción no se puede revertir' , type : 'warning', showCancelButton : true , confirmButtonText : 'Si, Eliminar', cancelButtonText : 'No, Dejame Comprobar!' }"
                                                        (confirm)="EliminarRetencion(item.Id_subcategoria)">
                                                        <i class="fa fa-times text-danger"></i>Eliminar</a>

                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-modal-basic #modalNuevoEgreso [dialogClass]="'modal-lg'">
    <div class="app-modal-header">
        <h4 class="modal-title">Nueva Subcategoria </h4>
        <button type="button" class="close basic-close" (click)="CerrarModal()">
        <span aria-hidden="true">&times;</span>
    </button>
    </div>
    <div class="app-modal-body">
        <form #FormNuevaRetencion="ngForm">

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Nombre </label>
                        <input type="text" name="Nombre" placeholder="" class="form-control form-control-sm" [(ngModel)]="Retencion.Nombre" required>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="form-group">
                        <label>¿Es separable?</label>
                        <select name="Separable" id="Separable" class="form-control form-control-sm" [(ngModel)]="Retencion.Separable">
                      <option value="Si">Si</option>
                      <option value="No">No</option>
                  </select>
                    </div>

                </div>

            </div>

        </form>
    </div>
    <div class="app-modal-footer">
        <div class="text-right">
            <button type="button" class="btn btn-default btn-sm" (click)="CerrarModal()">Cancelar</button>
            <button type="submit" [disabled]="!FormNuevaRetencion.valid" class="btn btn-primary btn-sm" (click)="GuardarRetencion(modalNuevoEgreso)">Guardar</button>
        </div>
    </div>
</app-modal-basic>
<swal #confirmacionSwal title="" text="" type=""></swal>
<ng-template #rt1 let-r="result" let-t="term">
    <span class="f-9">{{ r.Codigo }} </span>
</ng-template>